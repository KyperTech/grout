/*! grout.js v0.1.9 | (c) Kyper Digital Inc. */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Grout=e():t.Grout=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(6),u=r(s),c=n(17),l=r(c),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var h=n(8),p=r(h),d=n(131),g=r(d),v=n(129),m=r(v),y=n(128),b=r(y),w=n(7),_=r(w),E=n(71),j=r(E),S=_.default.utils.logger,A=function(t){function e(t,n){i(this,e);var r=t&&(0,l.default)(t)?t:p.default.defaultProject,a=n&&(0,u.default)(n)?n:p.default.matterSettings;return(0,u.default)(t)&&(a=t),p.default.applySettings(a),o(this,Object.getPrototypeOf(e).call(this,r,p.default.matterSettings))}return a(e,t),f(e,[{key:"Project",value:function(t,e){var n=new m.default(t,e);return S.debug({description:"Project action called.",owner:t,name:e,project:n,func:"Project",obj:"Grout"}),n}},{key:"Account",value:function(t){var e=new j.default("accounts/"+t,this);return S.debug({description:"Account ApiAction called.",username:t,action:e,func:"Account",obj:"Grout"}),e}},{key:"Group",value:function(t){var e=new b.default(t,this);return S.debug({description:"Group ApiAction called.",groupName:t,action:e,func:"group",obj:"Grout"}),e}},{key:"Template",value:function(t){var e=new j.default("templates/"+t,this);return S.debug({description:"Template ApiAction called.",templateName:t,action:e,func:"Template",obj:"Grout"}),e}},{key:"Projects",get:function(){var t=new j.default("projects",this);return S.debug({description:"Projects ApiAction called.",action:t,func:"Projects",obj:"Grout"}),t}},{key:"Accounts",get:function(){var t=new j.default("accounts",this);return S.debug({description:"Account ApiAction called.",action:t,func:"Accounts",obj:"Grout"}),t}},{key:"Groups",get:function(){var t=new j.default("groups",this);return S.debug({description:"Groups ApiAction called.",action:t,func:"groups",obj:"Grout"}),t}},{key:"Templates",get:function(){var t=new j.default("templates",this);return S.debug({description:"Templates ApiAction called.",action:t,func:"Templates",obj:"Grout"}),t}}]),e}(g.default);e.default=A,t.exports=e.default},function(t,e,n){var r={util:n(2)},i={};i.toString(),t.exports=r,r.util.update(r,{VERSION:"2.2.32",Signers:{},Protocol:{Json:n(24),Query:n(51),Rest:n(19),RestJson:n(52),RestXml:n(53)},XML:{Builder:n(121),Parser:null},JSON:{Builder:n(22),Parser:n(23)},Model:{Api:n(46),Operation:n(48),Shape:n(9),Paginator:n(49),ResourceWaiter:n(50)},util:n(2),apiLoader:function(){throw new Error("No API loader set")}}),n(111),n(42),n(43),n(95),n(96),n(89),n(93),n(88),n(18),n(54),n(100),n(107),n(109),n(108),n(114),n(104),r.events=new r.SequentialExecutor},function(t,e,n){(function(e){var r,i=n(173),o=n(3).Buffer,a={engine:function(){return a.isBrowser()&&"undefined"!=typeof navigator?navigator.userAgent:e.platform+"/"+e.version},userAgent:function(){var t=a.isBrowser()?"js":"nodejs",e="aws-sdk-"+t+"/"+n(1).VERSION;return"nodejs"===t&&(e+=" "+a.engine()),e},isBrowser:function(){return e&&e.browser},isNode:function(){return!a.isBrowser()},nodeRequire:function(t){return a.isNode()?n(13)(t):void 0},multiRequire:function(t,e){return n(13)(a.isNode()?t:e)},uriEscape:function(t){var e=encodeURIComponent(t);return e=e.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),e=e.replace(/[*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(t){var e=[];return a.arrayEach(t.split("/"),function(t){e.push(a.uriEscape(t))}),e.join("/")},urlParse:function(t){return n(70).parse(t)},urlFormat:function(t){return n(70).format(t)},queryStringParse:function(t){return n(310).parse(t)},queryParamsToString:function(t){var e=[],n=a.uriEscape,r=Object.keys(t).sort();return a.arrayEach(r,function(r){var i=t[r],o=n(r),s=o+"=";if(Array.isArray(i)){var u=[];a.arrayEach(i,function(t){u.push(n(t))}),s=o+"="+u.sort().join("&"+o+"=")}else void 0!==i&&null!==i&&(s=o+"="+n(i));e.push(s)}),e.join("&")},readFileSync:function(t){return"undefined"!=typeof window?null:a.nodeRequire("fs").readFileSync(t,"utf-8")},base64:{encode:function(t){return new o(t).toString("base64")},decode:function(t){return new o(t,"base64")}},Buffer:o,buffer:{toStream:function(t){a.Buffer.isBuffer(t)||(t=new a.Buffer(t));var e=new(a.nodeRequire("stream").Readable),n=0;return e._read=function(r){if(n>=t.length)return e.push(null);var i=n+r;i>t.length&&(i=t.length),e.push(t.slice(n,i)),n=i},e},concat:function(t){var e,n=0,r=0,i=null;for(e=0;e<t.length;e++)n+=t[e].length;for(i=new o(n),e=0;e<t.length;e++)t[e].copy(i,r),r+=t[e].length;return i}},string:{byteLength:function(t){if(null===t||void 0===t)return 0;if("string"==typeof t&&(t=new o(t)),"number"==typeof t.byteLength)return t.byteLength;if("number"==typeof t.length)return t.length;if("number"==typeof t.size)return t.size;if("string"==typeof t.path)return a.nodeRequire("fs").lstatSync(t.path).size;throw a.error(new Error("Cannot determine length of "+t),{object:t})},upperFirst:function(t){return t[0].toUpperCase()+t.substr(1)},lowerFirst:function(t){return t[0].toLowerCase()+t.substr(1)}},ini:{parse:function(t){var e,n={};return a.arrayEach(t.split(/\r?\n/),function(t){t=t.split(/(^|\s);/)[0];var r=t.match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)e=r[1];else if(e){var i=t.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(n[e]=n[e]||{},n[e][i[1]]=i[2])}}),n}},fn:{noop:function(){},makeAsync:function(t,e){return e&&e<=t.length?t:function(){var e=Array.prototype.slice.call(arguments,0),n=e.pop(),r=t.apply(null,e);n(r)}}},jamespath:{query:function(t,e){if(!e)return[];var n=[],r=t.split(/\s+\|\|\s+/);return a.arrayEach.call(this,r,function(t){var r=[e],i=t.split(".");return a.arrayEach.call(this,i,function(t){var e=t.match("^(.+?)(?:\\[(-?\\d+|\\*|)\\])?$"),n=[];return a.arrayEach.call(this,r,function(t){"*"===e[1]?a.arrayEach.call(this,t,function(t){n.push(t)}):t.hasOwnProperty(e[1])&&n.push(t[e[1]])}),r=n,void 0!==e[2]&&(n=[],a.arrayEach.call(this,r,function(t){if(Array.isArray(t))if("*"===e[2]||""===e[2])n=n.concat(t);else{var r=parseInt(e[2],10);0>r&&(r=t.length+r),n.push(t[r])}}),r=n),0===r.length?a.abort:void 0}),r.length>0?(n=r,a.abort):void 0}),n},find:function(t,e){return a.jamespath.query(t,e)[0]}},date:{getDate:function(){return r||(r=n(1)),r.config.systemClockOffset?new Date((new Date).getTime()+r.config.systemClockOffset):new Date},iso8601:function(t){return void 0===t&&(t=a.date.getDate()),t.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(t){return void 0===t&&(t=a.date.getDate()),t.toUTCString()},unixTimestamp:function(t){return void 0===t&&(t=a.date.getDate()),t.getTime()/1e3},from:function(t){return"number"==typeof t?new Date(1e3*t):new Date(t)},format:function(t,e){return e||(e="iso8601"),a.date[e](a.date.from(t))},parseTimestamp:function(t){if("number"==typeof t)return new Date(1e3*t);if(t.match(/^\d+$/))return new Date(1e3*t);if(t.match(/^\d{4}/))return new Date(t);if(t.match(/^\w{3},/))return new Date(t);throw a.error(new Error("unhandled timestamp format: "+t),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(t){var e=a.crypto.crc32Table,n=-1;"string"==typeof t&&(t=new o(t));for(var r=0;r<t.length;r++){var i=t.readUInt8(r);n=n>>>8^e[255&(n^i)]}return(-1^n)>>>0},hmac:function(t,e,n,r){return n||(n="binary"),"buffer"===n&&(n=void 0),r||(r="sha256"),"string"==typeof e&&(e=new o(e)),i.createHmac(r,t).update(e).digest(n)},md5:function(t,e,n){return a.crypto.hash("md5",t,e,n)},sha256:function(t,e,n){return a.crypto.hash("sha256",t,e,n)},hash:function(t,e,n,r){var i=a.crypto.createHash(t);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof e&&(e=new o(e));var s=a.arraySliceFn(e),u=o.isBuffer(e);if(a.isBrowser()&&"undefined"!=typeof ArrayBuffer&&e&&e.buffer instanceof ArrayBuffer&&(u=!0),r&&"object"==typeof e&&"function"==typeof e.on&&!u)e.on("data",function(t){i.update(t)}),e.on("error",function(t){r(t)}),e.on("end",function(){r(null,i.digest(n))});else{if(!r||!s||u||"undefined"==typeof FileReader){a.isBrowser()&&"object"==typeof e&&!u&&(e=new o(new Uint8Array(e)));var c=i.update(e).digest(n);return r&&r(null,c),c}var l=0,f=524288,h=new FileReader;h.onerror=function(){r(new Error("Failed to read data."))},h.onload=function(){var t=new o(new Uint8Array(h.result));i.update(t),l+=t.length,h._continueReading()},h._continueReading=function(){if(l>=e.size)return void r(null,i.digest(n));var t=l+f;t>e.size&&(t=e.size),h.readAsArrayBuffer(s.call(e,l,t))},h._continueReading()}},toHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push(("0"+t.charCodeAt(n).toString(16)).substr(-2,2));return e.join("")},createHash:function(t){return i.createHash(t)}},abort:{},each:function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=e.call(this,n,t[n]);if(r===a.abort)break}},arrayEach:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=e.call(this,t[n],parseInt(n,10));if(r===a.abort)break}},update:function(t,e){return a.each(e,function(e,n){t[e]=n}),t},merge:function(t,e){return a.update(a.copy(t),e)},copy:function(t){if(null===t||void 0===t)return t;var e={};for(var n in t)e[n]=t[n];return e},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},arraySliceFn:function(t){var e=t.slice||t.webkitSlice||t.mozSlice;return"function"==typeof e?e:null},isType:function(t,e){return"function"==typeof e&&(e=a.typeName(e)),Object.prototype.toString.call(t)==="[object "+e+"]"},typeName:function(t){if(t.hasOwnProperty("name"))return t.name;var e=t.toString(),n=e.match(/^\s*function (.+)\(/);return n?n[1]:e},error:function(t,e){var n=null;return"string"==typeof t.message&&""!==t.message&&("string"==typeof e||e&&e.message)&&(n=a.copy(t),n.message=t.message),t.message=t.message||null,"string"==typeof e?t.message=e:"object"==typeof e&&null!==e&&(a.update(t,e),e.message&&(t.message=e.message),(e.code||e.name)&&(t.code=e.code||e.name),e.stack&&(t.stack=e.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(t,"name",{writable:!0,enumerable:!1}),Object.defineProperty(t,"message",{enumerable:!0})),t.name=e&&e.name||t.name||t.code||"Error",t.time=new Date,n&&(t.originalError=n),t},inherit:function(t,e){var n=null;if(void 0===e)e=t,t=Object,n={};else{var r=function(){};r.prototype=t.prototype,n=new r}return e.constructor===Object&&(e.constructor=function(){return t!==Object?t.apply(this,arguments):void 0}),e.constructor.prototype=n,a.update(e.constructor.prototype,e),e.constructor.__super__=t,e.constructor},mixin:function(){for(var t=arguments[0],e=1;e<arguments.length;e++)for(var n in arguments[e].prototype){var r=arguments[e].prototype[n];"constructor"!==n&&(t.prototype[n]=r)}return t},hideProperties:function(t,e){"function"==typeof Object.defineProperty&&a.arrayEach(e,function(e){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0})})},property:function(t,e,n,r,i){var o={configurable:!0,enumerable:void 0!==r?r:!0};"function"!=typeof n||i?(o.value=n,o.writable=!0):o.get=n,Object.defineProperty(t,e,o)},memoizedProperty:function(t,e,n,r){var i=null;a.property(t,e,function(){return null===i&&(i=n()),i},r)},hoistPayloadMember:function(t){var e=t.request,n=e.operation,r=e.service.api.operations[n].output;if(r.payload){var i=r.members[r.payload],o=t.data[r.payload];"structure"===i.type&&a.each(o,function(e,n){a.property(t.data,e,n,!1)})}},computeSha256:function(t,e){if(a.isNode()){var n=a.nodeRequire("stream").Stream,r=a.nodeRequire("fs");if(t instanceof n){if("string"!=typeof t.path)return e(new Error("Non-file stream objects are not supported with SigV4"));t=r.createReadStream(t.path)}}a.crypto.sha256(t,"hex",function(t,n){t?e(t):e(null,n)})},isClockSkewed:function(t){return t?(a.property(r.config,"isClockSkewed",Math.abs((new Date).getTime()-t)>=3e5,!1),r.config.isClockSkewed):void 0},applyClockOffset:function(t){t&&(r.config.systemClockOffset=t-(new Date).getTime())},extractRequestId:function(t){var e=t.httpResponse.headers["x-amz-request-id"]||t.httpResponse.headers["x-amzn-requestid"];!e&&t.data&&t.data.ResponseMetadata&&(e=t.data.ResponseMetadata.RequestId),e&&(t.requestId=e),t.error&&(t.error.requestId=e)}};t.exports=a}).call(e,n(5))},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function a(e,n){if(e=g(e,0>n?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)e[r]=0;return e}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|y(e,n);return t=g(t,r),t.write(e,n),t}function u(e,n){if(t.isBuffer(n))return c(e,n);if(Q(n))return l(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return f(e,n);if(n instanceof ArrayBuffer)return h(e,n)}return n.length?p(e,n):d(e,n)}function c(t,e){var n=0|v(e.length);return t=g(t,n),e.copy(t,0,0,n),t}function l(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function f(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=f(e,new Uint8Array(n)),e}function p(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function d(t,e){var n,r=0;"Buffer"===e.type&&Q(e.data)&&(n=e.data,r=0|v(n.length)),t=g(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function g(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var r=0!==n&&n<=t.poolSize>>>1;return r&&(e.parent=$),e}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(e,n){if(!(this instanceof m))return new m(e,n);var r=new t(e,n);return delete r.parent,r}function y(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return W(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return k(this,e,n);case"binary":return R(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function _(t,e,n,r){return G(W(e,t.length-n),t,n,r)}function E(t,e,n,r){return G(z(e),t,n,r)}function j(t,e,n,r){return E(t,e,n,r)}function S(t,e,n,r){return G(V(e),t,n,r)}function A(t,e,n,r){return G(X(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;n>i;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var u,c,l,f;switch(s){case 1:128>o&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(55296>f||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&1114112>f&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return C(r)}function C(t){var e=t.length;if(J>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=J));return n}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=H(t[o]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function q(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function F(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function N(t,e,n,r,i){return i||F(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,i){return i||F(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(t,e,n,r,52,8),n+8}function U(t){if(t=B(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return 16>t?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(t){return K.toByteArray(U(t))}function G(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var K=n(289),Y=n(290),Q=n(291);e.Buffer=t,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var $={};t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);a>o&&e[o]===n[o];)++o;return o!==a&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(i,o),o+=a.length}return i},t.byteLength=y,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):b.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return E(this,t,e,n);case"binary":return j(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,void 0);for(var a=0;o>a;a++)i[a]=this[a+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||P(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),Y.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),Y.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),Y.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),Y.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||L(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||L(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):q(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):q(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):D(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):q(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):q(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):D(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&n>r&&i>n)for(o=a-1;o>=0;o--)e[o+n]=this[o+r];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+n]=this[o+r];else e._set(this.subarray(r,r+a),n);return a},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=W(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(3).Buffer,function(){return this}())},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(){c=!1,a.length?u=a.concat(u):l=-1,u.length&&r()}function r(){if(!c){var t=setTimeout(n);c=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var a,s=t.exports={},u=[],c=!1,l=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=r(i),a=n(131),s=r(a);e.default=new s.default(o.default.defaultProject,o.default.matterSettings),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(137),a=r(o),s=n(31),u=r(s),c=n(270),l=r(c),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var h={envs:{local:{isLocal:!0,serverUrl:"http://localhost:4000",logLevel:"trace"},dev:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"debug"},stage:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"info"},prod:{serverUrl:"http://tessellate.elasticbeanstalk.com",logLevel:"error"}},defaultServerUrl:"http://tessellate.elasticbeanstalk.com",tokenName:"grout",fbUrl:"https://kyper-tech.firebaseio.com/tessellate",defaultProject:"tessellate",aws:{region:"us-east-1",cognito:{poolId:"us-east-1:72a20ffd-c638-48b0-b234-3312b3e64b2e",params:{AuthRoleArn:"arn:aws:iam::823322155619:role/Cognito_TessellateUnauth_Role",UnauthRoleArn:"arn:aws:iam::823322155619:role/Cognito_TessellateAuth_Role"}}}},p=null,d="prod",g=null,v=!1,m=function(){function t(){return i(this,t),p||(p=this),(0,l.default)(p,h)}return f(t,[{key:"applySettings",value:function(t){t&&(0,l.default)(p,t)}},{key:"serverUrl",get:function(){var t=h.envs[d].serverUrl||defaultServerUrl;if("undefined"!=typeof window&&(0,u.default)(window,"location")&&(0,u.default)(window.location,"host")&&""!==window.location.host){var e=(0,a.default)(h.envs,function(t){return t.serverUrl===window.location.host});e&&(t="")}return t}},{key:"logLevel",set:function(t){g=t},get:function(){return g?g:h.envs[d].logLevel}},{key:"envName",set:function(t){d=t}},{key:"env",get:function(){return h.envs[d]?h.envs[d]:void 0}},{key:"localServer",get:function(){return h.envs[d].isLocal||v}},{key:"matterSettings",get:function(){return{serverUrl:this.serverUrl,logLevel:this.logLevel,localServer:this.localServer}}}]),t}(),y=new m;e.default=y,t.exports=e.default},function(t,e,n){function r(t,e,n){null!==n&&void 0!==n&&y.property.apply(this,arguments)}function i(t,e){t.constructor.prototype[e]||y.memoizedProperty.apply(this,arguments)}function o(t,e,n){e=e||{},r(this,"shape",t.shape),r(this,"api",e.api,!1),r(this,"type",t.type),r(this,"enum",t.enum),r(this,"min",t.min),r(this,"max",t.max),r(this,"pattern",t.pattern),r(this,"location",t.location||this.location||"body"),r(this,"name",this.name||t.xmlName||t.queryName||t.locationName||n),r(this,"isStreaming",t.streaming||this.isStreaming||!1),r(this,"isComposite",t.isComposite||!1),r(this,"isShape",!0,!1),r(this,"isQueryName",t.queryName?!0:!1,!1),r(this,"isLocationName",t.locationName?!0:!1,!1),e.documentation&&(r(this,"documentation",t.documentation),r(this,"documentationUrl",t.documentationUrl)),t.xmlAttribute&&r(this,"isXmlAttribute",t.xmlAttribute||!1),r(this,"defaultValue",null),this.toWireFormat=function(t){return null===t||void 0===t?"":t},this.toType=function(t){return t}}function a(t){o.apply(this,arguments),r(this,"isComposite",!0),t.flattened&&r(this,"flattened",t.flattened||!1)}function s(t,e){var n=null,s=!this.isShape;a.apply(this,arguments),s&&(r(this,"defaultValue",function(){return{}}),r(this,"members",{}),r(this,"memberNames",[]),r(this,"required",[]),r(this,"isRequired",function(){return!1})),t.members&&(r(this,"members",new m(t.members,e,function(t,n){return o.create(n,e,t)})),i(this,"memberNames",function(){return t.xmlOrder||Object.keys(t.members)})),t.required&&(r(this,"required",t.required),r(this,"isRequired",function(e){if(!n){n={};for(var r=0;r<t.required.length;r++)n[t.required[r]]=!0}return n[e]},!1,!0)),r(this,"resultWrapper",t.resultWrapper||null),t.payload&&r(this,"payload",t.payload),"string"==typeof t.xmlNamespace?r(this,"xmlNamespaceUri",t.xmlNamespace):"object"==typeof t.xmlNamespace&&(r(this,"xmlNamespacePrefix",t.xmlNamespace.prefix),r(this,"xmlNamespaceUri",t.xmlNamespace.uri))}function u(t,e){var n=this,s=!this.isShape;if(a.apply(this,arguments),s&&r(this,"defaultValue",function(){return[]}),t.member&&i(this,"member",function(){return o.create(t.member,e)}),this.flattened){var u=this.name;i(this,"name",function(){return n.member.name||u})}}function c(t,e){var n=!this.isShape;a.apply(this,arguments),n&&(r(this,"defaultValue",function(){return{}}),r(this,"key",o.create({type:"string"},e)),r(this,"value",o.create({type:"string"},e))),t.key&&i(this,"key",function(){return o.create(t.key,e)}),t.value&&i(this,"value",function(){return o.create(t.value,e)})}function l(t){var e=this;if(o.apply(this,arguments),"header"===this.location)r(this,"timestampFormat","rfc822");else if(t.timestampFormat)r(this,"timestampFormat",t.timestampFormat);else if(this.api)if(this.api.timestampFormat)r(this,"timestampFormat",this.api.timestampFormat);else switch(this.api.protocol){case"json":case"rest-json":r(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":r(this,"timestampFormat","iso8601")}this.toType=function(t){return null===t||void 0===t?null:"function"==typeof t.toUTCString?t:"string"==typeof t||"number"==typeof t?y.date.parseTimestamp(t):null},this.toWireFormat=function(t){return y.date.format(t,e.timestampFormat)}}function f(){if(o.apply(this,arguments),this.api)switch(this.api.protocol){case"rest-xml":case"query":case"ec2":this.toType=function(t){return t||""}}}function h(){o.apply(this,arguments),this.toType=function(t){return null===t||void 0===t?null:parseFloat(t)},this.toWireFormat=this.toType}function p(){o.apply(this,arguments),this.toType=function(t){return null===t||void 0===t?null:parseInt(t,10)},this.toWireFormat=this.toType}function d(){o.apply(this,arguments),this.toType=y.base64.decode,this.toWireFormat=y.base64.encode}function g(){d.apply(this,arguments)}function v(){o.apply(this,arguments),this.toType=function(t){return"boolean"==typeof t?t:null===t||void 0===t?null:"true"===t}}var m=n(47),y=n(2);o.normalizedTypes={character:"string","double":"float","long":"integer","short":"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},o.types={structure:s,list:u,map:c,"boolean":v,timestamp:l,"float":h,integer:p,string:f,base64:g,binary:d},o.resolve=function(t,e){if(t.shape){var n=e.api.shapes[t.shape];if(!n)throw new Error("Cannot find shape reference: "+t.shape);return n}return null},o.create=function(t,e,n){if(t.isShape)return t;var r=o.resolve(t,e);if(r){var i=Object.keys(t);if(e.documentation||(i=i.filter(function(t){return!t.match(/documentation/)})),i===["shape"])return r;var a=function(){r.constructor.call(this,t,e,n)};return a.prototype=r,new a}t.type||(t.members?t.type="structure":t.member?t.type="list":t.key?t.type="map":t.type="string");var s=t.type;if(o.normalizedTypes[t.type]&&(t.type=o.normalizedTypes[t.type]),o.types[t.type])return new o.types[t.type](t,e,n);throw new Error("Unrecognized shape type: "+s)},o.shapes={StructureShape:s,ListShape:u,MapShape:c,StringShape:f,BooleanShape:v,Base64Shape:g},t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t&&console[t]?console[t].apply(console,e):console.log.apply(console,e)}function o(t){var e="",n={};c.default.isObject(t)?("error"!==s.default.logLevel&&c.default.has(t,"func")&&(e+=c.default.has(t,"obj")?"["+t.obj+"."+t.func+"()]\n ":c.default.has(t,"file")?"["+t.file+" > "+t.func+"()]\n ":"["+t.func+"()]\n "),c.default.each(c.default.omit(c.default.keys(t)),function(r){"func"!=r&&"obj"!=r&&("description"==r||"message"==r?e+=t[r]:c.default.isString(t[r])?n[r]=t[r]:n[r]=t[r])}),e+="\n"):c.default.isString(t)&&(e=t);var r=[e,n];return r}Object.defineProperty(e,"__esModule",{value:!0});var a=n(29),s=r(a),u=n(14),c=r(u),l={log:function(t){var e=o(t);"trace"===s.default.logLevel&&i("log",e)},debug:function(t){var e=o(t);("trace"===s.default.logLevel||"debug"===s.default.logLevel)&&i("debug",e)},info:function(t){if("trace"===s.default.logLevel||"debug"===s.default.logLevel||"info"===s.default.logLevel){var e=o(t);i("info",e)}},warn:function(t){var e=o(t);("trace"===s.default.logLevel||"debug"===s.default.logLevel||"info"===s.default.logLevel||"warn"===s.default.logLevel)&&i("warn",e)},error:function(t){var e=o(t);("trace"===s.default.logLevel||"debug"===s.default.logLevel||"info"===s.default.logLevel||"warn"===s.default.logLevel||"error"===s.default.logLevel||"fatal"===s.default.logLevel)&&i("error",e)}};e.default=l,t.exports=e.default},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){function r(t){return this instanceof r?(u.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}function o(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}t.exports=r;var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},s=n(26);s.inherits=n(27);var u=n(177),c=n(125);s.inherits(r,u),o(a(c.prototype),function(t){r.prototype[t]||(r.prototype[t]=c.prototype[t])})}).call(e,n(5))},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./api_loader":41,"./api_loader.js":41,"./aws":169,"./aws.js":169,"./browser":86,"./browser.js":86,"./cloudfront/signer":87,"./cloudfront/signer.js":87,"./config":88,"./config.js":88,"./core":1,"./core.js":1,"./credentials":42,"./credentials.js":42,"./credentials/cognito_identity_credentials":89,"./credentials/cognito_identity_credentials.js":89,"./credentials/credential_provider_chain":43,"./credentials/credential_provider_chain.js":43,"./credentials/ec2_metadata_credentials":90,"./credentials/ec2_metadata_credentials.js":90,"./credentials/environment_credentials":91,"./credentials/environment_credentials.js":91,"./credentials/file_system_credentials":92,"./credentials/file_system_credentials.js":92,"./credentials/saml_credentials":93,"./credentials/saml_credentials.js":93,"./credentials/shared_ini_file_credentials":94,"./credentials/shared_ini_file_credentials.js":94,"./credentials/temporary_credentials":95,"./credentials/temporary_credentials.js":95,"./credentials/web_identity_credentials":96,"./credentials/web_identity_credentials.js":96,"./dynamodb/converter":97,"./dynamodb/converter.js":97,"./dynamodb/document_client":98,"./dynamodb/document_client.js":98,"./dynamodb/set":44,"./dynamodb/set.js":44,"./dynamodb/translator":99,"./dynamodb/translator.js":99,"./dynamodb/types":45,"./dynamodb/types.js":45,"./event_listeners":100,"./event_listeners.js":100,"./http":18,"./http.js":18,"./http/node":101,"./http/node.js":101,"./http/xhr":102,"./http/xhr.js":102,"./json/builder":22,"./json/builder.js":22,"./json/parser":23,"./json/parser.js":23,"./metadata_service":103,"./metadata_service.js":103,"./model/api":46,"./model/api.js":46,"./model/collection":47,"./model/collection.js":47,"./model/operation":48,"./model/operation.js":48,"./model/paginator":49,"./model/paginator.js":49,"./model/resource_waiter":50,"./model/resource_waiter.js":50,"./model/shape":9,"./model/shape.js":9,"./param_validator":104,"./param_validator.js":104,"./protocol/json":24,"./protocol/json.js":24,"./protocol/query":51,"./protocol/query.js":51,"./protocol/rest":19,"./protocol/rest.js":19,"./protocol/rest_json":52,"./protocol/rest_json.js":52,"./protocol/rest_xml":53,"./protocol/rest_xml.js":53,"./query/query_param_serializer":105,"./query/query_param_serializer.js":105,"./region_config":106,"./region_config.js":106,"./region_config.json":170,"./request":107,"./request.js":107,"./resource_waiter":108,"./resource_waiter.js":108,"./response":109,"./response.js":109,"./s3/managed_upload":110,"./s3/managed_upload.js":110,"./sequential_executor":54,"./sequential_executor.js":54,"./service":111,"./service.js":111,
"./services":112,"./services.js":112,"./services/apigateway":55,"./services/apigateway.js":55,"./services/cloudfront":56,"./services/cloudfront.js":56,"./services/cloudsearchdomain":57,"./services/cloudsearchdomain.js":57,"./services/cognitoidentity":58,"./services/cognitoidentity.js":58,"./services/dynamodb":59,"./services/dynamodb.js":59,"./services/ec2":60,"./services/ec2.js":60,"./services/glacier":61,"./services/glacier.js":61,"./services/iotdata":62,"./services/iotdata.js":62,"./services/machinelearning":63,"./services/machinelearning.js":63,"./services/route53":64,"./services/route53.js":64,"./services/s3":65,"./services/s3.js":65,"./services/sqs":66,"./services/sqs.js":66,"./services/sts":67,"./services/sts.js":67,"./services/swf":68,"./services/swf.js":68,"./signers/presign":113,"./signers/presign.js":113,"./signers/request_signer":114,"./signers/request_signer.js":114,"./signers/s3":115,"./signers/s3.js":115,"./signers/v2":116,"./signers/v2.js":116,"./signers/v3":69,"./signers/v3.js":69,"./signers/v3https":117,"./signers/v3https.js":117,"./signers/v4":118,"./signers/v4.js":118,"./state_machine":119,"./state_machine.js":119,"./util":2,"./util.js":2,"./xml/browser_parser":120,"./xml/browser_parser.js":120,"./xml/builder":121,"./xml/builder.js":121,"./xml/node_parser":122,"./xml/node_parser.js":122};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=13},function(t,e,n){t.exports=n(269)},function(t,e,n){(function(e){var r=n(79),i=r(e,"Map");t.exports=i}).call(e,function(){return this}())},function(t,e){function n(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!==t||null==t}t.exports=n},function(t,e,n){(function(e){function r(t){return"string"==typeof t||!i(t)&&o(t)&&u.call(t)==a}var i=n(4),o=n(11),a="[object String]",s=e.Object.prototype,u=s.toString;t.exports=r}).call(e,function(){return this}())},function(t,e,n){var r=n(1),i=r.util.inherit;r.Endpoint=i({constructor:function(t,e){if(r.util.hideProperties(this,["slashes","auth","hash","search","query"]),"undefined"==typeof t||null===t)throw new Error("Invalid endpoint: "+t);if("string"!=typeof t)return r.util.copy(t);if(!t.match(/^http/)){var n=e&&void 0!==e.sslEnabled?e.sslEnabled:r.config.sslEnabled;t=(n?"https":"http")+"://"+t}r.util.update(this,r.util.urlParse(t)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),r.HttpRequest=i({constructor:function(t,e,n){t=new r.Endpoint(t),this.method="POST",this.path=t.path||"/",this.headers={},this.body="",this.endpoint=t,this.region=e,this.setUserAgent(n)},setUserAgent:function(t){var e=r.util.isBrowser()?"X-Amz-":"",n="";"string"==typeof t&&t&&(n+=" "+t),this.headers[e+"User-Agent"]=r.util.userAgent()+n},pathname:function(){return this.path.split("?",1)[0]},search:function(){var t=this.path.split("?",2)[1];return t?(t=r.util.queryStringParse(t),r.util.queryParamsToString(t)):""}}),r.HttpResponse=i({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),r.HttpClient=i({}),r.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},function(t,e,n){function r(t){t.httpRequest.method=t.service.api.operations[t.operation].httpMethod}function i(t){var e=t.service.api.operations[t.operation],n=e.input,r=[t.httpRequest.endpoint.path,e.httpPath].join("/");r=r.replace(/\/+/g,"/");var i={},o=!1;if(c.each(n.members,function(e,n){var a=t.params[e];if(null!==a&&void 0!==a)if("uri"===n.location){var s=new RegExp("\\{"+n.name+"(\\+)?\\}");r=r.replace(s,function(t,e){var n=e?c.uriEscapePath:c.uriEscape;return n(String(a))})}else"querystring"===n.location&&(o=!0,"list"===n.type?i[n.name]=a.map(function(t){return c.uriEscape(String(t))}):"map"===n.type?c.each(a,function(t,e){Array.isArray(e)?i[t]=e.map(function(t){return c.uriEscape(String(t))}):i[t]=c.uriEscape(String(e))}):i[n.name]=c.uriEscape(String(a)))}),o){r+=r.indexOf("?")>=0?"&":"?";var a=[];c.arrayEach(Object.keys(i).sort(),function(t){Array.isArray(i[t])||(i[t]=[i[t]]);for(var e=0;e<i[t].length;e++)a.push(c.uriEscape(String(t))+"="+i[t][e])}),r+=a.join("&")}t.httpRequest.path=r}function o(t){var e=t.service.api.operations[t.operation];c.each(e.input.members,function(e,n){var r=t.params[e];null!==r&&void 0!==r&&("headers"===n.location&&"map"===n.type?c.each(r,function(e,r){t.httpRequest.headers[n.name+e]=r}):"header"===n.location&&(r=n.toWireFormat(r).toString(),t.httpRequest.headers[n.name]=r))})}function a(t){r(t),i(t),o(t)}function s(){}function u(t){var e=t.request,n={},r=t.httpResponse,i=e.service.api.operations[e.operation],o=i.output,a={};c.each(r.headers,function(t,e){a[t.toLowerCase()]=e}),c.each(o.members,function(t,e){var i=(e.name||t).toLowerCase();if("headers"===e.location&&"map"===e.type){n[t]={};var o=e.isLocationName?e.name:"",s=new RegExp("^"+o+"(.+)","i");c.each(r.headers,function(e,r){var i=e.match(s);null!==i&&(n[t][i[1]]=r)})}else"header"===e.location?void 0!==a[i]&&(n[t]=a[i]):"statusCode"===e.location&&(n[t]=parseInt(r.statusCode,10))}),t.data=n}var c=n(2);t.exports={buildRequest:a,extractError:s,extractData:u}},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(25).EventEmitter,o=n(317);o(r,i),r.Readable=n(314),r.Writable=n(316),r.Duplex=n(311),r.Transform=n(315),r.PassThrough=n(313),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function a(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),t.on("error",s),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e,n){(function(e){function r(t){var e=i(t)?u.call(t):"";return e==o||e==a}var i=n(6),o="[object Function]",a="[object GeneratorFunction]",s=e.Object.prototype,u=s.toString;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(){}function i(t,e){if(e&&void 0!==t&&null!==t)switch(e.type){case"structure":return o(t,e);case"map":return s(t,e);case"list":return a(t,e);default:return u(t,e)}}function o(t,e){var n={};return c.each(t,function(t,r){var o=e.members[t];if(o){if("body"!==o.location)return;var a=o.isLocationName?o.name:t,s=i(r,o);void 0!==s&&(n[a]=s)}}),n}function a(t,e){var n=[];return c.arrayEach(t,function(t){var r=i(t,e.member);void 0!==r&&n.push(r)}),n}function s(t,e){var n={};return c.each(t,function(t,r){var o=i(r,e.value);void 0!==o&&(n[t]=o)}),n}function u(t,e){return e.toWireFormat(t)}var c=n(2);r.prototype.build=function(t,e){return JSON.stringify(i(t,e))},t.exports=r},function(t,e,n){function r(){}function i(t,e){if(e&&void 0!==t)switch(e.type){case"structure":return o(t,e);case"map":return s(t,e);case"list":return a(t,e);default:return u(t,e)}}function o(t,e){if(null!=t){var n={},r=e.members;return c.each(r,function(e,r){var o=r.isLocationName?r.name:e;if(t.hasOwnProperty(o)){var a=t[o],s=i(a,r);void 0!==s&&(n[e]=s)}}),n}}function a(t,e){if(null!=t){var n=[];return c.arrayEach(t,function(t){var r=i(t,e.member);void 0===r?n.push(null):n.push(r)}),n}}function s(t,e){if(null!=t){var n={};return c.each(t,function(t,r){var o=i(r,e.value);void 0===o?n[t]=null:n[t]=o}),n}}function u(t,e){return e.toType(t)}var c=n(2);r.prototype.parse=function(t,e){return i(JSON.parse(t),e)},t.exports=r},function(t,e,n){function r(t){var e=t.httpRequest,n=t.service.api,r=n.targetPrefix+"."+n.operations[t.operation].name,i=n.jsonVersion||"1.0",o=n.operations[t.operation].input,a=new s;1===i&&(i="1.0"),e.body=a.build(t.params||{},o),e.headers["Content-Type"]="application/x-amz-json-"+i,e.headers["X-Amz-Target"]=r}function i(t){var e={},n=t.httpResponse;if(e.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof e.code&&(e.code=e.code.split(":")[0]),n.body.length>0){var r=JSON.parse(n.body.toString());(r.__type||r.code)&&(e.code=(r.__type||r.code).split("#").pop()),"RequestEntityTooLarge"===e.code?e.message="Request body must be less than 1 MB":e.message=r.message||r.Message||null}else e.statusCode=n.statusCode,e.message=n.statusCode.toString();t.error=a.error(new Error,e)}function o(t){var e=t.httpResponse.body.toString()||"{}";if(t.request.service.config.convertResponseTypes===!1)t.data=JSON.parse(e);else{var n=t.request.service.api.operations[t.request.operation],r=n.output||{},i=new u;t.data=i.parse(e,r)}}var a=n(2),s=n(22),u=n(23);t.exports={buildRequest:r,extractError:i,extractData:o}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===v(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===v(t)}function p(t){return"[object Error]"===v(t)||t instanceof Error}function d(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=p,e.isFunction=d,e.isPrimitive=g,e.isBuffer=t.isBuffer}).call(e,n(3).Buffer)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),g=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(x(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(A(n))return l(n)}var m="",y=!1,w=["{","}"];if(d(n)&&(y=!0,w=["[","]"]),x(n)){var _=n.name?": "+n.name:"";m=" [Function"+_+"]"}if(E(n)&&(m=" "+RegExp.prototype.toString.call(n)),S(n)&&(m=" "+Date.prototype.toUTCString.call(n)),A(n)&&(m=" "+l(n)),0===a.length&&(!y||0==n.length))return w[0]+m+w[1];if(0>r)return E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var j;return j=y?f(t,n,r,g,a):a.map(function(e){return h(t,n,r,g,e,y)}),t.seen.pop(),p(j,m,w)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;s>a;++a)O(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function E(t){return j(t)&&"[object RegExp]"===C(t)}function j(t){return"object"==typeof t&&null!==t}function S(t){return j(t)&&"[object Date]"===C(t)}function A(t){return j(t)&&("[object Error]"===C(t)||t instanceof Error)}function x(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function k(t){return 10>t?"0"+t.toString(10):t.toString(10)}function R(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),q[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];o>n;s=r[++n])a+=v(s)||!j(s)?" "+s:" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(_(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var P,L={};e.debuglog=function(t){if(_(P)&&(P=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var n=r.pid;L[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else L[t]=function(){};return L[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=m,e.isNumber=y,e.isString=b,e.isSymbol=w,e.isUndefined=_,e.isRegExp=E,e.isObject=j,e.isDate=S,e.isError=A,e.isFunction=x,e.isPrimitive=T,e.isBuffer=n(323);var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=n(322),e._extend=function(t,e){if(!e||!j(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(5))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),a={envs:{local:{serverUrl:"http://localhost:4000",logLevel:"trace"},dev:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"debug"},stage:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"info"},prod:{serverUrl:"http://tessellate.elasticbeanstalk.com",logLevel:"error"}},tokenName:"tessellate",tokenDataName:"tessellate-tokenData",tokenUserDataName:"tessellate-currentUser",externalAuth:{tessellate:{google:"582741153619-9b3vifnmv2a32v49l63got889tgmnrhs.apps.googleusercontent.com",redirectUrl:"http://localhost:3000/oauth"},devshare:{google:"54741256621-d511263ke51ni32g1jalb9or85ckf5gr.apps.googleusercontent.com",redirectUrl:"http://devshare.io/oauth"}}},s=null,u="prod",c=null,l=function(){function t(){return r(this,t),s||(s=this),(0,o.merge)(s,a)}return i(t,[{key:"applySettings",value:function(t){(0,o.merge)(s,t)}},{key:"serverUrl",get:function(){var t=a.envs[u].serverUrl;if("undefined"!=typeof window&&(0,o.has)(window,"location")&&(0,o.has)(window.location,"host")&&""!==window.location.host){var e=(0,o.find)(a.envs,function(t){return t.serverUrl===window.location.host});e&&(t="")}return t}},{key:"logLevel",set:function(t){c=t},get:function(){return c?c:a.envs[u].logLevel}},{key:"envName",set:function(t){u=t},get:function(){return u}},{key:"env",get:function(){return a.envs[u]?a.envs[u]:void 0}}]),t}(),f=new l;e.default=f,t.exports=e.default},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t,e){return o(t,e,i)}var i=n(77),o=n(162);t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(258),o=n(259),a=n(260),s=n(261),u=n(262);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(30);t.exports=r},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t,e){return t="number"==typeof t||i.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&e>t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var r=n(79),i=r(Object,"create");t.exports=i},function(t,e,n){(function(e){function r(t){return i(t)&&s.call(t,"callee")&&(!c.call(t,"callee")||u.call(t)==o)}var i=n(82),o="[object Arguments]",a=e.Object.prototype,s=a.hasOwnProperty,u=a.toString,c=a.propertyIsEnumerable;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){return null!=t&&!("function"==typeof t&&o(t))&&a(i(t))}var i=n(239),o=n(21),a=n(39);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){var e=c(t);if(!e&&!s(t))return o(t);var n=a(t),r=!!n,l=n||[],f=l.length;for(var h in t)!i(t,h)||r&&("length"==h||u(h,f))||e&&"constructor"==h||l.push(h);return l}var i=n(77),o=n(211),a=n(164),s=n(38),u=n(35),c=n(165);t.exports=r},function(t,e,n){(function(e){function r(){if(null===g){g=n(13)(p.join(d,"metadata.json"));var t={};Object.keys(g).forEach(function(e){g[e].prefix=g[e].prefix||e,t[g[e].prefix]=e}),fs.readdirSync(d).forEach(function(e){var n=e.match(/^(.+?)-(\d+-\d+-\d+)\.(normal|min)\.json$/);if(n){var r=t[n[1]],i=n[2];g[r]&&(g[r].versions=g[r].versions||[],g[r].versions.indexOf(i)<0&&g[r].versions.push(i))}}),Object.keys(g).forEach(function(t){g[t].versions=g[t].versions.sort(),v.push(t),m.push(g[t].name)})}}function i(){return r(),v}function o(){return r(),m}function a(t){return r(),t=h(t),g[t]?g[t].versions:null}function s(t){return r(),t=h(t),g[t]?g[t].name:null}function u(t,e){if(r(),t=h(t),!g[t])return null;var n,i=g[t].prefix||t;return["min","api","normal"].some(function(t){return n=d+"/"+i.toLowerCase()+"-"+e+"."+t+".json",fs.existsSync(n)}),n}function c(t,e){if(r(),t=h(t),!g[t])return null;var n=g[t].prefix||t;return d+"/"+n+"-"+e+".paginators.json"}function l(t,e){if(r(),t=h(t),!g[t])return null;var n=g[t].prefix||t;return d+"/"+n+"-"+e+".waiters.json"}function f(t,e){if(r(),t=h(t),"latest"===e&&(e=null),e=e||g[t].versions[g[t].versions.length-1],!g[t])return null;var i=n(13)(u(t,e));if(fs.existsSync(c(t,e))){var o=n(13)(c(t,e));i.paginators=o.pagination}if(fs.existsSync(l(t,e))){var a=n(13)(l(t,e));i.waiters=a.waiters}return i}function h(t){return t.toLowerCase()}var p=n(123),d=p.join(e,"..","apis"),g=null,v=[],m=[];t.exports={serviceVersions:a,serviceName:s,serviceIdentifier:h,serviceFile:u,load:f},Object.defineProperty(t.exports,"services",{enumerable:!0,get:i}),Object.defineProperty(t.exports,"serviceNames",{enumerable:!0,get:o})}).call(e,"/")},function(t,e,n){var r=n(1);r.Credentials=r.util.inherit({constructor:function(){if(r.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,1===arguments.length&&"object"==typeof arguments[0]){var t=arguments[0].credentials||arguments[0];this.accessKeyId=t.accessKeyId,this.secretAccessKey=t.secretAccessKey,this.sessionToken=t.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var t=r.util.date.getDate().getTime(),e=new Date(t+1e3*this.expiryWindow);return this.expireTime&&e>this.expireTime?!0:this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(t){var e=this;this.needsRefresh()?this.refresh(function(n){n||(e.expired=!1),t&&t(n)}):t&&t()},refresh:function(t){this.expired=!1,t()}})},function(t,e,n){var r=n(1);r.CredentialProviderChain=r.util.inherit(r.Credentials,{constructor:function(t){t?this.providers=t:this.providers=r.CredentialProviderChain.defaultProviders.slice(0)},resolve:function(t){function e(i,o){if(!i&&o||n===r.length)return void t(i,o);var a=r[n++];o="function"==typeof a?a.call():a,o.get?o.get(function(t){e(t,t?null:o)}):e(null,o)}if(0===this.providers.length)return t(new Error("No providers")),this;var n=0,r=this.providers.slice(0);return e(),this}}),r.CredentialProviderChain.defaultProviders=[]},function(t,e,n){var r=n(1).util,i=n(45).typeOf,o=r.inherit({constructor:function(t,e){e=e||{},this.initialize(t,e.validate)},initialize:function(t,e){var n=this;n.values=[].concat(t),n.detectType(),e&&n.validate()},detectType:function(){var t=this,e=t.values[0];if("String"===i(e))t.type="String";else if("Number"===i(e))t.type="Number";else{if("Binary"!==i(e))throw r.error(new Error,{code:"InvalidSetType",message:"Sets can contain string, number, or binary values"});t.type="Binary"}},validate:function(){for(var t=this,e=t.values.length,n=t.values,o=0;e>o;o++)if(i(n[o])!==t.type)throw r.error(new Error,{code:"InvalidType",message:t.type+" Set contains "+i(n[o])+" value"})}});t.exports=o},function(t,e,n){function r(t){return null===t&&"object"==typeof t?"null":void 0!==t&&i(t)?"Binary":void 0!==t&&t.constructor?o.typeName(t.constructor):"undefined"}function i(t){var e=["Buffer","File","Blob","ArrayBuffer","DataView","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];if(o.isNode()){var n=o.nodeRequire("stream").Stream;if(o.Buffer.isBuffer(t)||t instanceof n)return!0}else for(var r=0;r<e.length;r++)if(void 0!==t&&t.constructor){if(o.isType(t,e[r]))return!0;if(o.typeName(t.constructor)===e[r])return!0}return!1}var o=n(1).util;t.exports={typeOf:r,isBinary:i}},function(t,e,n){function r(t,e){t=t||{},e=e||{},e.api=this,t.metadata=t.metadata||{},l(this,"isApi",!0,!1),l(this,"apiVersion",t.metadata.apiVersion),l(this,"endpointPrefix",t.metadata.endpointPrefix),l(this,"signingName",t.metadata.signingName),l(this,"globalEndpoint",t.metadata.globalEndpoint),l(this,"signatureVersion",t.metadata.signatureVersion),l(this,"jsonVersion",t.metadata.jsonVersion),l(this,"targetPrefix",t.metadata.targetPrefix),l(this,"protocol",t.metadata.protocol),l(this,"timestampFormat",t.metadata.timestampFormat),l(this,"xmlNamespaceUri",t.metadata.xmlNamespace),l(this,"abbreviation",t.metadata.serviceAbbreviation),l(this,"fullName",t.metadata.serviceFullName),f(this,"className",function(){var e=t.metadata.serviceAbbreviation||t.metadata.serviceFullName;return e?(e=e.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),"ElasticLoadBalancing"===e&&(e="ELB"),e):null}),l(this,"operations",new i(t.operations,e,function(t,n){return new o(t,n,e)},c.string.lowerFirst)),l(this,"shapes",new i(t.shapes,e,function(t,n){return a.create(n,e)})),l(this,"paginators",new i(t.paginators,e,function(t,n){return new s(t,n,e)})),l(this,"waiters",new i(t.waiters,e,function(t,n){return new u(t,n,e)},c.string.lowerFirst)),e.documentation&&(l(this,"documentation",t.documentation),l(this,"documentationUrl",t.documentationUrl))}var i=n(47),o=n(48),a=n(9),s=n(49),u=n(50),c=n(2),l=c.property,f=c.memoizedProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){o(this,r(t),function(){return n(t,e)})}function i(t,e,n,i){i=i||String;var o=this;for(var a in t)t.hasOwnProperty(a)&&r.call(o,a,t[a],n,i)}var o=n(2).memoizedProperty;t.exports=i},function(t,e,n){function r(t,e,n){n=n||{},a(this,"name",e.name||t),a(this,"api",n.api,!1),e.http=e.http||{},a(this,"httpMethod",e.http.method||"POST"),a(this,"httpPath",e.http.requestUri||"/"),s(this,"input",function(){return e.input?i.create(e.input,n):new i.create({type:"structure"},n)}),s(this,"output",function(){return e.output?i.create(e.output,n):new i.create({type:"structure"},n)}),s(this,"errors",function(){var t=[];if(!e.errors)return null;for(var r=0;r<e.errors.length;r++)t.push(i.create(e.errors[r],n));return t}),s(this,"paginator",function(){return n.api.paginators[t]}),n.documentation&&(a(this,"documentation",e.documentation),a(this,"documentationUrl",e.documentationUrl))}var i=n(9),o=n(2),a=o.property,s=o.memoizedProperty;t.exports=r},function(t,e,n){function r(t,e){i(this,"inputToken",e.input_token),i(this,"limitKey",e.limit_key),i(this,"moreResults",e.more_results),i(this,"outputToken",e.output_token),i(this,"resultKey",e.result_key)}var i=n(2).property;t.exports=r},function(t,e,n){function r(t,e,n){function r(){o(this,"name",t),o(this,"api",n.api,!1),e.operation&&o(this,"operation",i.string.lowerFirst(e.operation));var r=this,a={ignoreErrors:"ignore_errors",successType:"success_type",successValue:"success_value",successPath:"success_path",acceptorType:"acceptor_type",acceptorValue:"acceptor_value",acceptorPath:"acceptor_path",failureType:"failure_type",failureValue:"failure_value",failurePath:"success_path",interval:"interval",maxAttempts:"max_attempts"};Object.keys(a).forEach(function(t){var n=e[a[t]];n&&o(r,t,n)})}if(n=n||{},n.api){var a=null;e.extends?a=n.api.waiters[e.extends]:"__default__"!==t&&(a=n.api.waiters.__default__),a&&(r.prototype=a)}return new r}var i=n(2),o=i.property;t.exports=r},function(t,e,n){function r(t){var e=t.service.api.operations[t.operation],n=t.httpRequest;n.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",n.params={Version:t.service.api.apiVersion,Action:e.name};var r=new u;r.serialize(t.params,e.input,function(t,e){n.params[t]=e}),n.body=s.queryParamsToString(n.params)}function i(t){var e,n=t.httpResponse.body.toString();e=n.match("<UnknownOperationException")?{Code:"UnknownOperation",Message:"Unknown operation "+t.request.operation}:(new a.XML.Parser).parse(n),e.requestId&&!t.requestId&&(t.requestId=e.requestId),e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=s.error(new Error,{code:e.Code,message:e.Message}):t.error=s.error(new Error,{code:t.httpResponse.statusCode,
message:null})}function o(t){var e=t.request,n=e.service.api.operations[e.operation],r=n.output||{},i=r;if(i.resultWrapper){var o=c.create({type:"structure"});o.members[i.resultWrapper]=r,o.memberNames=[i.resultWrapper],s.property(r,"name",r.resultWrapper),r=o}var u=new a.XML.Parser;if(r&&r.members&&!r.members._XAMZRequestId){var l=c.create({type:"string"},{api:{protocol:"query"}},"requestId");r.members._XAMZRequestId=l}var f=u.parse(t.httpResponse.body.toString(),r);t.requestId=f._XAMZRequestId||f.requestId,f._XAMZRequestId&&delete f._XAMZRequestId,i.resultWrapper&&f[i.resultWrapper]&&(s.update(f,f[i.resultWrapper]),delete f[i.resultWrapper]),t.data=f}var a=n(1),s=n(2),u=n(105),c=n(9);t.exports={buildRequest:r,extractError:i,extractData:o}},function(t,e,n){function r(t){var e=new l,n=t.service.api.operations[t.operation].input;if(n.payload){var r={},i=n.members[n.payload];if(r=t.params[n.payload],void 0===r)return;"structure"===i.type?t.httpRequest.body=e.build(r,i):t.httpRequest.body=r}else t.httpRequest.body=e.build(t.params,n)}function i(t){u.buildRequest(t),["GET","HEAD","DELETE"].indexOf(t.httpRequest.method)<0&&r(t)}function o(t){c.extractError(t)}function a(t){u.extractData(t);var e=t.request,n=e.service.api.operations[e.operation].output||{};if(n.payload){var r=n.members[n.payload],i=t.httpResponse.body;if(r.isStreaming)t.data[n.payload]=i;else if("structure"===r.type||"list"===r.type){var o=new f;t.data[n.payload]=o.parse(i,r)}else t.data[n.payload]=i.toString()}else{var a=t.data;c.extractData(t),t.data=s.merge(a,t.data)}}var s=n(2),u=n(19),c=n(24),l=n(22),f=n(23);t.exports={buildRequest:i,extractError:o,extractData:a}},function(t,e,n){function r(t){var e=t.service.api.operations[t.operation].input,n=new s.XML.Builder,r=t.params,i=e.payload;if(i){var o=e.members[i];if(r=r[i],void 0===r)return;if("structure"===o.type){var a=o.name;t.httpRequest.body=n.toXML(r,o,a,!0)}else t.httpRequest.body=r}else t.httpRequest.body=n.toXML(r,e,e.name||e.shape||u.string.upperFirst(t.operation)+"Request")}function i(t){c.buildRequest(t),["GET","HEAD"].indexOf(t.httpRequest.method)<0&&r(t)}function o(t){c.extractError(t);var e=(new s.XML.Parser).parse(t.httpResponse.body.toString());e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=u.error(new Error,{code:e.Code,message:e.Message}):t.error=u.error(new Error,{code:t.httpResponse.statusCode,message:null})}function a(t){c.extractData(t);var e,n=t.request,r=t.httpResponse.body,i=n.service.api.operations[n.operation],o=i.output,a=o.payload;if(a){var l=o.members[a];l.isStreaming?t.data[a]=r:"structure"===l.type?(e=new s.XML.Parser,t.data[a]=e.parse(r.toString(),l)):t.data[a]=r.toString()}else if(r.length>0){e=new s.XML.Parser;var f=e.parse(r.toString(),o);u.update(t.data,f)}}var s=n(1),u=n(2),c=n(19);t.exports={buildRequest:i,extractError:o,extractData:a}},function(t,e,n){var r=n(1);r.SequentialExecutor=r.util.inherit({constructor:function(){this._events={}},listeners:function(t){return this._events[t]?this._events[t].slice(0):[]},on:function(t,e){return this._events[t]?this._events[t].push(e):this._events[t]=[e],this},onAsync:function(t,e){return e._isAsync=!0,this.on(t,e)},removeListener:function(t,e){var n=this._events[t];if(n){for(var r=n.length,i=-1,o=0;r>o;++o)n[o]===e&&(i=o);i>-1&&n.splice(i,1)}return this},removeAllListeners:function(t){return t?delete this._events[t]:this._events={},this},emit:function(t,e,n){n||(n=function(){});var r=this.listeners(t),i=r.length;return this.callListeners(r,e,n),i>0},callListeners:function(t,e,n,i){function o(i){return i&&(s=r.util.error(s||new Error,i),a._haltHandlersOnError)?n.call(a,s):void a.callListeners(t,e,n,s)}for(var a=this,s=i||null;t.length>0;){var u=t.shift();if(u._isAsync)return void u.apply(a,e.concat([o]));try{u.apply(a,e)}catch(c){s=r.util.error(s||new Error,c)}if(s&&a._haltHandlersOnError)return void n.call(a,s)}n.call(a,s)},addListeners:function(t){var e=this;return t._events&&(t=t._events),r.util.each(t,function(t,n){"function"==typeof n&&(n=[n]),r.util.arrayEach(n,function(n){e.on(t,n)})}),e},addNamedListener:function(t,e,n){return this[t]=n,this.addListener(e,n),this},addNamedAsyncListener:function(t,e,n){return n._isAsync=!0,this.addNamedListener(t,e,n)},addNamedListeners:function(t){var e=this;return t(function(){e.addNamedListener.apply(e,arguments)},function(){e.addNamedAsyncListener.apply(e,arguments)}),this}}),r.SequentialExecutor.prototype.addListener=r.SequentialExecutor.prototype.on,t.exports=r.SequentialExecutor},function(t,e,n){var r=n(1);r.util.update(r.APIGateway.prototype,{setAcceptHeader:function(t){var e=t.httpRequest;e.headers.Accept="application/json"},setupRequestListeners:function(t){t.addListener("build",this.setAcceptHeader)}})},function(t,e,n){var r=n(1);n(87),r.util.update(r.CloudFront.prototype,{setupRequestListeners:function(t){t.addListener("extractData",r.util.hoistPayloadMember)}})},function(t,e,n){var r=n(1);r.util.update(r.CloudSearchDomain.prototype,{validateService:function(){if(!this.config.endpoint||this.config.endpoint.indexOf("{")>=0){var t="AWS.CloudSearchDomain requires an explicit `endpoint' configuration option.";throw r.util.error(new Error,{name:"InvalidEndpoint",message:t})}},setupRequestListeners:function(t){t.removeListener("validate",r.EventListeners.Core.VALIDATE_CREDENTIALS),t.onAsync("validate",this.validateCredentials),t.addListener("validate",this.updateRegion)},validateCredentials:function(t,e){return t.service.api.signatureVersion?void t.service.config.getCredentials(function(n){n&&t.removeListener("sign",r.EventListeners.Core.SIGN),e()}):e()},updateRegion:function(t){var e=t.httpRequest.endpoint.hostname,n=e.split(".");t.httpRequest.region=n[1]||t.httpRequest.region}})},function(t,e,n){var r=n(1);r.util.update(r.CognitoIdentity.prototype,{getOpenIdToken:function(t,e){return this.makeUnauthenticatedRequest("getOpenIdToken",t,e)},getId:function(t,e){return this.makeUnauthenticatedRequest("getId",t,e)},getCredentialsForIdentity:function(t,e){return this.makeUnauthenticatedRequest("getCredentialsForIdentity",t,e)}})},function(t,e,n){var r=n(1);n(98),r.util.update(r.DynamoDB.prototype,{setupRequestListeners:function(t){t.service.config.dynamoDbCrc32&&(t.removeListener("extractData",r.EventListeners.Json.EXTRACT_DATA),t.addListener("extractData",this.checkCrc32),t.addListener("extractData",r.EventListeners.Json.EXTRACT_DATA))},checkCrc32:function(t){if(!t.httpResponse.streaming&&!t.request.service.crc32IsValid(t))throw t.error=r.util.error(new Error,{code:"CRC32CheckFailed",message:"CRC32 integrity check failed",retryable:!0}),t.request.haltHandlersOnError(),t.error},crc32IsValid:function(t){var e=t.httpResponse.headers["x-amz-crc32"];return e?parseInt(e,10)===r.util.crypto.crc32(t.httpResponse.body):!0},defaultRetryCount:10,retryDelays:function(){for(var t=this.numRetries(),e=[],n=0;t>n;++n)0===n?e.push(0):e.push(50*Math.pow(2,n-1));return e}})},function(t,e,n){var r=n(1);r.util.update(r.EC2.prototype,{setupRequestListeners:function(t){t.removeListener("extractError",r.EventListeners.Query.EXTRACT_ERROR),t.addListener("extractError",this.extractError),"copySnapshot"===t.operation&&t.onAsync("validate",this.buildCopySnapshotPresignedUrl)},buildCopySnapshotPresignedUrl:function(t,e){if(t.params.PresignedUrl||t._subRequest)return e();t.params=r.util.copy(t.params),t.params.DestinationRegion=t.service.config.region;var n=r.util.copy(t.service.config);delete n.endpoint,n.region=t.params.SourceRegion;var i=new t.service.constructor(n),o=i[t.operation](t.params);o._subRequest=!0,o.presign(function(n,r){n?e(n):(t.params.PresignedUrl=r,e())})},extractError:function(t){var e=t.httpResponse,n=(new r.XML.Parser).parse(e.body.toString()||"");n.Errors?t.error=r.util.error(new Error,{code:n.Errors.Error.Code,message:n.Errors.Error.Message}):t.error=r.util.error(new Error,{code:e.statusCode,message:null}),t.error.requestId=n.RequestID||null}})},function(t,e,n){var r=n(1);r.util.update(r.Glacier.prototype,{setupRequestListeners:function(t){Array.isArray(t._events.validate)?t._events.validate.unshift(this.validateAccountId):t.on("validate",this.validateAccountId),t.removeListener("afterBuild",r.EventListeners.Core.COMPUTE_SHA256),t.on("build",this.addGlacierApiVersion),t.on("build",this.addTreeHashHeaders)},validateAccountId:function(t){void 0===t.params.accountId&&(t.params=r.util.copy(t.params),t.params.accountId="-")},addGlacierApiVersion:function(t){var e=t.service.api.apiVersion;t.httpRequest.headers["x-amz-glacier-version"]=e},addTreeHashHeaders:function(t){if(void 0!==t.params.body){var e=t.service.computeChecksums(t.params.body);t.httpRequest.headers["X-Amz-Content-Sha256"]=e.linearHash,t.httpRequest.headers["x-amz-sha256-tree-hash"]||(t.httpRequest.headers["x-amz-sha256-tree-hash"]=e.treeHash)}},computeChecksums:function(t){r.util.Buffer.isBuffer(t)||(t=new r.util.Buffer(t));for(var e=1048576,n=[],i=r.util.crypto.createHash("sha256"),o=0;o<t.length;o+=e){var a=t.slice(o,Math.min(o+e,t.length));i.update(a),n.push(r.util.crypto.sha256(a))}return{linearHash:i.digest("hex"),treeHash:this.buildHashTree(n)}},buildHashTree:function(t){for(;t.length>1;){for(var e=[],n=0;n<t.length;n+=2)if(t[n+1]){var i=new r.util.Buffer(64);i.write(t[n],0,32,"binary"),i.write(t[n+1],32,32,"binary"),e.push(r.util.crypto.sha256(i))}else e.push(t[n]);t=e}return r.util.crypto.toHex(t[0])}})},function(t,e,n){var r=n(1);r.util.update(r.IotData.prototype,{validateService:function(){if(!this.config.endpoint||this.config.endpoint.indexOf("{")>=0){var t="AWS.IotData requires an explicit `endpoint' configuration option.";throw r.util.error(new Error,{name:"InvalidEndpoint",message:t})}},setupRequestListeners:function(t){t.addListener("validateResponse",this.validateResponseBody)},validateResponseBody:function(t){var e=t.httpResponse.body.toString()||"{}",n=e.trim();n&&"{"===n.charAt(0)||(t.httpResponse.body="")}})},function(t,e,n){var r=n(1);r.util.update(r.MachineLearning.prototype,{setupRequestListeners:function(t){"predict"===t.operation&&t.addListener("build",this.buildEndpoint)},buildEndpoint:function(t){var e=t.params.PredictEndpoint;e&&(t.httpRequest.endpoint=new r.Endpoint(e))}})},function(t,e,n){var r=n(1);r.util.update(r.Route53.prototype,{setupRequestListeners:function(t){t.on("build",this.sanitizeUrl)},sanitizeUrl:function(t){var e=t.httpRequest.path;t.httpRequest.path=e.replace(/\/%2F\w+%2F/,"/")}})},function(t,e,n){var r=n(1);n(110),r.util.update(r.S3.prototype,{validateService:function(){if(this.config.region||(this.config.region="us-east-1"),!this.config.endpoint&&this.config.s3BucketEndpoint){var t="An endpoint must be provided when configuring `s3BucketEndpoint` to true.";throw r.util.error(new Error,{name:"InvalidEndpoint",message:t})}},setupRequestListeners:function(t){t.addListener("validate",this.validateScheme),t.addListener("validate",this.validateBucketEndpoint),t.addListener("build",this.addContentType),t.addListener("build",this.populateURI),t.addListener("build",this.computeContentMd5),t.addListener("build",this.computeSseCustomerKeyMd5),t.addListener("afterBuild",this.addExpect100Continue),t.removeListener("validate",r.EventListeners.Core.VALIDATE_REGION),t.addListener("extractError",this.extractError),t.addListener("extractData",this.extractData),t.addListener("extractData",r.util.hoistPayloadMember),t.addListener("beforePresign",this.prepareSignedUrl)},validateScheme:function(t){var e=t.params,n=t.httpRequest.endpoint.protocol,i=e.SSECustomerKey||e.CopySourceSSECustomerKey;if(i&&"https:"!==n){var o="Cannot send SSE keys over HTTP. Set 'sslEnabled'to 'true' in your configuration";throw r.util.error(new Error,{code:"ConfigError",message:o})}},validateBucketEndpoint:function(t){if(!t.params.Bucket&&t.service.config.s3BucketEndpoint){var e="Cannot send requests to root API with `s3BucketEndpoint` set.";throw r.util.error(new Error,{code:"ConfigError",message:e})}},populateURI:function(t){var e=t.httpRequest,n=t.params.Bucket;if(n&&!t.service.pathStyleBucketName(n)){if(!t.service.config.s3BucketEndpoint){e.endpoint.hostname=n+"."+e.endpoint.hostname;var r=e.endpoint.port;80!==r&&443!==r?e.endpoint.host=e.endpoint.hostname+":"+e.endpoint.port:e.endpoint.host=e.endpoint.hostname}e.virtualHostedBucket=n,e.path=e.path.replace(new RegExp("/"+n),""),"/"!==e.path[0]&&(e.path="/"+e.path)}},addExpect100Continue:function(t){var e=t.httpRequest.headers["Content-Length"];r.util.isNode()&&e>=1048576&&(t.httpRequest.headers.Expect="100-continue")},addContentType:function(t){var e=t.httpRequest;if("GET"===e.method||"HEAD"===e.method)return void delete e.headers["Content-Type"];e.headers["Content-Type"]||(e.headers["Content-Type"]="application/octet-stream");var n=e.headers["Content-Type"];if(r.util.isBrowser())if("string"!=typeof e.body||n.match(/;\s*charset=/)){var i=function(t,e,n){return e+n.toUpperCase()};e.headers["Content-Type"]=n.replace(/(;\s*charset=)(.+)$/,i)}else{var o="; charset=UTF-8";e.headers["Content-Type"]+=o}},computableChecksumOperations:{putBucketCors:!0,putBucketLifecycle:!0,putBucketLifecycleConfiguration:!0,putBucketTagging:!0,deleteObjects:!0},willComputeChecksums:function(t){if(this.computableChecksumOperations[t.operation])return!0;if(!this.config.computeChecksums)return!1;if(!r.util.Buffer.isBuffer(t.httpRequest.body)&&"string"!=typeof t.httpRequest.body)return!1;var e=t.service.api.operations[t.operation].input.members;return t.service.getSignerClass(t)===r.Signers.V4&&e.ContentMD5&&!e.ContentMD5.required?!1:e.ContentMD5&&!t.params.ContentMD5?!0:void 0},computeContentMd5:function(t){if(t.service.willComputeChecksums(t)){var e=r.util.crypto.md5(t.httpRequest.body,"base64");t.httpRequest.headers["Content-MD5"]=e}},computeSseCustomerKeyMd5:function(t){var e={SSECustomerKey:"x-amz-server-side-encryption-customer-key-MD5",CopySourceSSECustomerKey:"x-amz-copy-source-server-side-encryption-customer-key-MD5"};r.util.each(e,function(e,n){if(t.params[e]){var i=r.util.crypto.md5(t.params[e],"base64");t.httpRequest.headers[n]=i}})},pathStyleBucketName:function(t){return this.config.s3ForcePathStyle?!0:this.config.s3BucketEndpoint?!1:this.dnsCompatibleBucketName(t)?this.config.sslEnabled&&t.match(/\./)?!0:!1:!0},dnsCompatibleBucketName:function(t){var e=t,n=new RegExp(/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/),r=new RegExp(/(\d+\.){3}\d+/),i=new RegExp(/\.\./);return!e.match(n)||e.match(r)||e.match(i)?!1:!0},successfulResponse:function(t){var e=t.request,n=t.httpResponse;return"completeMultipartUpload"===e.operation&&n.body.toString().match("<Error>")?!1:n.statusCode<300},retryableError:function(t,e){if("completeMultipartUpload"===e.operation&&200===t.statusCode)return!0;if(t&&"RequestTimeout"===t.code)return!0;if(t&&"AuthorizationHeaderMalformed"===t.code&&t.region&&t.region!=e.httpRequest.region)return e.httpRequest.region=t.region,!0;var n=r.Service.prototype.retryableError;return n.call(this,t,e)},extractData:function(t){var e=t.request;if("getBucketLocation"===e.operation){var n=t.httpResponse.body.toString().match(/>(.+)<\/Location/);delete t.data._,n?t.data.LocationConstraint=n[1]:t.data.LocationConstraint=""}},extractError:function(t){var e={304:"NotModified",403:"Forbidden",400:"BadRequest",404:"NotFound"},n=t.httpResponse.statusCode,i=t.httpResponse.body||"",o=t.requestId,a=t.httpResponse.headers?t.httpResponse.headers["x-amz-id-2"]:null;if(e[n]&&0===i.length)t.error=r.util.error(new Error,{code:e[t.httpResponse.statusCode],message:null});else{var s=(new r.XML.Parser).parse(i.toString());t.error=r.util.error(new Error,{code:s.Code||n,message:s.Message||null,region:s.Region||null})}t.error.requestId=o||null,t.error.extendedRequestId=a||null},getSignedUrl:function(t,e,n){e=r.util.copy(e||{});var i=e.Expires||900;delete e.Expires;var o=this.makeRequest(t,e);return o.presign(i,n)},prepareSignedUrl:function(t){t.addListener("validate",t.service.noPresignedContentLength),t.removeListener("build",t.service.addContentType),t.params.Body?t.addListener("afterBuild",r.EventListeners.Core.COMPUTE_SHA256):t.removeListener("build",t.service.computeContentMd5)},noPresignedContentLength:function(t){if(void 0!==t.params.ContentLength)throw r.util.error(new Error,{code:"UnexpectedParameter",message:"ContentLength is not supported in pre-signed URLs."})},createBucket:function(t,e){t||(t={});var n=this.endpoint.hostname;return n===this.api.globalEndpoint||t.CreateBucketConfiguration||(t.CreateBucketConfiguration={LocationConstraint:this.config.region}),this.makeRequest("createBucket",t,e)},upload:function(t,e,n){"function"==typeof e&&void 0===n&&(n=e,e=null),e=e||{},e=r.util.merge(e||{},{service:this,params:t});var i=new r.S3.ManagedUpload(e);return"function"==typeof n&&i.send(n),i}})},function(t,e,n){var r=n(1);r.util.update(r.SQS.prototype,{setupRequestListeners:function(t){t.addListener("build",this.buildEndpoint),t.service.config.computeChecksums&&("sendMessage"===t.operation?t.addListener("extractData",this.verifySendMessageChecksum):"sendMessageBatch"===t.operation?t.addListener("extractData",this.verifySendMessageBatchChecksum):"receiveMessage"===t.operation&&t.addListener("extractData",this.verifyReceiveMessageChecksum))},verifySendMessageChecksum:function(t){if(t.data){var e=t.data.MD5OfMessageBody,n=this.params.MessageBody,r=this.service.calculateChecksum(n);if(r!==e){var i='Got "'+t.data.MD5OfMessageBody+'", expecting "'+r+'".';this.service.throwInvalidChecksumError(t,[t.data.MessageId],i)}}},verifySendMessageBatchChecksum:function(t){if(t.data){var e=this.service,n={},i=[],o=[];r.util.arrayEach(t.data.Successful,function(t){n[t.Id]=t}),r.util.arrayEach(this.params.Entries,function(t){if(n[t.Id]){var r=n[t.Id].MD5OfMessageBody,a=t.MessageBody;e.isChecksumValid(r,a)||(i.push(t.Id),o.push(n[t.Id].MessageId))}}),i.length>0&&e.throwInvalidChecksumError(t,o,"Invalid messages: "+i.join(", "))}},verifyReceiveMessageChecksum:function(t){if(t.data){var e=this.service,n=[];r.util.arrayEach(t.data.Messages,function(t){var r=t.MD5OfBody,i=t.Body;e.isChecksumValid(r,i)||n.push(t.MessageId)}),n.length>0&&e.throwInvalidChecksumError(t,n,"Invalid messages: "+n.join(", "))}},throwInvalidChecksumError:function(t,e,n){t.error=r.util.error(new Error,{retryable:!0,code:"InvalidChecksum",messageIds:e,message:t.request.operation+" returned an invalid MD5 response. "+n})},isChecksumValid:function(t,e){return this.calculateChecksum(e)===t},calculateChecksum:function(t){return r.util.crypto.md5(t,"hex")},buildEndpoint:function(t){var e=t.httpRequest.params.QueueUrl;if(e){t.httpRequest.endpoint=new r.Endpoint(e);var n=t.httpRequest.endpoint.host.match(/^sqs\.(.+?)\./);n&&(t.httpRequest.region=n[1])}}})},function(t,e,n){var r=n(1);r.util.update(r.STS.prototype,{credentialsFrom:function(t,e){return t?(e||(e=new r.TemporaryCredentials),e.expired=!1,e.accessKeyId=t.Credentials.AccessKeyId,e.secretAccessKey=t.Credentials.SecretAccessKey,e.sessionToken=t.Credentials.SessionToken,e.expireTime=t.Credentials.Expiration,e):null},assumeRoleWithWebIdentity:function(t,e){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",t,e)},assumeRoleWithSAML:function(t,e){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",t,e)}})},function(t,e,n){var r=n(1);r.util.hideProperties(r,["SimpleWorkflow"]),r.SimpleWorkflow=r.SWF},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.V3=i(r.Signers.RequestSigner,{addAuthorization:function(t,e){var n=r.util.date.rfc822(e);this.request.headers["X-Amz-Date"]=n,t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(t,n)},authorization:function(t){return"AWS3 AWSAccessKeyId="+t.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(t)},signedHeaders:function(){var t=[];return r.util.arrayEach(this.headersToSign(),function(e){t.push(e.toLowerCase())}),t.sort().join(";")},canonicalHeaders:function(){var t=this.request.headers,e=[];return r.util.arrayEach(this.headersToSign(),function(n){e.push(n.toLowerCase().trim()+":"+String(t[n]).trim())}),e.sort().join("\n")+"\n"},headersToSign:function(){var t=[];return r.util.each(this.request.headers,function(e){("Host"===e||"Content-Encoding"===e||e.match(/^X-Amz/i))&&t.push(e)}),t},signature:function(t){return r.util.crypto.hmac(t.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var t=[];return t.push(this.request.method),t.push("/"),t.push(""),t.push(this.canonicalHeaders()),t.push(this.request.body),r.util.crypto.sha256(t.join("\n"))}}),t.exports=r.Signers.V3},function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function f(t){return null==t}var h=n(318);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(g),m=["'"].concat(v),y=["%","/","?",";","#"].concat(m),b=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,E=/^([a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=n(321);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(a||i&&!A[i])){for(var s=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===s||s>l)&&(s=l)}var f,d;d=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==d&&(f=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(f)),s=-1;for(var c=0;c<y.length;c++){var l=r.indexOf(y[c]);-1!==l&&(-1===s||s>l)&&(s=l)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),c=0,T=v.length;T>c;c++){var C=v[c];if(C&&!C.match(_)){for(var k="",R=0,O=C.length;O>R;R++)k+=C.charCodeAt(R)>127?"x":C[R];if(!k.match(_)){var I=v.slice(0,c),P=v.slice(c+1),L=C.match(E);L&&(I.push(L[1]),P.unshift(L[2])),P.length&&(r="/"+P.join(".")+r),this.hostname=I.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!g){for(var q=this.hostname.split("."),D=[],c=0;c<q.length;++c){var F=q[c];D.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+h.encode(F):F)}this.hostname=D.join(".")}var N=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+N,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!j[o])for(var c=0,T=m.length;T>c;c++){var U=m[c],B=encodeURIComponent(U);B===U&&(B=escape(U)),r=r.split(U).join(B)}var H=r.indexOf("#");-1!==H&&(this.hash=r.substr(H),r=r.slice(0,H));var W=r.indexOf("?");if(-1!==W?(this.search=r.substr(W),this.query=r.substr(W+1),e&&(this.query=x.parse(this.query)),r=r.slice(0,W)):e&&(this.search="",this.query={}),r&&(this.pathname=r),A[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",F=this.search||"";this.path=N+F}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||A[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),A[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!A[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||S[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),h=c||s||n.host&&t.pathname,p=h,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],g=n.protocol&&!A[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),h=h&&(""===i[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!f(t.search)){if(g){n.hostname=n.host=d.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=t.search,n.query=t.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var m=d.slice(-1)[0],y=(n.host||t.host)&&("."===m||".."===m)||""===m,b=0,w=d.length;w>=0;w--)m=d[w],"."==m?d.splice(w,1):".."===m?(d.splice(w,1),b++):b&&(d.splice(w,1),b--);if(!h&&!p)for(;b--;b)d.unshift("..");!h||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),y&&"/"!==d.join("/").substr(-1)&&d.push("");var _=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(g){n.hostname=n.host=_?"":d.length?d.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return h=h||n.host&&d.length,h&&!_&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(17),a=r(o),s=n(31),u=r(s),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var l=n(8),f=r(l),h=n(7),p=r(h),d=p.default.utils,g=d.logger,v=d.request,m=function(){function t(e,n){i(this,t),this.endpoint=e,this.project=n,g.debug({description:"Init action called.",project:this,func:"init",obj:"ApiAction"})}return c(t,[{key:"get",value:function(){return v.get(this.url).then(function(t){return g.log({description:"Get responded successfully.",res:t,func:"get",obj:"ApiAction"}),(0,u.default)(t,"error")?(g.error({description:"Error in get response.",error:t.error,res:t,func:"get",obj:"ApiAction"}),Promise.reject(t.error)):t.collection?t.collection:t},function(t){return g.error({description:"Error in GET request.",error:t,func:"get",obj:"ApiAction"}),Promise.reject(t)})}},{key:"add",value:function(t){var e=this;return v.post(this.url,t).then(function(t){return g.log({description:"Add request responded successfully.",res:t,func:"add",obj:"ApiAction"}),(0,u.default)(t,"error")?(g.error({description:"Error in add request.",error:t.error,action:e,res:t,func:"add",obj:"ApiAction"}),Promise.reject(t.error)):(g.log({description:"Add successful.",res:t,action:e,func:"add",obj:"ApiAction"}),t)},function(t){return g.error({description:"Error in add request.",action:e,error:t,func:"add",obj:"ApiAction"}),Promise.reject(t)})}},{key:"update",value:function(t){return t?v.put(this.url,t).then(function(t){return(0,u.default)(t,"error")?(g.error({description:"Error in update request.",error:t.error,res:t,func:"update",obj:"ApiAction"}),Promise.reject(t.error)):(g.log({description:"Update successful.",res:t,func:"update",obj:"ApiAction"}),t)},function(t){return g.error({description:"Error in update request.",error:t,func:"update",obj:"ApiAction"}),Promise.reject(t)}):(g.error({description:"Data is required to update.",func:"update",obj:"ApiAction"}),Promise.reject("Data is required to update."))}},{key:"remove",value:function(){var t=this;return v.del(this.url).then(function(e){return(0,u.default)(e,"error")?(g.error({description:"Error in removal request.",action:t,error:e.error,res:e,func:"remove",obj:"ApiAction"}),Promise.reject(e.error)):(g.log({description:"Remove successful.",res:e,func:"remove",obj:"ApiAction"}),e)},function(e){return g.error({description:"Error in request for removal.",action:t,error:e,func:"remove",obj:"ApiAction"}),Promise.reject(e)})}},{key:"search",value:function(t){var e=this;return t&&""!=t?(0,a.default)(t)?v.get(this.url+"/search/"+t).then(function(t){return(0,u.default)(t,"error")?(g.error({description:"Error in removal request.",action:e,res:t,func:"remove",obj:"ApiAction"}),Promise.reject(t.error||t)):(g.log({description:"Remove successful.",res:t,func:"remove",obj:"ApiAction"}),t)},function(t){return g.error({description:"Error in request for removal.",action:e,error:t,func:"remove",obj:"ApiAction"}),Promise.reject(t)}):(g.log({description:"Invalid query type in search (should be string).",func:"search",obj:"ApiAction"}),Promise.reject("Invalid query type. Search query should be string.")):(g.log({description:"Null query, returning empty array.",func:"search",obj:"ApiAction"}),Promise.resolve([]))}},{key:"url",get:function(){var t=[f.default.serverUrl,this.endpoint].join("/");return g.debug({description:"Url created.",urlStr:t,func:"url",obj:"ApiAction"}),t}}]),t}();e.default=m,t.exports=e.default},function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),
e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),u=i(s),c=n(73),l=i(c),f=function(){function t(){o(this,t)}return a(t,null,[{key:"pathArrayFromFbRef",value:function(t){var e=u.default.fbUrl.replace("https://","").split("/");e.shift();var n=t.path.o.splice(0,e.length);return logger.info({description:"Path array built.",pathArray:n,func:"fbRef",obj:"Directory"}),n}},{key:"pathToSafePath",value:function(t){return logger.debug({description:"Safe path array created.",path:t,func:"safePathArray",obj:"FileSystemEntity"}),t.replace(/[.]/g,":").replace(/[#$\[\]]/g,"_-_")}},{key:"ref",value:function(t){return new l.default(this.url(t))}},{key:"url",value:function(t){return u.default.fbUrl+"/files/"+t}}]),t}();e.default=f,t.exports=e.default}).call(e,function(){return this}())},function(module,exports){/*! @license Firebase v2.4.0
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function p(t){return void 0!==t}function aa(){}function ba(t){t.yb=function(){return t.zf?t.zf:t.zf=new t}}function ca(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function da(t){return"array"==ca(t)}function ea(t){var e=ca(t);return"array"==e||"object"==e&&"number"==typeof t.length}function q(t){return"string"==typeof t}function fa(t){return"number"==typeof t}function r(t){return"function"==ca(t)}function ga(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function u(t,e,n){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,u.apply(null,arguments)}function ka(t,e){function n(){}n.prototype=e.prototype,t.nh=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.jh=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function la(t){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function v(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ma(t,e){var n,r={};for(n in t)r[n]=e.call(void 0,t[n],n,t);return r}function na(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function oa(t){var e,n=0;for(e in t)n++;return n}function pa(t){for(var e in t)return e}function qa(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function ra(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function sa(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ta(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r}function ua(t,e){var n=ta(t,e,void 0);return n&&t[n]}function va(t){for(var e in t)return!1;return!0}function wa(t){var e,n={};for(e in t)n[e]=t[e];return n}function ya(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<xa.length;o++)n=xa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(t,e,n){switch(typeof e){case"string":Ca(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(da(e)){var r=e.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=e[o],Ba(t,t.Vd?t.Vd.call(e,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),Ca(o,n),n.push(":"),Ba(t,t.Vd?t.Vd.call(e,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Ca(t,e){e.push('"',t.replace(Ea,function(t){if(t in Da)return Da[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Da[t]=n+e.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var t=1;t<this.Ya;++t)this.Od[t]=0;this.ge=this.ec=0,this.reset()}function Ka(t,e,n){n||(n=0);var r=t.eg;if(q(e))for(var i=0;16>i;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}e=t.P[0],n=t.P[1];for(var a,s=t.P[2],u=t.P[3],c=t.P[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.P[0]=t.P[0]+e&4294967295,t.P[1]=t.P[1]+n&4294967295,t.P[2]=t.P[2]+s&4294967295,t.P[3]=t.P[3]+u&4294967295,t.P[4]=t.P[4]+c&4294967295}function Ra(t,e){var n=Sa(t,e,void 0);return 0>n?null:q(t)?t.charAt(n):t[n]}function Sa(t,e,n){for(var r=t.length,i=q(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function Ta(t,e){var n=La(t,e);n>=0&&x.splice.call(t,n,1)}function Ua(t,e,n){return 2>=arguments.length?x.slice.call(t,e):x.slice.call(t,e,n)}function Va(t,e){t.sort(e||Wa)}function Wa(t,e){return t>e?1:e>t?-1:0}function Xa(t){n.setTimeout(function(){throw t},0)}function Za(){var t=n.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(t=function(){var t=document.createElement("iframe");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=u(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!=typeof t&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(p(r.next)){r=r.next;var t=r.hb;r.hb=null,t()}},function(t){i.next={hb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var e=document.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}function $a(t,e){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(t,e))}function bb(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve();ab=function(){t.then(fb)}}else ab=function(){var t=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(t)):n.setImmediate(t)}}function fb(){for(;db.length;){var t=db;db=[];for(var e=0;e<t.length;e++){var n=t[e];try{n.yg.call(n.scope)}catch(r){Xa(r)}}}cb=!1}function eb(t,e){this.yg=t,this.scope=e}function nb(t,e){if(!ea(t))throw Error("encodeByteArray takes an array as a parameter");ob();for(var n=e?lb:kb,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var t=0;65>t;t++)kb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),lb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),mb[lb[t]]=t,t>=62&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function pb(t,e){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,t==rb)sb(this,tb,e);else try{var n=this;t.call(e,function(t){sb(n,tb,t)},function(t){if(!(t instanceof ub))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}sb(n,vb,t)})}catch(r){sb(this,vb,r)}}function rb(){}function xb(t,e){if(t.N==qb)if(t.Ha){var n=t.Ha;if(n.Ba){for(var r,i=0,o=-1,a=0;(r=n.Ba[a])&&!((r=r.o)&&(i++,r==t&&(o=a),o>=0&&i>1));a++);o>=0&&(n.N==qb&&1==i?xb(n,e):(i=n.Ba.splice(o,1)[0],yb(n,i,vb,e)))}t.Ha=null}else sb(t,vb,e)}function zb(t,e){t.Ba&&t.Ba.length||t.N!=tb&&t.N!=vb||Ab(t),t.Ba||(t.Ba=[]),t.Ba.push(e)}function wb(t,e,n,r){var i={o:null,Hf:null,Jf:null};return i.o=new pb(function(t,o){i.Hf=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.Jf=n?function(e){try{var i=n.call(r,e);!p(i)&&e instanceof ub?o(e):t(i)}catch(a){o(a)}}:o}),i.o.Ha=t,zb(t,i),i.o}function sb(t,e,n){if(t.N==qb){if(t==n)e=vb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(o){i=!1}else i=!1;if(i)return t.N=1,void n.then(t.Yf,t.Zf,t);if(ga(n))try{var a=n.then;if(r(a))return void Bb(t,n,a)}catch(s){e=vb,n=s}}t.Rf=n,t.N=e,t.Ha=null,Ab(t),e!=vb||n instanceof ub||Cb(t,n)}}function Bb(t,e,n){function r(e){o||(o=!0,t.Zf(e))}function i(e){o||(o=!0,t.Yf(e))}t.N=1;var o=!1;try{n.call(e,i,r)}catch(a){r(a)}}function Ab(t){t.ye||(t.ye=!0,$a(t.wg,t))}function yb(t,e,n,r){if(n==tb)e.Hf(r);else{if(e.o)for(;t&&t.yd;t=t.Ha)t.yd=!1;e.Jf(r)}}function Cb(t,e){t.yd=!0,$a(function(){t.yd&&Db.call(null,e)})}function ub(t){la.call(this,t)}function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function z(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Fb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gb(t){var e={};return Fb(t,function(t,n){e[t]=n}),e}function Hb(t){return"object"==typeof t&&null!==t}function Ib(t){var e=[];return Fb(t,function(t,n){da(n)?Ma(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function Jb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Ma(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function Kb(t,e){if(!t)throw Lb(e)}function Lb(t){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+t)}function B(){var t=this;this.reject=this.resolve=null,this.D=new Mb(function(e,n){t.resolve=e,t.reject=n})}function C(t,e){return function(n,i){n?t.reject(n):t.resolve(i),r(e)&&(Nb(t.D),1===e.length?e(n):e(n,i))}}function Nb(t){t.then(void 0,aa)}function Ob(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,Kb(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(t.charCodeAt(r)-56320)),128>i?e[n++]=i:(2048>i?e[n++]=i>>6|192:(65536>i?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function Pb(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e++:2048>r?e+=2:r>=55296&&56319>=r?(e+=4,n++):e+=3}return e}function D(t,e,n,r){var i;if(e>r?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function F(t,e,n,i){if((!i||p(n))&&!r(n))throw Error(E(t,e,i)+"must be a valid function.")}function Qb(t,e,n){if(p(n)&&(!ga(n)||null===n))throw Error(E(t,e,!0)+"must be a valid context object.")}function Rb(t){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(t):za(t)}function G(t){if("undefined"!=typeof JSON&&p(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ba(new Aa,t,e),t=e.join("")}return t}function Sb(){this.Zd=H}function Tb(){}function Vb(t,e,n){this.bg=t,this.Oa=e,this.Nd=n}function Zb(){this.xb=[]}function $b(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.cc();null===n||o.ea(n.cc())||(t.xb.push(n),n=null),null===n&&(n=new ac(o)),n.add(i)}n&&t.xb.push(n)}function bc(t,e,n){$b(t,n),cc(t,function(t){return t.ea(e)})}function dc(t,e,n){$b(t,n),cc(t,function(t){return t.contains(e)||e.contains(t)})}function cc(t,e){for(var n=!0,r=0;r<t.xb.length;r++){var i=t.xb[r];if(i)if(i=i.cc(),e(i)){for(var i=t.xb[r],o=0;o<i.xd.length;o++){var a=i.xd[o];if(null!==a){i.xd[o]=null;var s=a.Zb();ec&&fc("event: "+a.toString()),gc(s)}}t.xb[r]=null}else n=!1}n&&(t.xb=[])}function ac(t){this.ta=t,this.xd=[]}function J(t,e,n,r){this.type=t,this.Na=e,this.Za=n,this.Oe=r,this.Td=void 0}function hc(t){return new J(ic,t)}function jc(t,e,n,r){this.xe=e,this.be=n,this.Td=r,this.wd=t}function kc(t,e,n){this.xe=t,this.error=e,this.path=n}function Xb(t,e,n){this.A=t,this.ga=e,this.Yb=n}function lc(t){return t.ga}function mc(t){return t.Yb}function nc(t,e){return e.e()?t.ga&&!t.Yb:Wb(t,K(e))}function Wb(t,e){return t.ga&&!t.Yb||t.A.Fa(e)}function oc(t){this.pg=t,this.Gd=null}function pc(t,e){this.Vf={},this.hd=new oc(t),this.da=e;var n=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(n))}function qc(){this.Hc={}}function rc(t,e,n){p(n)||(n=1),y(t.Hc,e)||(t.Hc[e]=0),t.Hc[e]+=n}function uc(t){return t=t.toString(),sc[t]||(sc[t]=new qc),sc[t]}function vc(t,e){var n=t.toString();return tc[n]||(tc[n]=e()),tc[n]}function L(t,e){this.name=t,this.U=e}function wc(t,e){return new L(t,e)}function xc(t,e){return yc(t.name,e.name)}function zc(t,e){return yc(t,e)}function Ac(t,e,n){this.type=Bc,this.source=t,this.path=e,this.Ja=n}function Cc(t,e){this.type=Dc,this.source=t,this.path=e}function Ec(t,e){this.Pa=t,this.xa=e?e:Fc}function Gc(t,e){for(var n,r=t.xa,i=null;!r.e();){if(n=t.Pa(e,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(t,e,n,r,i){for(this.Xd=i||null,this.Je=r,this.Ta=[],i=1;!t.e();)if(i=e?n(t.key,e):1,r&&(i*=-1),0>i)t=this.Je?t.left:t.right;else{if(0===i){this.Ta.push(t);break}this.Ta.push(t),t=this.Je?t.right:t.left}}function Ic(t){if(0===t.Ta.length)return null;var e,n=t.Ta.pop();if(e=t.Xd?t.Xd(n.key,n.value):{key:n.key,value:n.value},t.Je)for(n=n.left;!n.e();)t.Ta.push(n),n=n.right;else for(n=n.right;!n.e();)t.Ta.push(n),n=n.left;return e}function Jc(t){if(0===t.Ta.length)return null;var e;return e=t.Ta,e=e[e.length-1],t.Xd?t.Xd(e.key,e.value):{key:e.key,value:e.value}}function Kc(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=r?r:Fc,this.right=null!=i?i:Fc}function Lc(t){return t.left.e()?t:Lc(t.left)}function Nc(t){return t.left.e()?Fc:(t.left.ha()||t.left.left.ha()||(t=Oc(t)),t=t.$(null,null,null,Nc(t.left),null),Mc(t))}function Mc(t){return t.right.ha()&&!t.left.ha()&&(t=Rc(t)),t.left.ha()&&t.left.left.ha()&&(t=Pc(t)),t.left.ha()&&t.right.ha()&&(t=Qc(t)),t}function Oc(t){return t=Qc(t),t.right.left.ha()&&(t=t.$(null,null,null,null,Pc(t.right)),t=Rc(t),t=Qc(t)),t}function Rc(t){return t.right.$(null,null,t.color,t.$(null,null,!0,null,t.right.left),null)}function Pc(t){return t.left.$(null,null,t.color,null,t.$(null,null,!0,t.left.right,null))}function Qc(t){return t.$(null,null,!t.color,t.left.$(null,null,!t.left.color,null,null),t.right.$(null,null,!t.right.color,null,null))}function Sc(){}function Tc(t,e){return t&&"object"==typeof t?(O(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Uc(t,e){var n=new Vc;return Wc(t,new P(""),function(t,r){n.rc(t,Xc(r,e))}),n}function Xc(t,e){var n,r=t.C().J(),r=Tc(r,e);if(t.L()){var i=Tc(t.Ea(),e);return i!==t.Ea()||r!==t.C().J()?new Yc(i,Q(r)):t}return n=t,r!==t.C().J()&&(n=n.ia(new Yc(r))),t.R(R,function(t,r){var i=Xc(r,e);i!==r&&(n=n.W(t,i))}),n}function Zc(){this.Ac={}}function $c(t){this.Ic=t,this.Sd="firebase:"}function ad(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $c(e)}}catch(n){}return new Zc}function dd(t,e,n,r,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=e,this.lc=n,this.hh=r,this.Rd=i||"",this.ab=bd.get("host:"+t)||this.host}function ed(t,e){e!==t.ab&&(t.ab=e,"s-"===t.ab.substr(0,2)&&bd.set("host:"+t.host,t.ab))}function fd(t,e,n){if(O("string"==typeof e,"typeof type must == string"),O("object"==typeof n,"typeof params must == object"),e===gd)e=(t.ob?"wss://":"ws://")+t.ab+"/.ws?";else{if(e!==hd)throw Error("Unknown connection type: "+e);e=(t.ob?"https://":"http://")+t.ab+"/.lp?"}t.host!==t.ab&&(n.ns=t.lc);var r=[];return v(n,function(t,e){r.push(e+"="+t)}),e+r.join("&")}function kd(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{ob();for(var n=mb,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;var s=i<t.length?n[t.charAt(i)]:64;++i;var u=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)e=String.fromCharCode.apply(null,r);else{for(t="",n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,Ua(r,n,n+8192));e=t}}return e}catch(c){fc("base64Decode failed: ",c)}return null}function ld(t){var e=Ob(t);t=new Ja,t.update(e);var e=[],n=8*t.ge;56>t.ec?t.update(t.Od,56-t.ec):t.update(t.Od,t.Ya-(t.ec-56));for(var r=t.Ya-1;r>=56;r--)t.pe[r]=255&n,n/=256;for(Ka(t,t.pe),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)e[n]=t.P[r]>>i&255,++n;return nb(e)}function md(t){for(var e="",n=0;n<arguments.length;n++)e=ea(arguments[n])?e+md.apply(null,arguments[n]):"object"==typeof arguments[n]?e+G(arguments[n]):e+arguments[n],e+=" ";return e}function od(t,e){Kb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(t){console.log(t)})),e&&cd.set("logging_enabled",!0)):r(t)?ec=t:(ec=null,cd.remove("logging_enabled"))}function fc(t){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var e=md.apply(null,arguments);ec(e)}}function pd(t){return function(){fc(t,arguments)}}function qd(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}}function rd(t){var e=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function S(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}}function sd(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if(q(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),i="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var c=t[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}t=e.split("."),3===t.length?(n=t[1],r=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=q(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:e,port:s,domain:n,eh:r,ob:o,scheme:a,bd:i}}function td(t){return fa(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function ud(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function yc(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=vd(t),r=vd(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:e>t?-1:1}function wd(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+G(e))}function xd(t){if("object"!=typeof t||null===t)return G(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=G(n[r]),e+=":",e+=xd(t[n[r]]);return e+"}"}function yd(t,e){if(t.length<=e)return[t];for(var n=[],r=0;r<t.length;r+=e)r+e>t?n.push(t.substring(r,t.length)):n.push(t.substring(r,r+e));return n}function zd(t,e){if(da(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v(t,e)}function Ad(t){O(!td(t),"Invalid JSON number");var e,n,r,i;for(0===t?(r=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,r=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),i=[],t=52;t;--t)i.push(r%2?1:0),r=Math.floor(r/2);for(t=11;t;--t)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(e?1:0),i.reverse(),e=i.join(""),n="",t=0;64>t;t+=8)r=parseInt(e.substr(t,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function vd(t){return Bd.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function gc(t){try{t()}catch(e){setTimeout(function(){throw S("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function T(t,e){if(r(t)){var n=Array.prototype.slice.call(arguments,1).slice();gc(function(){t.apply(null,n)})}}function Cd(t){var e={},n={},r={},i="";try{var o=t.split("."),e=Rb(kd(o[0])||""),n=Rb(kd(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{kh:e,Ec:n,data:r,ah:i}}function Dd(t){return t=Cd(t).Ec,"object"==typeof t&&t.hasOwnProperty("iat")?z(t,"iat"):null}function Ed(t){t=Cd(t);var e=t.Ec;return!!t.ah&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function Fd(t){this.Y=t,this.g=t.n.g}function Gd(t,e,n,r){var i=[],o=[];return Ma(e,function(e){"child_changed"===e.type&&t.g.Dd(e.Oe,e.Na)&&o.push(new J("child_moved",e.Na,e.Za))}),Hd(t,i,"child_removed",e,r,n),Hd(t,i,"child_added",e,r,n),Hd(t,i,"child_moved",o,r,n),Hd(t,i,"child_changed",e,r,n),Hd(t,i,ic,e,r,n),i}function Hd(t,e,n,r,i,o){r=Na(r,function(t){return t.type===n}),Va(r,u(t.qg,t)),Ma(r,function(n){var r=Id(t,n,o);Ma(i,function(i){i.Qf(n.type)&&e.push(i.createEvent(r,t.Y))})})}function Id(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Td=n.wf(e.Za,e.Na,t.g)),e}function Jd(){this.ib={}}function Kd(t,e){var n=e.type,r=e.Za;O("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");var i=z(t.ib,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)t.ib[r]=new J("child_changed",e.Na,r,i.Na);else if("child_removed"==n&&"child_added"==o)delete t.ib[r];else if("child_removed"==n&&"child_changed"==o)t.ib[r]=new J("child_removed",i.Oe,r);else if("child_changed"==n&&"child_added"==o)t.ib[r]=new J("child_added",e.Na,r);else{if("child_changed"!=n||"child_changed"!=o)throw jd("Illegal combination of changes: "+e+" occurred after "+i);t.ib[r]=new J("child_changed",e.Na,r,i.Oe)}}else t.ib[r]=e}function Ld(t){this.g=t}function Md(t){this.Fe=new Ld(t.g),this.g=t.g;var e;t.oa?(e=Nd(t),e=t.g.Sc(Od(t),e)):e=t.g.Wc(),this.gd=e,t.ra?(e=Pd(t),t=t.g.Sc(Rd(t),e)):t=t.g.Tc(),this.Jc=t}function Sd(t){this.ua=new Md(t),this.g=t.g,O(t.la,"Only valid if limit has been set"),this.ma=t.ma,this.Nb=!Td(t)}function Ud(t,e,n,r,i,o){var a;if(t.Nb){var s=Vd(t.g);a=function(t,e){return s(e,t)}}else a=Vd(t.g);O(e.Hb()==t.ma,"");var u=new L(n,r),c=t.Nb?Wd(e,t.g):Xd(e,t.g),l=t.ua.matches(u);if(e.Fa(n)){for(var f=e.T(n),c=i.Ce(t.g,c,t.Nb);null!=c&&(c.name==n||e.Fa(c.name));)c=i.Ce(t.g,c,t.Nb);return i=null==c?1:a(c,u),l&&!r.e()&&i>=0?(null!=o&&Kd(o,new J("child_changed",r,n,f)),e.W(n,r)):(null!=o&&Kd(o,new J("child_removed",f,n)),e=e.W(n,H),null!=c&&t.ua.matches(c)?(null!=o&&Kd(o,new J("child_added",c.U,c.name)),e.W(c.name,c.U)):e)}return r.e()?e:l&&0<=a(c,u)?(null!=o&&(Kd(o,new J("child_removed",c.U,c.name)),Kd(o,new J("child_added",r,n))),e.W(n,r).W(c.name,H)):e}function Yd(t,e){this.me=t,this.og=e}function Zd(t){this.X=t}function ie(t,e,n,r,i,o){var a=e.Q;if(null!=r.xc(n))return e;var s;if(n.e())O(lc(e.w()),"If change path is empty, we must have complete server data"),mc(e.w())?(i=Yb(e),r=r.Cc(i instanceof fe?i:H)):r=r.Aa(Yb(e)),o=t.X.ya(e.Q.j(),r,o);else{var u=K(n);if(".priority"==u)O(1==le(n),"Can't have a priority with additional path components"),o=a.j(),s=e.w().j(),r=r.nd(n,o,s),o=null!=r?t.X.ia(o,r):a.j();else{var c=N(n);Wb(a,u)?(s=e.w().j(),r=r.nd(n,a.j(),s),r=null!=r?a.j().T(u).H(c,r):a.j().T(u)):r=r.Bc(u,e.w()),o=null!=r?t.X.H(a.j(),u,r,c,i,o):a.j()}}return ge(e,o,a.ga||n.e(),t.X.Ra())}function ae(t,e,n,r,i,o,a,s){var u=e.w();if(a=a?t.X:t.X.$b(),n.e())r=a.ya(u.j(),r,null);else if(a.Ra()&&!u.Yb)r=u.j().H(n,r),r=a.ya(u.j(),r,null);else{var c=K(n);if(!nc(u,n)&&1<le(n))return e;var l=N(n);r=u.j().T(c).H(l,r),r=".priority"==c?a.ia(u.j(),r):a.H(u.j(),c,r,l,Ub,null)}return u=u.ga||n.e(),e=new je(e.Q,new Xb(r,u,a.Ra())),ie(t,e,n,i,new Vb(i,e,o),s)}function $d(t,e,n,r,i,o,a){var s=e.Q;if(i=new Vb(i,e,o),n.e())a=t.X.ya(e.Q.j(),r,a),t=ge(e,a,!0,t.X.Ra());else if(o=K(n),".priority"===o)a=t.X.ia(e.Q.j(),r),t=ge(e,a,s.ga,s.Yb);else{n=N(n);var u=s.j().T(o);if(!n.e()){var c=i.uf(o);r=null!=c?".priority"===me(n)&&c.S(n.parent()).e()?c:c.H(n,r):H}u.ea(r)?t=e:(a=t.X.H(s.j(),o,r,n,i,a),t=ge(e,a,s.ga,t.X.Ra()))}return t}function ce(t,e,n,r,i,o,a){var s=e;return ne(r,function(r,u){var c=n.o(r);Wb(e.Q,K(c))&&(s=$d(t,s,c,u,i,o,a))}),ne(r,function(r,u){var c=n.o(r);Wb(e.Q,K(c))||(s=$d(t,s,c,u,i,o,a))}),s}function oe(t,e){return ne(e,function(e,n){t=t.H(e,n)}),t}function de(t,e,n,r,i,o,a,s){if(e.w().j().e()&&!lc(e.w()))return e;var u=e;n=n.e()?r:pe(qe,n,r);var c=e.w().j();return n.children.ka(function(n,r){if(c.Fa(n)){var l=e.w().j().T(n),l=oe(l,r);u=ae(t,u,new P(n),l,i,o,a,s)}}),n.children.ka(function(n,r){var l=!Wb(e.w(),n)&&null==r.value;c.Fa(n)||l||(l=e.w().j().T(n),l=oe(l,r),u=ae(t,u,new P(n),l,i,o,a,s))}),u}function he(t,e,n,r,i,o,a){if(null!=i.xc(n))return e;var s=mc(e.w()),u=e.w();if(null!=r.value){if(n.e()&&u.ga||nc(u,n))return ae(t,e,n,u.j().S(n),i,o,s,a);if(n.e()){var c=qe;return u.j().R(re,function(t,e){c=c.set(new P(t),e)}),de(t,e,n,c,i,o,s,a)}return e}return c=qe,ne(r,function(t){var e=n.o(t);nc(u,e)&&(c=c.set(t,u.j().S(e)))}),de(t,e,n,c,i,o,s,a)}function se(){}function Vd(t){return u(t.compare,t)}function ve(t){O(!t.e()&&".priority"!==K(t),"Can't create PathIndex with empty path or .priority key"),this.gc=t}function xe(){}function ye(){}function ze(){}function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}function Td(t){return""===t.Rb?t.oa:"l"===t.Rb}function Od(t){return O(t.oa,"Only valid if start has been set"),t.ic}function Nd(t){return O(t.oa,"Only valid if start has been set"),t.Pb?t.Bb:"[MIN_NAME]"}function Rd(t){return O(t.ra,"Only valid if end has been set"),t.fc}function Pd(t){return O(t.ra,"Only valid if end has been set"),t.Xb?t.zb:"[MAX_NAME]"}function Ee(t){var e=new Ce;return e.la=t.la,e.ma=t.ma,e.oa=t.oa,e.ic=t.ic,e.Pb=t.Pb,e.Bb=t.Bb,e.ra=t.ra,e.fc=t.fc,e.Xb=t.Xb,e.zb=t.zb,e.g=t.g,e}function Fe(t,e){var n=Ee(t);return n.g=e,n}function Ge(t){var e={};if(t.oa&&(e.sp=t.ic,t.Pb&&(e.sn=t.Bb)),t.ra&&(e.ep=t.fc,t.Xb&&(e.en=t.zb)),t.la){e.l=t.ma;var n=t.Rb;""===n&&(n=Td(t)?"l":"r"),e.vf=n}return t.g!==R&&(e.i=t.g.toString()),e}function He(t){return!(t.oa||t.ra||t.la)}function Ie(t){return He(t)&&t.g==R}function Je(t){var e={};if(Ie(t))return e;var n;return t.g===R?n="$priority":t.g===Be?n="$value":t.g===re?n="$key":(O(t.g instanceof ve,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=G(n),t.oa&&(e.startAt=G(t.ic),t.Pb&&(e.startAt+=","+G(t.Bb))),t.ra&&(e.endAt=G(t.fc),t.Xb&&(e.endAt+=","+G(t.zb))),t.la&&(Td(t)?e.limitToFirst=t.ma:e.limitToLast=t.ma),e}function Ke(t,e){this.Ed=t,this.hc=e}function Le(t,e,n){var r=ma(t.Ed,function(r,i){var o=z(t.hc,i);if(O(o,"Missing index implementation for "+i),r===te){if(o.Lc(e.U)){for(var a=[],s=n.ac(wc),u=Ic(s);u;)u.name!=e.name&&a.push(u),u=Ic(s);return a.push(e),Me(a,Vd(o))}return te}return o=n.get(e.name),a=r,o&&(a=a.remove(new L(e.name,o))),a.Sa(e,e.U)});return new Ke(r,t.hc)}function Ne(t,e,n){var r=ma(t.Ed,function(t){if(t===te)return t;var r=n.get(e.name);return r?t.remove(new L(e.name,r)):t});return new Ke(r,t.hc)}function Yc(t,e){this.B=t,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=e||H,Pe(this.ca),this.Gb=null}function fe(t,e,n){this.m=t,(this.ca=e)&&Pe(this.ca),t.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=n,this.Gb=null}function Wd(t,e){var n;return n=(n=Te(t,e))?(n=n.Vc())&&n.name:t.m.Vc(),n?new L(n,t.m.get(n)):null}function Xd(t,e){var n;return n=(n=Te(t,e))?(n=n.jc())&&n.name:t.m.jc(),n?new L(n,t.m.get(n)):null}function Te(t,e){return e===re?null:t.Ab.get(e.toString())}function Q(t,e){if(null===t)return H;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),O(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yc(t,Q(n));if(t instanceof Array){var r=H,i=t;return v(i,function(t,e){if(y(i,e)&&"."!==e.substring(0,1)){var n=Q(t);(n.L()||!n.e())&&(r=r.W(e,n))}}),r.ia(Q(n))}var o=[],a=!1,s=t;if(Fb(s,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=Q(s[t]);e.e()||(a=a||!e.C().e(),o.push(new L(t,e)))}}),0==o.length)return H;var u=Me(o,xc,function(t){return t.name},zc);if(a){var c=Me(o,Vd(R));return new fe(u,Q(n),new Ke({".priority":c},{".priority":R}))}return new fe(u,Q(n),Oe)}function Ve(t){this.count=parseInt(Math.log(t+1)/Ue,10),this.nf=this.count-1,this.ng=t+1&parseInt(Array(this.count+1).join("1"),2)}function We(t){var e=!(t.ng&1<<t.nf);return t.nf--,e}function Me(t,e,n,r){function i(e,r){var o=r-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new Kc(s,a.U,!1,null,null)}var a=parseInt(o/2,10)+e,o=i(e,a),u=i(a+1,r),a=t[a],s=n?n(a):a;return new Kc(s,a.U,!1,o,u)}t.sort(e);var o=function(e){function r(e,r){var u=s-e,c=s;s-=e;var c=i(u+1,c),u=t[u],l=n?n(u):u,c=new Kc(l,u.U,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var c=We(e),l=Math.pow(2,e.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new Ve(t.length));return null!==o?new Ec(r||e,o):new Ec(r||e)}function Re(t){return"number"==typeof t?"number:"+Ad(t):"string:"+t}function Pe(t){if(t.L()){var e=t.J();O("string"==typeof e||"number"==typeof e||"object"==typeof e&&y(e,".sv"),"Priority must be a string or number.")}else O(t===we||t.e(),"priority of unexpected type.");O(t===we||t.C().e(),"Priority nodes can't have a priority of their own.")}function Xe(){fe.call(this,new Ec(zc),H,Oe)}function je(t,e){this.Q=t,this.ae=e}function ge(t,e,n,r){return new je(new Xb(e,n,r),t.ae)}function ke(t){return t.Q.ga?t.Q.j():null}function Yb(t){return t.ae.ga?t.ae.j():null}function Ye(t,e){this.Y=t;var n=t.n,r=new Ld(n.g),n=He(n)?new Ld(n.g):n.la?new Sd(n):new Md(n);this.Nf=new Zd(n);var i=e.w(),o=e.Q,a=r.ya(H,i.j(),null),s=n.ya(H,o.j(),null);this.Oa=new je(new Xb(s,o.ga,n.Ra()),new Xb(a,i.ga,r.Ra())),this.$a=[],this.ug=new Fd(t)}function Ze(t){return t.Y}function af(t,e){var n=t.Oa.Q,r=[];return n.j().L()||n.j().R(R,function(t,e){r.push(new J("child_added",e,t))}),n.ga&&r.push(hc(n.j())),$e(t,r,n.j(),e)}function $e(t,e,n,r){return Gd(t.ug,e,n,r?[r]:t.$a)}function bf(t,e,n){this.type=be,this.source=t,this.path=e,this.children=n}function cf(t,e){this.f=pd("p:rest:"),this.G=t,this.Kb=e,this.Ca=null,this.ba={}}function df(t,e){return p(e)?"tag$"+e:(O(Ie(t.n),"should have a tag if it's not a default query."),
t.path.toString())}function ef(t,e,n,r){n=n||{},n.format="export",t.Ca&&(n.auth=t.Ca);var i=(t.G.ob?"https://":"http://")+t.G.host+e+"?"+Ib(n);t.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){t.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=Rb(o.responseText)}catch(n){S("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&S("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function ff(t){O(da(t)&&0<t.length,"Requires a non-empty array"),this.fg=t,this.Rc={}}function gf(t,e){O(Ra(t.fg,function(t){return t===e}),"Unknown event: "+e)}function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.oc||(t.oc=!0,t.ie("online",!0))},!1),window.addEventListener("offline",function(){t.oc&&(t.oc=!1,t.ie("online",!1))},!1)}}function kf(){ff.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Sb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Sb&&(n.Sb=e,n.ie("visible",e))},!1)}}function P(t,e){if(1==arguments.length){this.u=t.split("/");for(var n=0,r=0;r<this.u.length;r++)0<this.u[r].length&&(this.u[n]=this.u[r],n++);this.u.length=n,this.aa=0}else this.u=t,this.aa=e}function lf(t,e){var n=K(t);if(null===n)return e;if(n===K(e))return lf(N(t),N(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mf(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=yc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(t){return t.aa>=t.u.length?null:t.u[t.aa]}function le(t){return t.u.length-t.aa}function N(t){var e=t.aa;return e<t.u.length&&e++,new P(t.u,e)}function me(t){return t.aa<t.u.length?t.u[t.u.length-1]:null}function nf(t,e){this.Ua=t.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=e;for(var n=0;n<this.Ua.length;n++)this.Ka+=Pb(this.Ua[n]);of(this)}function of(t){if(768<t.Ka)throw Error(t.pf+"has a key path longer than 768 bytes ("+t.Ka+").");if(32<t.Ua.length)throw Error(t.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(t))}function pf(t){return 0==t.Ua.length?"":"in property '"+t.Ua.join(".")+"'"}function qf(t,e){this.value=t,this.children=e||rf}function sf(t){var e=qe;return v(t,function(t,n){e=e.set(new P(n),t)}),e}function tf(t,e,n){if(null!=t.value&&n(t.value))return{path:M,value:t.value};if(e.e())return null;var r=K(e);return t=t.children.get(r),null!==t?(e=tf(t,N(e),n),null!=e?{path:new P(r).o(e.path),value:e.value}:null):null}function uf(t,e){return tf(t,e,function(){return!0})}function pe(t,e,n){if(e.e())return n;var r=K(e);return e=pe(t.children.get(r)||qe,N(e),n),r=e.e()?t.children.remove(r):t.children.Sa(r,e),new qf(t.value,r)}function vf(t,e){return wf(t,M,e)}function wf(t,e,n){var r={};return t.children.ka(function(t,i){r[t]=wf(i,e.o(t),n)}),n(e,t.value,r)}function xf(t,e,n){return yf(t,e,M,n)}function yf(t,e,n,r){var i=t.value?r(n,t.value):!1;return i?i:e.e()?null:(i=K(e),(t=t.children.get(i))?yf(t,N(e),n.o(i),r):null)}function zf(t,e,n){Af(t,e,M,n)}function Af(t,e,n,r){if(e.e())return t;t.value&&r(n,t.value);var i=K(e);return(t=t.children.get(i))?Af(t,N(e),n.o(i),r):qe}function ne(t,e){Bf(t,M,e)}function Bf(t,e,n){t.children.ka(function(t,r){Bf(r,e.o(t),n)}),t.value&&n(e,t.value)}function Cf(t,e){t.children.ka(function(t,n){n.value&&e(t,n.value)})}function Df(t,e,n){this.type=ee,this.source=Ef,this.path=t,this.Ub=e,this.Yd=n}function Ff(t,e,n,r){this.Ae=t,this.tf=e,this.Lb=n,this.ef=r,O(!r||e,"Tagged queries must be from server.")}function Hf(t){this.Z=t}function Jf(t,e,n){if(e.e())return new Hf(new qf(n));var r=uf(t.Z,e);if(null!=r){var i=r.path,r=r.value;return e=lf(i,e),r=r.H(e,n),new Hf(t.Z.set(i,r))}return t=pe(t.Z,e,new qf(n)),new Hf(t)}function Kf(t,e,n){var r=t;return Fb(n,function(t,n){r=Jf(r,e.o(t),n)}),r}function Lf(t,e){var n=uf(t.Z,e);return null!=n?t.Z.get(n.path).S(lf(n.path,e)):null}function Mf(t){var e=[],n=t.Z.value;return null!=n?n.L()||n.R(R,function(t,n){e.push(new L(t,n))}):t.Z.children.ka(function(t,n){null!=n.value&&e.push(new L(t,n.value))}),e}function Nf(t,e){if(e.e())return t;var n=Lf(t,e);return new Hf(null!=n?new qf(n):t.Z.subtree(e))}function Of(t,e,n){if(null!=e.value)return n.H(t,e.value);var r=null;return e.children.ka(function(e,i){".priority"===e?(O(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Of(t.o(e),i,n)}),n.S(t).e()||null===r||(n=n.H(t.o(".priority"),r)),n}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(t,e){for(var n=0;n<t.pa.length;n++){var r=t.pa[n];if(r.md===e)return r}return null}function Rf(t,e){return t.Ja?t.path.contains(e):!!ta(t.children,function(n,r){return t.path.o(r).contains(e)})}function Tf(t){return t.visible}function Sf(t,e,n){for(var r=If,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path;if(o.Ja)n.contains(a)?(a=lf(n,a),r=Jf(r,a,o.Ja)):a.contains(n)&&(a=lf(a,n),r=Jf(r,M,o.Ja.S(a)));else{if(!o.children)throw jd("WriteRecord should have .snap or .children");n.contains(a)?(a=lf(n,a),r=Kf(r,a,o.children)):a.contains(n)&&(a=lf(a,n),a.e()?r=Kf(r,M,o.children):(o=z(o.children,K(a)))&&(o=o.S(N(a)),r=Jf(r,M,o)))}}}return r}function Uf(t,e){this.Qb=t,this.Z=e}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(t,e,n){this.Jd=t?t:"",this.Ha=e?e:null,this.A=n?n:new Vf}function Xf(t,e){for(var n,r=e instanceof P?e:new P(e),i=t;null!==(n=K(r));)i=new Wf(n,i,z(i.A.children,n)||new Vf),r=N(r);return i}function Yf(t,e){O("undefined"!=typeof e,"Cannot set value to undefined"),t.A.value=e,Zf(t)}function $f(t,e,n,r){n&&!r&&e(t),t.R(function(t){$f(t,e,!0,r)}),n&&r&&e(t)}function ag(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Zf(t){if(null!==t.Ha){var e=t.Ha,n=t.Jd,r=t.e(),i=y(e.A.children,n);r&&i?(delete e.A.children[n],e.A.pd--,Zf(e)):r||i||(e.A.children[n]=t.A,e.A.pd++,Zf(e))}}function eg(t){return q(t)&&0!==t.length&&!bg.test(t)}function fg(t){return null===t||q(t)||fa(t)&&!td(t)||ga(t)&&y(t,".sv")}function gg(t,e,n,r){r&&!p(e)||hg(E(t,1,r),e,n)}function hg(t,e,n){if(n instanceof P&&(n=new nf(n,t)),!p(e))throw Error(t+"contains undefined "+pf(n));if(r(e))throw Error(t+"contains a function "+pf(n)+" with contents: "+e.toString());if(td(e))throw Error(t+"contains "+e.toString()+" "+pf(n));if(q(e)&&e.length>10485760/3&&10485760<Pb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+pf(n)+" ('"+e.substring(0,50)+"...')");if(ga(e)){var i=!1,o=!1;if(Fb(e,function(e,r){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!eg(e)))throw Error(t+" contains an invalid key ("+e+") "+pf(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(e),hg(t,r,n),n.pop()}),i&&o)throw Error(t+' contains ".value" child '+pf(n)+" in addition to actual children.")}}function ig(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!eg(i[o]))throw Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(mf),i=null,n=0;n<e.length;n++){if(r=e[n],null!==i&&i.contains(r))throw Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function jg(t,e,n){var r=E(t,1,!1);if(!ga(e)||da(e))throw Error(r+" must be an object containing the children to replace.");var i=[];Fb(e,function(t,e){var o=new P(t);if(hg(r,e,n.o(o)),".priority"===me(o)&&!fg(e))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),ig(r,i)}function kg(t,e,n){if(td(n))throw Error(E(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(n))throw Error(E(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(t,e,n){if(!n||p(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(t,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(t,e){if(p(e)&&!eg(e))throw Error(E(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(t,e){if(!q(e)||0===e.length||cg.test(e))throw Error(E(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(t,e){if(".info"===K(e))throw Error(t+" failed: Can't modify data under /.info/")}function pg(t,e){if(!q(e))throw Error(E(t,1,!1)+"must be a valid credential (a string).")}function qg(t,e,n){if(!q(n))throw Error(E(t,e,!1)+"must be a valid string.")}function rg(t,e){if(qg(t,1,e),!dg.test(e))throw Error(E(t,1,!1)+"'"+e+"' is not a valid authentication provider.")}function sg(t,e,n,r){if((!r||p(n))&&(!ga(n)||null===n))throw Error(E(t,e,r)+"must be a valid object.")}function tg(t,e,n){if(!ga(e)||!y(e,n))throw Error(E(t,1,!1)+'must contain the key "'+n+'"');if(!q(z(e,n)))throw Error(E(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function ug(){this.set={}}function vg(t,e){v(t.set,function(t,n){e(n,t)})}function Vc(){this.m=this.B=null}function wg(t,e){if(e.e())return t.B=null,t.m=null,!0;if(null!==t.B){if(t.B.L())return!1;var n=t.B;return t.B=null,n.R(R,function(e,n){t.rc(new P(e),n)}),wg(t,e)}return null!==t.m?(n=K(e),e=N(e),t.m.contains(n)&&wg(t.m.get(n),e)&&t.m.remove(n),t.m.e()?(t.m=null,!0):!1):!0}function Wc(t,e,n){null!==t.B?n(e,t.B):t.R(function(t,r){var i=new P(e.toString()+"/"+t);Wc(r,i,n)})}function yg(t,e,n){this.qd=t||{},this.he=e||{},this.fb=n||{},this.qd.remember||(this.qd.remember="default")}function Ag(t){var e={},n={};return Fb(t||{},function(t,r){0<=La(zg,t)?e[t]=r:n[t]=r}),new yg(e,{},n)}function Bg(t,e){this.Ue=["session",t.Rd,t.lc].join(":"),this.ee=e}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(t){var e=Cg();if(""===e)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t;return!1}function Gg(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function Hg(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function Ig(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function Jg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function Kg(t){var e="";try{t=t.replace(/.*\?/,"");var n=Jb(t);n&&y(n,"__firebase_request_key")&&(e=z(n,"__firebase_request_key"))}catch(r){}return e}function Lg(){var t=sd(xg);return t.scheme+"://"+t.host+"/v2"}function Mg(t){return Lg()+"/"+t+"/auth/channel"}function Ng(t){var e=this;if(this.hb=t,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!e.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Og(this,{a:"ready"})}catch(n){Hg(this.Uc,"load",function(){Og(e,{a:"ready"})})}Hg(window,"unload",u(this.Mg,this))}function Og(t,e){e=G(e),Fg(8)?t.Uc.doPost(e,t.fe):t.Uc.postMessage(e,t.fe)}function Pg(t){this.tc=Fa()+Fa()+Fa(),this.Kf=t}function Rg(t){var e=Error(z(Qg,t),t);return e.code=t,e}function Sg(t){var e;(e=!t.window_features)||(e=Cg(),e=-1!==e.indexOf("Fennec/")||-1!==e.indexOf("Firefox/")&&-1!==e.indexOf("Android")),e&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Tg(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Ug(t){this.tc=Fa()+Fa()+Fa(),this.Kf=t}function Vg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Wg(t,e,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=t,r.async=!0,r.src=e,r.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(Rg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Rg("NETWORK_ERROR"))}},0)}function Xg(t,e,n,r){ff.call(this,["auth_status"]),this.G=t,this.hf=e,this.gh=n,this.Pe=r,this.wc=new Bg(t,[bd,cd]),this.qb=null,this.We=!1,Yg(this)}function Yg(t){cd.get("redirect_request_id")&&Zg(t);var e=t.wc.get();e&&e.token?($g(t,e),t.hf(e.token,function(n,r){ah(t,n,r,!1,e.token,e)},function(e,n){bh(t,"resumeSession()",e,n)})):$g(t,null)}function ch(t,e,n,r,i,o){"firebaseio-demo.com"===t.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.hf(e,function(o,a){ah(t,o,a,!0,e,n,r||{},i)},function(e,n){bh(t,"auth()",e,n,o)})}function dh(t,e){t.wc.clear(),$g(t,null),t.gh(function(t,n){if("ok"===t)T(e,null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,T(e,i)}})}function ah(t,e,n,r,i,o,a,s){"ok"===e?(r&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=Ed(i)?i:"",n=null,e&&y(e,"uid")?n=z(e,"uid"):y(o,"uid")&&(n=z(o,"uid")),o.uid=n,n="custom",e&&y(e,"provider")?n=z(e,"provider"):y(o,"provider")&&(n=z(o,"provider")),o.provider=n,t.wc.clear(),Ed(i)&&(a=a||{},n=bd,"sessionOnly"===a.remember&&(n=cd),"none"!==a.remember&&t.wc.set(o,n)),$g(t,o)),T(s,null,o)):(t.wc.clear(),$g(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,T(s,o))}function bh(t,e,n,r,i){S(e+" was canceled: "+r),t.wc.clear(),$g(t,null),t=Error(r),t.code=n.toUpperCase(),T(i,t)}function eh(t,e,n,r,i){fh(t),n=new yg(r||{},{},n||{}),gh(t,[Tg,Vg],"/auth/"+e,n,i)}function hh(t,e,n,r){fh(t);var i=[Sg,Ug];n=Ag(n),"anonymous"===e||"password"===e?setTimeout(function(){T(r,Rg("TRANSPORT_UNAVAILABLE"))},0):(n.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.he.relay_url=Mg(t.G.lc),n.he.requestWithCredential=u(t.uc,t),gh(t,i,"/auth/"+e,n,r))}function Zg(t){var e=cd.get("redirect_request_id");if(e){var n=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var r=[Tg,Vg],e={requestId:e,requestKey:Kg(document.location.hash)},n=new yg(n,{},e);t.We=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(i){}gh(t,r,"/auth/session",n,function(){this.We=!1}.bind(t))}}function gh(t,e,n,r,i){ih(t,e,n,r,function(e,n){!e&&n&&n.token&&n.uid?ch(t,n.token,n,r.qd,function(t,e){t?T(i,t):T(i,null,e)}):T(i,e||Rg("UNKNOWN_ERROR"))})}function ih(t,e,n,r,i){e=Na(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){T(i,Rg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(r.he),r=Gb(r.fb),r.v="js-"+Eb,r.transport=e.Fc(),r.suppress_status_codes=!0,t=Lg()+"/"+t.G.lc+n,e.open(t,r,function(t,e){if(t)T(i,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,T(i,n)}else T(i,null,e)}))}function $g(t,e){var n=null!==t.qb||null!==e;t.qb=e,n&&t.ie("auth_status",e),t.Pe(null!==e)}function fh(t){var e=t.G;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+t.G.domain+"') does not support delegated login.")}function jh(t){this.nc=t,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function kh(t,e,n){t.te=e,t.Jb=n,t.te<t.Wb&&(t.Jb(),t.Jb=null)}function lh(t,e,n){for(t.Qd[e]=n;t.Qd[t.Wb];){var r=t.Qd[t.Wb];delete t.Qd[t.Wb];for(var i=0;i<r.length;++i)if(r[i]){var o=t;gc(function(){o.nc(r[i])})}if(t.Wb===t.te){t.Jb&&(clearTimeout(t.Jb),t.Jb(),t.Jb=null);break}t.Wb++}}function mh(t,e,n,r){this.ue=t,this.f=pd(t),this.rb=this.sb=0,this.Xa=uc(e),this.Xf=n,this.Kc=!1,this.Fb=r,this.ld=function(t){return fd(e,hd,t)}}function qh(t,e){var n=G(e).length;t.rb+=n,rc(t.Xa,"bytes_received",n)}function ph(t,e,n,r){if(this.ld=r,this.lb=n,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=t,window["pRTLPCB"+this.ke]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||fc("No IE domain setting required")}catch(i){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.jb=t.contentDocument:t.contentWindow?t.jb=t.contentWindow.document:t.document&&(t.jb=t.document),this.Ga=t,t="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(t),this.Ga.jb.close()}catch(o){fc("frame writing exception"),o.stack&&fc(o.stack),fc(o)}}function sh(t){if(t.oe&&t.$d&&t.Te.count()<(0<t.cd.length?2:1)){t.we++;var e={};e.id=t.Fg,e.pw=t.Gg,e.ser=t.we;for(var e=t.ld(e),n="",r=0;0<t.cd.length&&1870>=t.cd[0].of.length+30+n.length;){var i=t.cd.shift(),n=n+"&seg"+r+"="+i.Xg+"&ts"+r+"="+i.fh+"&d"+r+"="+i.of;r++}return th(t,e+n,t.we),!0}return!1}function th(t,e,n){function r(){t.Te.remove(n),sh(t)}t.Te.add(n,1);var i=setTimeout(r,Math.floor(25e3));rh(t,e,function(){clearTimeout(i),r()})}function rh(t,e,n){setTimeout(function(){try{if(t.$d){var r=t.Ga.jb.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){fc("Long-poll script failed to load: "+e),t.$d=!1,t.close()},t.Ga.jb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function vh(t,e,n,r){this.ue=t,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),r&&(t.ls=r),this.jf=fd(e,gd,t)}function yh(t,e){if(t.frames.push(e),t.frames.length==t.ff){var n=t.frames.join("");t.frames=null,n=Rb(n),t.Kg(n)}}function xh(t){clearInterval(t.Nc),t.Nc=setInterval(function(){t.La&&zh(t,"0"),xh(t)},Math.floor(45e3))}function zh(t,e){try{t.La.send(e)}catch(n){t.f("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(u(t.bb,t),0)}}function Ah(t){Bh(this,t)}function Bh(t,e){var n=vh&&vh.isAvailable(),r=n&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(e.hh&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)t.jd=[vh];else{var i=t.jd=[];zd(Ch,function(t,e){e&&e.isAvailable()&&i.push(e)})}}function Dh(t){if(0<t.jd.length)return t.jd[0];throw Error("No transports available")}function Eh(t,e,n,r,i,o,a){this.id=t,this.f=pd("c:"+this.id+":"),this.nc=n,this.Zc=r,this.na=i,this.Re=o,this.G=e,this.Pd=[],this.kf=0,this.Wf=new Ah(e),this.N=0,this.Fb=a,this.f("Connection created"),Fh(this)}function Fh(t){var e=Dh(t.Wf);t.K=new e("c:"+t.id+":"+t.kf++,t.G,void 0,t.Fb),t.Ve=e.responsesRequiredToBeHealthy||0;var n=Gh(t,t.K),r=Hh(t,t.K);t.kd=t.K,t.ed=t.K,t.F=null,t.Eb=!1,setTimeout(function(){t.K&&t.K.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.Bd=setTimeout(function(){t.Bd=null,t.Eb||(t.K&&102400<t.K.rb?(t.f("Connection exceeded healthy timeout but has received "+t.K.rb+" bytes.  Marking connection healthy."),t.Eb=!0,t.K.Hd()):t.K&&10240<t.K.sb?t.f("Connection exceeded healthy timeout but has sent "+t.K.sb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function Hh(t,e){return function(n){e===t.K?(t.K=null,n||0!==t.N?1===t.N&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.G.ab.substr(0,2)&&(bd.remove("host:"+t.G.host),t.G.ab=t.G.host)),t.close()):e===t.F?(t.f("Secondary connection lost."),n=t.F,t.F=null,t.kd!==n&&t.ed!==n||t.close()):t.f("closing an old connection")}}function Gh(t,e){return function(n){if(2!=t.N)if(e===t.ed){var r=wd("t",n);if(n=wd("d",n),"c"==r){if(r=wd("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.Uf=n.s,ed(t.G,o),0==t.N&&(t.K.start(),Ih(t,t.K,r),"5"!==i&&S("Protocol version mismatch detected"),n=t.Wf,(n=1<n.jd.length?n.jd[1]:null)&&Jh(t,n))}else if("n"===r){for(t.f("recvd end transmission on primary"),t.ed=t.F,n=0;n<t.Pd.length;++n)t.Ld(t.Pd[n]);t.Pd=[],Kh(t)}else"s"===r?(t.f("Connection shutdown command received. Shutting down..."),t.Re&&(t.Re(n),t.Re=null),t.na=null,t.close()):"r"===r?(t.f("Reset packet received.  New host: "+n),ed(t.G,n),1===t.N?t.close():(Lh(t),Fh(t))):"e"===r?qd("Server Error: "+n):"o"===r?(t.f("got pong on primary."),Mh(t),Nh(t)):qd("Unknown control packet command: "+r)}else"d"==r&&t.Ld(n)}else if(e===t.F)if(r=wd("t",n),n=wd("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Oh(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.F.close(),t.kd!==t.F&&t.ed!==t.F||t.close()):"o"===n&&(t.f("got pong on secondary."),t.Tf--,Oh(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.Pd.push(n)}else t.f("message on old connection")}}function Kh(t){t.kd===t.F&&t.ed===t.F&&(t.f("cleaning up and promoting a connection: "+t.F.ue),t.K=t.F,t.F=null)}function Oh(t){0>=t.Tf?(t.f("Secondary connection is healthy."),t.Eb=!0,t.F.Hd(),t.F.start(),t.f("sending client ack on secondary"),t.F.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.K.send({t:"c",d:{t:"n",d:{}}}),t.kd=t.F,Kh(t)):(t.f("sending ping on secondary."),t.F.send({t:"c",d:{t:"p",d:{}}}))}function Mh(t){t.Eb||(t.Ve--,0>=t.Ve&&(t.f("Primary connection is healthy."),t.Eb=!0,t.K.Hd()))}function Jh(t,e){t.F=new e("c:"+t.id+":"+t.kf++,t.G,t.Uf),t.Tf=e.responsesRequiredToBeHealthy||0,t.F.open(Gh(t,t.F),Hh(t,t.F)),setTimeout(function(){t.F&&(t.f("Timed out trying to upgrade."),t.F.close())},Math.floor(6e4))}function Ih(t,e,n){t.f("Realtime connection established."),t.K=e,t.N=1,t.Zc&&(t.Zc(n,t.Uf),t.Zc=null),0===t.Ve?(t.f("Primary connection is healthy."),t.Eb=!0):setTimeout(function(){Nh(t)},Math.floor(5e3))}function Nh(t){t.Eb||1!==t.N||(t.f("sending ping on primary."),Ph(t,{t:"c",d:{t:"p",d:{}}}))}function Ph(t,e){if(1!==t.N)throw"Connection is not connected";t.kd.send(e)}function Lh(t){t.f("Shutting down all connections"),t.K&&(t.K.close(),t.K=null),t.F&&(t.F.close(),t.F=null),t.Bd&&(clearTimeout(t.Bd),t.Bd=null)}function Qh(t,e,n,r){this.id=Rh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=e,this.Xc=n,this.Se=r,this.G=t,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Wg=0,this.rf=!0,this.Oc=this.Ke=null,Sh(this,0),kf.yb().Ib("visible",this.Ng,this),-1===t.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Lg,this)}function Uh(t,e){var n=e.Tg,r=n.path.toString(),i=n.wa();t.f("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=Ge(n.n),o.t=e.tag),o.h=e.Ad(),t.Ia("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&y(a,"w")){var u=z(a,"w");da(u)&&0<=La(u,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.ba[r]&&t.ba[r][i])===e&&(t.f("listen response",o),"ok"!==s&&Vh(t,r,i),e.I&&e.I(s,a))})}function Wh(t){var e=t.Ca;t.qa&&e&&t.Ia("auth",{cred:e.rg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&t.Ca===e&&delete t.Ca,e.sf?"ok"!==r&&e.od&&e.od(r,n):(e.sf=!0,e.Dc&&e.Dc(r,n))})}function Xh(t,e,n,r,i){n={p:n,d:r},t.f("onDisconnect "+e,n),t.Ia(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function Yh(t,e,n,r,i,o){r={p:n,d:r},p(o)&&(r.h=o),t.sa.push({action:e,Pf:r,I:i}),t.ad++,e=t.sa.length-1,t.qa?Zh(t,e):t.f("Buffering put: "+n)}function Zh(t,e){var n=t.sa[e].action,r=t.sa[e].Pf,i=t.sa[e].I;t.sa[e].Ug=t.qa,t.Ia(n,r,function(r){t.f(n+" response",r),delete t.sa[e],t.ad--,0===t.ad&&(t.sa=[]),i&&i(r.s,r.d)})}function Sh(t,e){O(!t.Ma,"Scheduling a connect when we're already connected/ing?"),t.wb&&clearTimeout(t.wb),t.wb=setTimeout(function(){t.wb=null,bi(t)},Math.floor(e))}function bi(t){if(ci(t)){t.f("Making a connection attempt"),t.Ke=(new Date).getTime(),t.Oc=null;var e=u(t.Ld,t),n=u(t.Zc,t),r=u(t.If,t),i=t.id+":"+Th++;t.Ma=new Eh(i,t.G,e,n,r,function(e){S(e+" ("+t.G.toString()+")"),t.Bf=!0},t.Fb)}}function $h(t,e,n){n=n?Oa(n,function(t){return xd(t)}).join("$"):"default",(t=Vh(t,e,n))&&t.I&&t.I("permission_denied")}function Vh(t,e,n){e=new P(e).toString();var r;return p(t.ba[e])?(r=t.ba[e][n],delete t.ba[e][n],0===oa(t.ba[e])&&delete t.ba[e]):r=void 0,r}function ai(t){Wh(t),v(t.ba,function(e){v(e,function(e){Uh(t,e)})});for(var e=0;e<t.sa.length;e++)t.sa[e]&&Zh(t,e);for(;t.Yc.length;)e=t.Yc.shift(),Xh(t,e.action,e.bd,e.data,e.I)}function ci(t){var e;return e=jf.yb().oc,!t.Bf&&!t.Ie&&e}function di(t,e){this.committed=t,this.snapshot=e}function V(t,e){this.dd=t,this.ta=e}function W(t,e,n){this.A=t,this.Y=e,this.g=n}function hi(t,e,n){this.Vb=t,this.tb=e,this.vb=n||null}function ii(t,e,n){this.ja=t,this.tb=e,this.vb=n}function ji(){this.za={}}function li(t){return Na(qa(t.za),function(t){return!He(t.Y.n)})}function mi(t,e){if(He(e.n))return ki(t);var n=e.wa();return z(t.za,n)}function ki(t){return ua(t.za,function(t){return He(t.Y.n)})||null}function ni(t){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=t}function oi(t,e,n,r,i){var o=t.mb,a=i;return O(r>o.Pc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.pa.push({path:e,Ja:n,md:r,visible:a}),a&&(o.V=Jf(o.V,e,n)),o.Pc=r,i?pi(t,new Ac(Ef,e,n)):[]}function qi(t,e,n,r){var i=t.mb;return O(r>i.Pc,"Stacking an older merge on top of newer ones"),i.pa.push({path:e,children:n,md:r,visible:!0}),i.V=Kf(i.V,e,n),i.Pc=r,n=sf(n),pi(t,new bf(Ef,e,n))}function ri(t,e,n){n=n||!1;var r=Qf(t.mb,e);if(t.mb.Ud(e)){var i=qe;return null!=r.Ja?i=i.set(M,!0):Fb(r.children,function(t,e){i=i.set(new P(t),e)}),pi(t,new Df(r.path,i,n))}return[]}function si(t,e,n){return n=sf(n),pi(t,new bf(Gf,e,n))}function ti(t,e,n,r){if(r=ui(t,r),null!=r){var i=vi(r);return r=i.path,i=i.Lb,e=lf(r,e),n=new Ac(new Ff(!1,!0,i,!0),e,n),wi(t,r,n)}return[]}function xi(t,e,n,r){if(r=ui(t,r)){var i=vi(r);return r=i.path,i=i.Lb,e=lf(r,e),n=sf(n),n=new bf(new Ff(!1,!0,i,!0),e,n),wi(t,r,n)}return[]}function Bi(t){return vf(t,function(t,e,n){if(e&&null!=ki(e))return[ki(e)];var r=[];return e&&(r=li(e)),v(n,function(t){r=r.concat(t)}),r})}function Fi(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!He(r.n)){var r=yi(r),i=t.qc[r];delete t.qc[r],delete t.df["_"+i]}}}function Di(t){return He(t.n)&&!Ie(t.n)?t.Mb():t}function Ai(t,e,n){var r=e.path,i=Ei(t,e);if(n=Ci(t,n),e=t.Qc.af(Di(e),i,n.Ad,n.I),r=t.va.subtree(r),i)O(null==ki(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=vf(r,function(t,e,n){if(!t.e()&&e&&null!=ki(e))return[Ze(ki(e))];var r=[];return e&&(r=r.concat(Oa(li(e),function(t){return t.Y}))),v(n,function(t){r=r.concat(t)}),r}),r=0;r<i.length;++r)n=i[r],t.Qc.de(Di(n),Ei(t,n));return e}function Ci(t,e){var n=e.Y,r=Ei(t,n);return{Ad:function(){return(e.w()||H).hash()},I:function(e){if("ok"===e){if(r){var i=n.path;if(e=ui(t,r)){var o=vi(e);e=o.path,o=o.Lb,i=lf(e,i),i=new Cc(new Ff(!1,!0,o,!0),i),e=wi(t,e,i)}else e=[]}else e=pi(t,new Cc(Gf,n.path));return e}return i="Unknown Error","too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?i="Client doesn't have permission to access the desired data.":"unavailable"==e&&(i="The service is unavailable"),i=Error(e+": "+i),i.code=e.toUpperCase(),t.nb(n,null,i)}}}function yi(t){return t.path.toString()+"$"+t.wa()}function vi(t){var e=t.indexOf("$");return O(-1!==e&&e<t.length-1,"Bad queryKey."),{Lb:t.substr(e+1),path:new P(t.substr(0,e))}}function ui(t,e){var n=t.df,r="_"+e;return r in n?n[r]:void 0}function Ei(t,e){var n=yi(e);return z(t.qc,n)}function wi(t,e,n){var r=t.va.get(e);return O(r,"Missing sync point for query tag that we're tracking"),r.gb(n,new Uf(e,t.mb),null)}function pi(t,e){return Gi(t,e,t.va,null,new Uf(M,t.mb))}function Gi(t,e,n,r,i){if(e.path.e())return Hi(t,e,n,r,i);var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[],s=K(e.path),u=e.$c(s);if((n=n.children.get(s))&&u)var c=r?r.T(s):null,s=i.o(s),a=a.concat(Gi(t,u,n,c,s));return o&&(a=a.concat(o.gb(e,i,r))),a}function Hi(t,e,n,r,i){var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[];return n.children.ka(function(n,o){var s=r?r.T(n):null,u=i.o(n),c=e.$c(n);c&&(a=a.concat(Hi(t,c,o,s,u)))}),o&&(a=a.concat(o.gb(e,i,r))),a}function Ii(t,e){this.G=t,this.Xa=uc(t),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Qh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.dh=vc(t,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var n=this;this.Fd=new ni({af:function(t,e,r,i){return e=[],r=n.Ge.j(t.path),r.e()||(e=pi(n.Fd,new Ac(Gf,t.path,r)),setTimeout(function(){i("ok")},0)),e},de:aa}),Ji(this,"connected",!1),this.na=new Vc,this.O=new Xg(t,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new ni({af:function(t,e,r,i){return n.da.Cf(t,r,e,function(e,r){var o=i(e,r);dc(n.fa,t.path,o)}),[]},de:function(t,e){n.da.$f(t,e)}})}function Ki(t){return t=t.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+t}function Li(t){return t=t={timestamp:Ki(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Ji(t,e,n){e=new P("/.info/"+e),n=Q(n);var r=t.Ge;r.Zd=r.Zd.H(e,n),n=pi(t.Fd,new Ac(Gf,e,n)),dc(t.fa,e,n)}function Ni(t){t.f("onDisconnectEvents");var e=Li(t),n=[];Wc(Uc(t.na,e),M,function(e,r){n=n.concat(pi(t.M,new Ac(Gf,e,r)));var i=Pi(t,e);Mi(t,i)}),t.na=new Vc,dc(t.fa,M,n)}function ei(t,e,n,r){var i=Q(n);t.da.Qe(e.toString(),i.J(!0),function(n,o){"ok"===n&&t.na.rc(e,i),Oi(r,n,o);
})}function fi(t,e,n,r,i){var o=Q(n,r);t.da.Qe(e.toString(),o.J(!0),function(n,r){"ok"===n&&t.na.rc(e,o),Oi(i,n,r)})}function gi(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Oi(r,"ok")):t.da.Gf(e.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=Q(n[a]);t.na.rc(e.o(a),s)}Oi(r,i,o)})}function Qi(t,e,n){n=".info"===K(e.path)?t.Fd.Tb(e,n):t.M.Tb(e,n),bc(t.fa,e.path,n)}function Oi(t,e,n){t&&gc(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function Ri(t,e,n,r,i){function o(){}t.f("transaction on "+e);var a=new X(t,e);if(a.Ib("value",o),n={path:e,update:n,I:r,status:null,Lf:id(),gf:i,Sf:0,le:function(){a.mc("value",o)},ne:null,Da:null,rd:null,sd:null,td:null},r=t.M.Aa(e,void 0)||H,n.rd=r,r=n.update(r.J()),p(r)){hg("transaction failed: Data returned ",r,n.path),n.status=1,i=Xf(t.yc,e);var s=i.Ea()||[];s.push(n),Yf(i,s),"object"==typeof r&&null!==r&&y(r,".priority")?(s=z(r,".priority"),O(fg(s),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):s=(t.M.Aa(e)||H).C().J(),i=Li(t),r=Q(r,s),i=Xc(r,i),n.sd=r,n.td=i,n.Da=t.Kd++,n=oi(t.M,e,i,n.Da,n.gf),dc(t.fa,e,n),Si(t)}else n.le(),n.sd=null,n.td=null,n.I&&(t=new W(n.rd,new X(t,n.path),R),n.I(null,!1,t))}function Si(t,e){var n=e||t.yc;if(e||Ti(t,n),null!==n.Ea()){var r=Ui(t,n);O(0<r.length,"Sending zero length transaction queue"),Qa(r,function(t){return 1===t.status})&&Vi(t,n.path(),r)}else n.zd()&&n.R(function(e){Si(t,e)})}function Vi(t,e,n){for(var r=Oa(n,function(t){return t.Da}),i=t.M.Aa(e,r)||H,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];O(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Sf++;var s=lf(e,a.path),r=r.H(s,a.sd)}r=r.J(!0),t.da.put(e.toString(),r,function(r){t.f("transaction put response",{path:e.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(ri(t.M,n[o].Da)),n[o].I){var a=n[o].td,s=new X(t,n[o].path);r.push(u(n[o].I,null,null,!0,new W(a,s,R)))}n[o].le()}for(Ti(t,Xf(t.yc,e)),Si(t),dc(t.fa,e,i),o=0;o<r.length;o++)gc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(S("transaction at "+e.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ne=r;Mi(t,e)}},i)}function Mi(t,e){var n=Wi(t,e),r=n.path(),n=Ui(t,n);return Xi(t,n,r),r}function Xi(t,e,n){if(0!==e.length){for(var r=[],i=[],o=Oa(e,function(t){return t.Da}),a=0;a<e.length;a++){var s,c=e[a],l=lf(n,c.path),f=!1;if(O(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)f=!0,s=c.ne,i=i.concat(ri(t.M,c.Da,!0));else if(1===c.status)if(25<=c.Sf)f=!0,s="maxretry",i=i.concat(ri(t.M,c.Da,!0));else{var h=t.M.Aa(c.path,o)||H;c.rd=h;var d=e[a].update(h.J());p(d)?(hg("transaction failed: Data returned ",d,c.path),l=Q(d),"object"==typeof d&&null!=d&&y(d,".priority")||(l=l.ia(h.C())),h=c.Da,d=Li(t),d=Xc(l,d),c.sd=l,c.td=d,c.Da=t.Kd++,Ta(o,h),i=i.concat(oi(t.M,c.path,d,c.Da,c.gf)),i=i.concat(ri(t.M,h,!0))):(f=!0,s="nodata",i=i.concat(ri(t.M,c.Da,!0)))}dc(t.fa,n,i),i=[],f&&(e[a].status=3,setTimeout(e[a].le,Math.floor(0)),e[a].I&&("nodata"===s?(c=new X(t,e[a].path),r.push(u(e[a].I,null,null,!1,new W(e[a].rd,c,R)))):r.push(u(e[a].I,null,Error(s),!1,null))))}for(Ti(t,t.yc),a=0;a<r.length;a++)gc(r[a]);Si(t)}}function Wi(t,e){for(var n,r=t.yc;null!==(n=K(e))&&null===r.Ea();)r=Xf(r,n),e=N(e);return r}function Ui(t,e){var n=[];return Yi(t,e,n),n.sort(function(t,e){return t.Lf-e.Lf}),n}function Yi(t,e,n){var r=e.Ea();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.R(function(e){Yi(t,e,n)})}function Ti(t,e){var n=e.Ea();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yf(e,0<n.length?n:null)}e.R(function(e){Ti(t,e)})}function Pi(t,e){var n=Wi(t,e).path(),r=Xf(t.yc,e);return ag(r,function(e){Zi(t,e)}),Zi(t,r),$f(r,function(e){Zi(t,e)}),n}function Zi(t,e){var n=e.Ea();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(O(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ne="set"):(O(1===n[a].status,"Unexpected transaction status in abort"),n[a].le(),i=i.concat(ri(t.M,n[a].Da,!0)),n[a].I&&r.push(u(n[a].I,null,Error("set"),!1,null))));for(-1===o?Yf(e,null):n.length=o+1,dc(t.fa,e.path(),i),a=0;a<r.length;a++)gc(r[a])}}function $i(){this.sc={},this.ag=!1}function Y(t,e,n,r){this.k=t,this.path=e,this.n=n,this.pc=r}function aj(t){var e=null,n=null;if(t.oa&&(e=Od(t)),t.ra&&(n=Rd(t)),t.g===re){if(t.oa){if("[MIN_NAME]"!=Nd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.ra){if("[MAX_NAME]"!=Pd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===R){if(null!=e&&!fg(e)||null!=n&&!fg(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.g instanceof ve||t.g===Be,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function bj(t){if(t.oa&&t.ra&&t.la&&(!t.la||""===t.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function cj(t,e){if(!0===t.pc)throw Error(e+": You can't combine multiple orderBy calls.")}function dj(t,e,n){var r={cancel:null,Qa:null};if(e&&n)r.cancel=e,F(t,3,r.cancel,!0),r.Qa=n,Qb(t,4,r.Qa);else if(e)if("object"==typeof e&&null!==e)r.Qa=e;else{if("function"!=typeof e)throw Error(E(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r}function X(t,e){var n,r,i;if(t instanceof Ii)n=t,r=e;else{D("new Firebase",1,2,arguments.length),r=sd(arguments[0]),n=r.eh,"firebase"===r.domain&&rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new dd(r.host,r.ob,n,"ws"===r.scheme||"wss"===r.scheme),r=new P(r.bd),i=r.toString();var o;if(!(o=!q(n.host)||0===n.host.length||!eg(n.lc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(q(i)&&0!==i.length&&!cg.test(i))),o)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof $i)i=e;else{if(!q(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=$i.yb(),n.Rd=e}else i=$i.yb();o=n.toString();var a=z(i.sc,o);a||(a=new Ii(n,i.ag),i.sc[o]=a),n=a}Y.call(this,n,r,De,!1),this.then=void 0,this.catch=void 0}var h,n=this,ja=Date.now||function(){return+new Date};ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;t:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break t}}w=""}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(t,e){if(null!=t){p(e)||(e=t.length);for(var n=e-this.Ya,r=0,i=this.pe,o=this.ec;e>r;){if(0==o)for(;n>=r;)Ka(this,t,r),r+=this.Ya;if(q(t)){for(;e>r;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.Ya){Ka(this,i),o=0;break}}else for(;e>r;)if(i[o]=t[r],++o,++r,o==this.Ya){Ka(this,i),o=0;break}}this.ec=o,this.ge+=e}};var x=Array.prototype,La=x.indexOf?function(t,e,n){return x.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,q(t))return q(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ma=x.forEach?function(t,e,n){x.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=q(t)?t.split(""):t,o=0;r>o;o++)o in i&&e.call(n,i[o],o,t)},Na=x.filter?function(t,e,n){return x.filter.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=[],o=0,a=q(t)?t.split(""):t,s=0;r>s;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(i[o++]=u)}return i},Oa=x.map?function(t,e,n){return x.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=q(t)?t.split(""):t,a=0;r>a;a++)a in o&&(i[a]=e.call(n,o[a],a,t));return i},Pa=x.reduce?function(t,e,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=u(e,r)),x.reduce.apply(t,i)}:function(t,e,n,r){var i=n;return Ma(t,function(n,o){i=e.call(r,i,n,o,t)}),i},Qa=x.every?function(t,e,n){return x.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=q(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},Ya,ab,cb=!1,db=[];[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");!function(){var t,e="";return gb&&n.opera?(e=n.opera.version,r(e)?e():e):(ib?t=/rv\:([^\);]+)(\)|;)/:hb?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(w))?e[1]:""),hb&&(t=(t=n.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var kb=null,lb=null,mb=null,qb=0,tb=2,vb=3;pb.prototype.then=function(t,e,n){return wb(this,r(t)?t:null,r(e)?e:null,n)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,pb.prototype.cancel=function(t){this.N==qb&&$a(function(){var e=new ub(t);xb(this,e)},this)},pb.prototype.Yf=function(t){this.N=qb,sb(this,tb,t)},pb.prototype.Zf=function(t){this.N=qb,sb(this,vb,t)},pb.prototype.wg=function(){for(;this.Ba&&this.Ba.length;){var t=this.Ba;this.Ba=null;for(var e=0;e<t.length;e++)yb(this,t[e],this.N,this.Rf)}this.ye=!1};var Db=Xa;ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.0",Mb=n.Promise||pb;Sb.prototype.j=function(t){return this.Zd.S(t)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;Vb.prototype.uf=function(t){var e=this.Oa.Q;return Wb(e,t)?e.j().T(t):(e=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w(),this.bg.Bc(t,e))},Vb.prototype.Ce=function(t,e,n){var r=null!=this.Nd?this.Nd:Yb(this.Oa);return t=this.bg.qe(r,e,1,n,t),0===t.length?null:t[0]},ac.prototype.add=function(t){this.xd.push(t)},ac.prototype.cc=function(){return this.ta};var ic="value";jc.prototype.cc=function(){var t=this.be.Mb();return"value"===this.wd?t.path:t.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var t=this.pg.get(),e=wa(t);if(this.Gd)for(var n in this.Gd)e[n]-=this.Gd[n];return this.Gd=t,e},pc.prototype.Of=function(){var t,e=this.hd.get(),n={},r=!1;for(t in e)0<e[t]&&y(this.Vf,t)&&(n[t]=e[t],r=!0);r&&this.da.Ye(n),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};Ac.prototype.$c=function(t){return this.path.e()?new Ac(this.source,M,this.Ja.T(t)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(t,e){return new Ec(this.Pa,this.xa.Sa(t,e,this.Pa).$(null,null,!1,null,null))},h.remove=function(t){return new Ec(this.Pa,this.xa.remove(t,this.Pa).$(null,null,!1,null,null))},h.get=function(t){for(var e,n=this.xa;!n.e();){if(e=this.Pa(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(t){return this.xa.ka(t)},h.ac=function(t){return new Hc(this.xa,null,this.Pa,!1,t)},h.bc=function(t,e){return new Hc(this.xa,t,this.Pa,!1,e)},h.dc=function(t,e){return new Hc(this.xa,t,this.Pa,!0,e)},h.xf=function(t){return new Hc(this.xa,null,this.Pa,!0,t)},h=Kc.prototype,h.$=function(t,e,n,r,i){return new Kc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(t){return this.left.ka(t)||t(this.key,this.value)||this.right.ka(t)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.$(null,null,null,i.left.Sa(t,e,n),null):0===r?i.$(null,e,null,null,null):i.$(null,null,null,null,i.right.Sa(t,e,n)),Mc(i)},h.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.e()||n.left.ha()||n.left.left.ha()||(n=Oc(n)),n=n.$(null,null,null,n.left.remove(t,e),null);else{if(n.left.ha()&&(n=Pc(n)),n.right.e()||n.right.ha()||n.right.left.ha()||(n=Qc(n),n.left.left.ha()&&(n=Pc(n),n=Qc(n))),0===e(t,n.key)){if(n.right.e())return Fc;r=Lc(n.right),n=n.$(r.key,r.value,null,null,Nc(n.right))}n=n.$(null,null,null,null,n.right.remove(t,e))}return Mc(n)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(t,e){return new Kc(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;Zc.prototype.set=function(t,e){null==e?delete this.Ac[t]:this.Ac[t]=e},Zc.prototype.get=function(t){return y(this.Ac,t)?this.Ac[t]:null},Zc.prototype.remove=function(t){delete this.Ac[t]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(t,e){null==e?this.Ic.removeItem(this.Sd+t):this.Ic.setItem(this.Sd+t,G(e))},h.get=function(t){return t=this.Ic.getItem(this.Sd+t),null==t?null:Rb(t)},h.remove=function(t){this.Ic.removeItem(this.Sd+t)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");dd.prototype.toString=function(){var t=(this.ob?"https://":"http://")+this.host;return this.Rd&&(t+="<"+this.Rd+">"),t};var id=function(){var t=1;return function(){return t++}}(),O=Kb,jd=Lb,ec=null,nd=!0,Bd=/^-?\d{1,10}$/;Fd.prototype.qg=function(t,e){if(null==t.Za||null==e.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(t.Za,t.Na),new L(e.Za,e.Na))},h=Ld.prototype,h.H=function(t,e,n,r,i,o){return O(t.Mc(this.g),"A node must be indexed if only a child is updated"),i=t.T(e),i.S(r).ea(n.S(r))&&i.e()==n.e()?t:(null!=o&&(n.e()?t.Fa(e)?Kd(o,new J("child_removed",i,e)):O(t.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?Kd(o,new J("child_added",n,e)):Kd(o,new J("child_changed",n,e,i))),t.L()&&n.e()?t:t.W(e,n).pb(this.g))},h.ya=function(t,e,n){return null!=n&&(t.L()||t.R(R,function(t,r){e.Fa(t)||Kd(n,new J("child_removed",r,t))}),e.L()||e.R(R,function(e,r){if(t.Fa(e)){var i=t.T(e);i.ea(r)||Kd(n,new J("child_changed",r,e,i))}else Kd(n,new J("child_added",r,e))})),e.pb(this.g)},h.ia=function(t,e){return t.e()?H:t.ia(e)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(t){return 0>=this.g.compare(this.gd,t)&&0>=this.g.compare(t,this.Jc)},h.H=function(t,e,n,r,i,o){return this.matches(new L(e,n))||(n=H),this.Fe.H(t,e,n,r,i,o)},h.ya=function(t,e,n){e.L()&&(e=H);var r=e.pb(this.g),r=r.ia(H),i=this;return e.R(R,function(t,e){i.matches(new L(t,e))||(r=r.W(t,H))}),this.Fe.ya(t,r,n)},h.ia=function(t){return t},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(t,e,n,r,i,o){return this.ua.matches(new L(e,n))||(n=H),t.T(e).ea(n)?t:t.Hb()<this.ma?this.ua.$b().H(t,e,n,r,i,o):Ud(this,t,e,n,i,o)},h.ya=function(t,e,n){var r;if(e.L()||e.e())r=H.pb(this.g);else if(2*this.ma<e.Hb()&&e.Mc(this.g)){r=H.pb(this.g),e=this.Nb?e.dc(this.ua.Jc,this.g):e.bc(this.ua.gd,this.g);for(var i=0;0<e.Ta.length&&i<this.ma;){var o,a=Ic(e);if(!(o=this.Nb?0>=this.g.compare(this.ua.gd,a):0>=this.g.compare(a,this.ua.Jc)))break;r=r.W(a.name,a.U),i++}}else{r=e.pb(this.g),r=r.ia(H);var s,u,c;if(this.Nb){e=r.xf(this.g),s=this.ua.Jc,u=this.ua.gd;var l=Vd(this.g);c=function(t,e){return l(e,t)}}else e=r.ac(this.g),s=this.ua.gd,u=this.ua.Jc,c=Vd(this.g);for(var i=0,f=!1;0<e.Ta.length;)a=Ic(e),!f&&0>=c(s,a)&&(f=!0),(o=f&&i<this.ma&&0>=c(a,u))?i++:r=r.W(a.name,H)}return this.ua.$b().ya(t,r,n)},h.ia=function(t){return t},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(t,e,n,r){var i,o=new Jd;if(e.type===Bc)e.source.Ae?n=$d(this,t,e.path,e.Ja,n,r,o):(O(e.source.tf,"Unknown source."),i=e.source.ef||mc(t.w())&&!e.path.e(),n=ae(this,t,e.path,e.Ja,n,r,i,o));else if(e.type===be)e.source.Ae?n=ce(this,t,e.path,e.children,n,r,o):(O(e.source.tf,"Unknown source."),i=e.source.ef||mc(t.w()),n=de(this,t,e.path,e.children,n,r,i,o));else if(e.type===ee)if(e.Yd)if(e=e.path,null!=n.xc(e))n=t;else{if(i=new Vb(n,t,r),r=t.Q.j(),e.e()||".priority"===K(e))lc(t.w())?e=n.Aa(Yb(t)):(e=t.w().j(),O(e instanceof fe,"serverChildren would be complete if leaf node"),e=n.Cc(e)),e=this.X.ya(r,e,o);else{var a=K(e),s=n.Bc(a,t.w());null==s&&Wb(t.w(),a)&&(s=r.T(a)),e=null!=s?this.X.H(r,a,s,N(e),i,o):t.Q.j().Fa(a)?this.X.H(r,a,H,N(e),i,o):r,e.e()&&lc(t.w())&&(r=n.Aa(Yb(t)),r.L()&&(e=this.X.ya(e,r,o)))}r=lc(t.w())||null!=n.xc(M),n=ge(t,e,r,this.X.Ra())}else n=he(this,t,e.path,e.Ub,n,r,o);else{if(e.type!==Dc)throw jd("Unknown operation type: "+e.type);r=e.path,e=t.w(),i=e.j(),a=e.ga||r.e(),n=ie(this,new je(t.Q,new Xb(i,a,e.Yb)),r,n,Ub,o)}return o=qa(o.ib),r=n,e=r.Q,e.ga&&(i=e.j().L()||e.j().e(),a=ke(t),(0<o.length||!t.Q.ga||i&&!e.j().ea(a)||!e.j().C().ea(a.C()))&&o.push(hc(ke(r)))),new Yd(n,o)};var te={};se.prototype.Dd=function(t,e){return 0!==this.compare(new L("[MIN_NAME]",t),new L("[MIN_NAME]",e))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(t){return!t.S(this.gc).e()},h.compare=function(t,e){var n=t.U.S(this.gc),r=e.U.S(this.gc),n=n.Gc(r);return 0===n?yc(t.name,e.name):n},h.Sc=function(t,e){var n=Q(t),n=H.H(this.gc,n);return new L(e,n)},h.Tc=function(){var t=H.H(this.gc,we);return new L("[MAX_NAME]",t)},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(t,e){var n=t.U.C(),r=e.U.C(),n=n.Gc(r);return 0===n?yc(t.name,e.name):n},h.Lc=function(t){return!t.C().e()},h.Dd=function(t,e){return!t.C().ea(e.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(t,e){var n=Q(t);return new L(e,new Yc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var R=new xe;ka(ye,se),h=ye.prototype,h.compare=function(t,e){return yc(t.name,e.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(t){return O(q(t),"KeyIndex indexValue must always be a string."),new L(t,H)},h.toString=function(){return".key"};var re=new ye;ka(ze,se),h=ze.prototype,h.compare=function(t,e){var n=t.U.Gc(e.U);return 0===n?yc(t.name,e.name):n},h.Lc=function(){return!0},h.Dd=function(t,e){return!t.ea(e)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(t,e){var n=Q(t);return new L(e,n)},h.toString=function(){return".value"};var Be=new ze,De=new Ce;h=Ce.prototype,h.Le=function(t){var e=Ee(this);return e.la=!0,e.ma=t,e.Rb="",e},h.Me=function(t){var e=Ee(this);return e.la=!0,e.ma=t,e.Rb="l",e},h.Ne=function(t){var e=Ee(this);return e.la=!0,e.ma=t,e.Rb="r",e},h.ce=function(t,e){var n=Ee(this);return n.oa=!0,p(t)||(t=null),n.ic=t,null!=e?(n.Pb=!0,n.Bb=e):(n.Pb=!1,n.Bb=""),n},h.vd=function(t,e){var n=Ee(this);return n.ra=!0,p(t)||(t=null),n.fc=t,p(e)?(n.Xb=!0,n.zb=e):(n.mh=!1,n.zb=""),n},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(t){var e=z(this.Ed,t);if(!e)throw Error("No index defined for "+t);return e===te?null:e};var Oe=new Ke({".priority":te},{".priority":R}),Qe=["object","boolean","number","string"];h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(t){return new Yc(this.B,t)},h.T=function(t){return".priority"===t?this.ca:H},h.S=function(t){return t.e()?this:".priority"===K(t)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(t,e){return".priority"===t?this.ia(e):e.e()&&".priority"!==t?this:H.W(t,e).ia(this.ca)},h.H=function(t,e){var n=K(t);return null===n?e:e.e()&&".priority"!==n?this:(O(".priority"!==n||1===le(t),".priority must be the last token in a path"),this.W(n,H.H(N(t),e)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(t){return t&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var t="";this.ca.e()||(t+="priority:"+Re(this.ca.J())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+Ad(this.B):t+this.B;this.Gb=ld(t)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(t){if(t===H)return 1;if(t instanceof fe)return-1;O(t.L(),"Unknown node type");var e=typeof t.B,n=typeof this.B,r=La(Qe,e),i=La(Qe,n);return O(r>=0,"Unknown leaf type: "+e),O(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:i-r},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(t){return t===this?!0:t.L()?this.B===t.B&&this.ca.ea(t.ca):!1},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(t){return this.m.e()?this:new fe(this.m,t,this.Ab)},h.T=function(t){return".priority"===t?this.C():(t=this.m.get(t),null===t?H:t)},h.S=function(t){var e=K(t);return null===e?this:this.T(e).S(N(t))},h.Fa=function(t){return null!==this.m.get(t)},h.W=function(t,e){if(O(e,"We should always be passing snapshot nodes"),".priority"===t)return this.ia(e);var n,r,i=new L(t,e);return e.e()?(n=this.m.remove(t),i=Ne(this.Ab,i,this.m)):(n=this.m.Sa(t,e),i=Le(this.Ab,i,this.m)),r=n.e()?H:this.ca,new fe(n,r,i)},h.H=function(t,e){var n=K(t);if(null===n)return e;O(".priority"!==K(t)||1===le(t),".priority must be the last token in a path");var r=this.T(n).H(N(t),e);return this.W(n,r)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;h=fe.prototype,h.J=function(t){if(this.e())return null;var e={},n=0,r=0,i=!0;if(this.R(R,function(o,a){e[o]=a.J(t),n++,i&&Se.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&2*n>r){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().J()),e},h.hash=function(){if(null===this.Gb){var t="";this.C().e()||(t+="priority:"+Re(this.C().J())+":"),this.R(R,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.Gb=""===t?"":ld(t)}return this.Gb},h.wf=function(t,e,n){return(n=Te(this,n))?(t=Gc(n,new L(t,e)))?t.name:null:Gc(this.m,t)},h.R=function(t,e){var n=Te(this,t);return n?n.ka(function(t){return e(t.name,t.U)}):this.m.ka(e)},h.ac=function(t){return this.bc(t.Wc(),t)},h.bc=function(t,e){var n=Te(this,e);if(n)return n.bc(t,function(t){return t});for(var n=this.m.bc(t.name,wc),r=Jc(n);null!=r&&0>e.compare(r,t);)Ic(n),r=Jc(n);return n},h.xf=function(t){return this.dc(t.Tc(),t)},h.dc=function(t,e){var n=Te(this,e);if(n)return n.dc(t,function(t){return t});for(var n=this.m.dc(t.name,wc),r=Jc(n);null!=r&&0<e.compare(r,t);)Ic(n),r=Jc(n);return n},h.Gc=function(t){return this.e()?t.e()?0:-1:t.L()||t.e()?1:t===we?-1:0},h.pb=function(t){if(t===re||sa(this.Ab.hc,t.toString()))return this;var e=this.Ab,n=this.m;O(t!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.ac(wc),o=Ic(n);o;)i=i||t.Lc(o.U),r.push(o),o=Ic(n);return r=i?Me(r,Vd(t)):te,i=t.toString(),n=wa(e.hc),n[i]=t,t=wa(e.Ed),t[i]=r,new fe(this.m,this.ca,new Ke(t,n))},h.Mc=function(t){return t===re||sa(this.Ab.hc,t.toString())},h.ea=function(t){if(t===this)return!0;if(t.L())return!1;if(this.C().ea(t.C())&&this.m.count()===t.m.count()){var e=this.ac(R);t=t.ac(R);for(var n=Ic(e),r=Ic(t);n&&r;){if(n.name!==r.name||!n.U.ea(r.U))return!1;n=Ic(e),r=Ic(t)}return null===n&&null===r}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2),H=new fe(new Ec(zc),null,Oe);ka(Xe,fe),h=Xe.prototype,h.Gc=function(t){return t===this?0:1},h.ea=function(t){return t===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(t){var e=Yb(this.Oa);return e&&(He(this.Y.n)||!t.e()&&!e.T(K(t)).e())?e.S(t):null},h.e=function(){return 0===this.$a.length},h.Tb=function(t){this.$a.push(t)},h.nb=function(t,e){var n=[];if(e){O(null==t,"A cancel should cancel all event registrations.");var r=this.Y.path;Ma(this.$a,function(t){(t=t.lf(e,r))&&n.push(t)})}if(t){for(var i=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(t)){if(t.yf()){i=i.concat(this.$a.slice(o+1));break}}else i.push(a)}this.$a=i}else this.$a=[];return n},h.gb=function(t,e,n){t.type===be&&null!==t.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var r=this.Oa;return t=this.Nf.gb(r,t,e,n),e=this.Nf,n=t.me,O(n.Q.j().Mc(e.X.g),"Event snap not indexed"),O(n.w().j().Mc(e.X.g),"Server snap not indexed"),O(lc(t.me.w())||!lc(r.w()),"Once a server snap is complete, it should never go back"),this.Oa=t.me,$e(this,t.og,t.me.Q.j(),null)},bf.prototype.$c=function(t){return this.path.e()?(t=this.children.subtree(new P(t)),t.e()?null:t.value?new Ac(this.source,M,t.value):new bf(this.source,M,t)):(O(K(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(t,e,n,r){var i=t.path.toString();this.f("Listen called for "+i+" "+t.wa());var o=df(t,n),a={};this.ba[o]=a,t=Je(t.n);var s=this;ef(this,i+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.Kb(i,u,!1,n),z(s.ba,o)===a&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},h.$f=function(t,e){var n=df(t,e);delete this.ba[n]},h.O=function(t,e){this.Ca=t;var n=Cd(t),r=n.data,n=n.Ec&&n.Ec.exp;e&&e("ok",{auth:r,expires:n})},h.je=function(t){this.Ca=null,t("ok",null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(t,e){var n;n=this.Rc[t]||[];var r=n.length;if(r>0){for(var i=Array(r),o=0;r>o;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Dc.apply(n[r].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(t,e,n){gf(this,t),this.Rc[t]=this.Rc[t]||[],this.Rc[t].push({Dc:e,Qa:n}),(t=this.Ee(t))&&e.apply(n,t)},ff.prototype.mc=function(t,e,n){gf(this,t),t=this.Rc[t]||[];for(var r=0;r<t.length;r++)if(t[r].Dc===e&&(!n||n===t[r].Qa)){t.splice(r,1);break}};var hf=function(){var t=0,e=[];return function(n){var r=n===t;t=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(O(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return O(20===n.length,"nextPushId: Length should be 20."),n}}();ka(jf,ff),jf.prototype.Ee=function(t){return O("online"===t,"Unknown event type: "+t),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(t){return O("visible"===t,"Unknown event type: "+t),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var t="",e=this.aa;e<this.u.length;e++)""!==this.u[e]&&(t+="/"+this.u[e]);return t||"/"},h.slice=function(t){return this.u.slice(this.aa+(t||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var t=[],e=this.aa;e<this.u.length-1;e++)t.push(this.u[e]);return new P(t,0)},h.o=function(t){for(var e=[],n=this.aa;n<this.u.length;n++)e.push(this.u[n]);if(t instanceof P)for(n=t.aa;n<t.u.length;n++)e.push(t.u[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new P(e,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(t){if(le(this)!==le(t))return!1;for(var e=this.aa,n=t.aa;e<=this.u.length;e++,n++)if(this.u[e]!==t.u[n])return!1;return!0},h.contains=function(t){var e=this.aa,n=t.aa;if(le(this)>le(t))return!1;for(;e<this.u.length;){if(this.u[e]!==t.u[n])return!1;++e,++n}return!0};var M=new P("");nf.prototype.push=function(t){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(t),this.Ka+=Pb(t),of(this)},nf.prototype.pop=function(){var t=this.Ua.pop();this.Ka-=Pb(t),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(t,e){return t===e?0:e>t?-1:1});h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(t){if(t.e())return this;var e=this.children.get(K(t));return null!==e?e.subtree(N(t)):qe},h.set=function(t,e){if(t.e())return new qf(e,this.children);var n=K(t),r=(this.children.get(n)||qe).set(N(t),e),n=this.children.Sa(n,r);return new qf(this.value,n)},h.remove=function(t){if(t.e())return this.children.e()?qe:new qf(null,this.children);var e=K(t),n=this.children.get(e);return n?(t=n.remove(N(t)),e=t.e()?this.children.remove(e):this.children.Sa(e,t),null===this.value&&e.e()?qe:new qf(this.value,e)):this},h.get=function(t){if(t.e())return this.value;var e=this.children.get(K(t));return e?e.get(N(t)):null};var qe=new qf(null);qf.prototype.toString=function(){var t={};return ne(this,function(e,n){t[e.toString()]=n.toString()}),G(t)},Df.prototype.$c=function(t){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Ub.subtree(new P(t)),new Df(M,t,this.Yd)):(O(K(this.path)===t,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3,Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};var If=new Hf(new qf(null));Hf.prototype.Ud=function(t){return t.e()?If:(t=pe(this.Z,t,qe),new Hf(t));
},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(t){return Of(M,this.Z,t)},h=Pf.prototype,h.Ud=function(t){var e=Sa(this.pa,function(e){return e.md===t});O(e>=0,"removeWrite called with nonexistent writeId.");var n=this.pa[e];this.pa.splice(e,1);for(var r=n.visible,i=!1,o=this.pa.length-1;r&&o>=0;){var a=this.pa[o];a.visible&&(o>=e&&Rf(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(n.Ja)this.V=this.V.Ud(n.path);else{var s=this;v(n.children,function(t,e){s.V=s.V.Ud(n.path.o(e))})}return!0}return!1},h.Aa=function(t,e,n,r){if(n||r){var i=Nf(this.V,t);return!r&&i.e()?e:r||null!=e||null!=Lf(i,M)?(i=Sf(this.pa,function(e){return(e.visible||r)&&(!n||!(0<=La(n,e.md)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||H,i.apply(e)):null}return i=Lf(this.V,t),null!=i?i:(i=Nf(this.V,t),i.e()?e:null!=e||null!=Lf(i,M)?(e=e||H,i.apply(e)):null)},h.Cc=function(t,e){var n=H,r=Lf(this.V,t);if(r)r.L()||r.R(R,function(t,e){n=n.W(t,e)});else if(e){var i=Nf(this.V,t);e.R(R,function(t,e){var r=Nf(i,new P(t)).apply(e);n=n.W(t,r)}),Ma(Mf(i),function(t){n=n.W(t.name,t.U)})}else i=Nf(this.V,t),Ma(Mf(i),function(t){n=n.W(t.name,t.U)});return n},h.nd=function(t,e,n,r){return O(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.o(e),null!=Lf(this.V,t)?null:(t=Nf(this.V,t),t.e()?r.S(e):t.apply(r.S(e)))},h.Bc=function(t,e,n){t=t.o(e);var r=Lf(this.V,t);return null!=r?r:Wb(n,e)?Nf(this.V,t).apply(n.j().T(e)):null},h.xc=function(t){return Lf(this.V,t)},h.qe=function(t,e,n,r,i,o){var a;if(t=Nf(this.V,t),a=Lf(t,M),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.pb(o),a.e()||a.L())return[];for(e=[],t=Vd(o),i=i?a.dc(n,o):a.bc(n,o),o=Ic(i);o&&e.length<r;)0!==t(o,n)&&e.push(o),o=Ic(i);return e},h=Uf.prototype,h.Aa=function(t,e,n){return this.Z.Aa(this.Qb,t,e,n)},h.Cc=function(t){return this.Z.Cc(this.Qb,t)},h.nd=function(t,e,n){return this.Z.nd(this.Qb,t,e,n)},h.xc=function(t){return this.Z.xc(this.Qb.o(t))},h.qe=function(t,e,n,r,i){return this.Z.qe(this.Qb,t,e,n,r,i)},h.Bc=function(t,e){return this.Z.Bc(this.Qb,t,e)},h.o=function(t){return new Uf(this.Qb.o(t),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(t){var e=this;v(this.A.children,function(n,r){t(new Wf(r,e,n))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;h=ug.prototype,h.add=function(t,e){this.set[t]=null!==e?e:!0},h.contains=function(t){return y(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var t=[];return v(this.set,function(e,n){t.push(n)}),t},Vc.prototype.find=function(t){if(null!=this.B)return this.B.S(t);if(t.e()||null==this.m)return null;var e=K(t);return t=N(t),this.m.contains(e)?this.m.get(e).find(t):null},Vc.prototype.rc=function(t,e){if(t.e())this.B=e,this.m=null;else if(null!==this.B)this.B=this.B.H(t,e);else{null==this.m&&(this.m=new ug);var n=K(t);this.m.contains(n)||this.m.add(n,new Vc),n=this.m.get(n),t=N(t),n.rc(t,e)}},Vc.prototype.R=function(t){null!==this.m&&vg(this.m,function(e,n){t(e,n)})};var xg="auth.firebase.com",zg=["remember","redirectTo"];Bg.prototype.set=function(t,e){if(!e){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.ee[0]}e.set(this.Ue,t)},Bg.prototype.get=function(){var t=Oa(this.ee,u(this.Bg,this)),t=Na(t,function(t){return null!==t});return Va(t,function(t,e){return Dd(e.token)-Dd(t.token)}),0<t.length?t.shift():null},Bg.prototype.Bg=function(t){try{var e=t.get(this.Ue);if(e&&e.token)return e}catch(n){}return null},Bg.prototype.clear=function(){var t=this;Ma(this.ee,function(e){e.remove(t.Ue)})},Ng.prototype.nc=function(t){var e,n=this;try{e=Rb(t.data)}catch(r){}e&&"request"===e.a&&(Ig(window,"message",this.nc),this.fe=t.origin,this.hb&&setTimeout(function(){n.hb(n.fe,e.d,function(t,e){n.mg=!e,n.hb=void 0,Og(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},Ng.prototype.Mg=function(){try{Ig(this.Cd,"message",this.Ff)}catch(t){}this.hb&&(Og(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(e){}},Ng.prototype.Ff=function(t){if(this.mg&&"die"===t.data)try{window.close()}catch(e){}},Pg.prototype.open=function(t,e){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),e.requestId=this.tc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+Ib(e),window.location=t},Pg.isAvailable=function(){return!Eg()&&!Dg()},Pg.prototype.Fc=function(){return"redirect"};var Qg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Sg.prototype.open=function(t,e,n){function r(t){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),Ig(window,"message",i),Ig(window,"unload",r),c&&!t)try{c.close()}catch(e){a.postMessage("die",u)}c=a=void 0}function i(t){if(t.origin===u)try{var e=Rb(t.data);"ready"===e.a?a.postMessage(f,u):"error"===e.a?(r(!1),n&&(n(e.d),n=null)):"response"===e.a&&(r(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(i){}}var o,a,s=Fg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=Jg(t);if(u!==Jg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+Ib(e);var c=window.open(t,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Rg("USER_CANCELLED")),n=null))},500),f=G({a:"request",d:e});Hg(window,"unload",r),Hg(window,"message",i)}},Sg.isAvailable=function(){var t;return(t="postMessage"in window&&!Eg())&&((t=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(t=Cg(),t="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||t.match(/CriOS/)||t.match(/Twitter for iPhone/)||t.match(/FBAN\/FBIOS/)||window.navigator.standalone)),t=!t),t&&!Cg().match(/PhantomJS/)},Sg.prototype.Fc=function(){return"popup"},Tg.prototype.open=function(t,e,n){function r(){n&&(n(Rg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Hg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=Rb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?Rg("SERVER_ERROR"):Rg("NETWORK_ERROR"));n=null,Ig(window,"beforeunload",r)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+Ib(e),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=G(e)),"application/x-www-form-urlencoded"===s&&(i=Ib(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},ya(t,this.options.headers);for(var u in t)o.setRequestHeader(u,t[u]);o.send(i)},Tg.isAvailable=function(){var t;return(t=!!window.XMLHttpRequest)&&(t=Cg(),t=!(t.match(/MSIE/)||t.match(/Trident/))||Fg(10)),t},Tg.prototype.Fc=function(){return"json"},Ug.prototype.open=function(t,e,n){function i(){n&&(n(Rg("USER_CANCELLED")),n=null)}var o,a=this,s=sd(xg);e.requestId=this.tc,e.redirectTo=s.scheme+"://"+s.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=Ib(e),(o=window.open(t,"_blank","location=no"))&&r(o.addEventListener)?(o.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var r=document.createElement("a");r.href=t.url,e=r.host===s.host&&"/blank/page.html"===r.pathname;break t}catch(u){}e=!1}e&&(t=Kg(t.url),o.removeEventListener("exit",i),o.close(),t=new yg(null,null,{requestId:a.tc,requestKey:t}),a.Kf.requestWithCredential("/auth/session",t,n),n=null)}),o.addEventListener("exit",i)):n(Rg("TRANSPORT_UNAVAILABLE"))},Ug.isAvailable=function(){return Dg()},Ug.prototype.Fc=function(){return"redirect"},Vg.prototype.open=function(t,e,n){function r(){n&&(n(Rg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),Ig(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+Ib(e),Hg(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),i()},Wg(o,t,n)},Vg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Vg.prototype.Fc=function(){return"json"},ka(Xg,ff),h=Xg.prototype,h.Be=function(){return this.qb||null},h.ve=function(t,e){fh(this);var n=Ag(t);n.fb._method="POST",this.uc("/users",n,function(t,n){t?T(e,t):T(e,t,n)})},h.Xe=function(t,e){var n=this;fh(this);var r="/users/"+encodeURIComponent(t.email),i=Ag(t);i.fb._method="DELETE",this.uc(r,i,function(t,r){!t&&r&&r.uid&&n.qb&&n.qb.uid&&n.qb.uid===r.uid&&dh(n),T(e,t)})},h.se=function(t,e){fh(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=Ag(t);r.fb._method="PUT",r.fb.password=t.newPassword,this.uc(n,r,function(t){T(e,t)})},h.re=function(t,e){fh(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",r=Ag(t);r.fb._method="PUT",r.fb.email=t.newEmail,r.fb.password=t.password,this.uc(n,r,function(t){T(e,t)})},h.Ze=function(t,e){fh(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=Ag(t);r.fb._method="POST",this.uc(n,r,function(t){T(e,t)})},h.uc=function(t,e,n){ih(this,[Tg,Vg],t,e,n)},h.Ee=function(t){return O("auth_status"===t,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",nh,oh;mh.prototype.open=function(t,e){this.mf=0,this.na=e,this.Ef=new jh(t),this.Db=!1;var n=this;this.ub=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.ub=null},Math.floor(3e4)),ud(function(){if(!n.Db){n.Wa=new ph(function(t,e,r,i,o){if(qh(n,arguments),n.Wa)if(n.ub&&(clearTimeout(n.ub),n.ub=null),n.Kc=!0,"start"==t)n.id=e,n.Mf=r;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Wa.$d=!1,kh(n.Ef,e,function(){n.bb()})):n.bb()}},function(t,e){qh(n,arguments),lh(n.Ef,t,e)},function(){n.bb()},n.ld);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Wa.ke&&(t.cb=n.Wa.ke),t.v="5",n.Xf&&(t.s=n.Xf),n.Fb&&(t.ls=n.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.ld(t),n.f("Connecting via long-poll to "+t),rh(n.Wa,t,function(){})}})},mh.prototype.start=function(){var t=this.Wa,e=this.Mf;for(t.Fg=this.id,t.Gg=e,t.oe=!0;sh(t););t=this.id,e=this.Mf,this.kc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.kc.src=this.ld(n),this.kc.style.display="none",document.body.appendChild(this.kc)},mh.isAvailable=function(){return nh||!oh&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.ih)&&!0},h=mh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(t){t=G(t),this.sb+=t.length,rc(this.Xa,"bytes_sent",t.length),t=Ob(t),t=nb(t,!0),t=yd(t,1840);for(var e=0;e<t.length;e++){var n=this.Wa;n.cd.push({Xg:this.mf,fh:t.length,of:t[e]}),n.oe&&sh(n),this.mf++}},ph.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ga&&(document.body.removeChild(t.Ga),t.Ga=null)},Math.floor(0))}var e=this.lb;e&&(this.lb=null,e())};var uh=null;"undefined"!=typeof MozWebSocket?uh=MozWebSocket:"undefined"!=typeof WebSocket&&(uh=WebSocket);var wh;vh.prototype.open=function(t,e){this.lb=e,this.Kg=t,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new uh(this.jf)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.bb()}var i=this;this.La.onopen=function(){i.f("Websocket connected."),i.Kc=!0},this.La.onclose=function(){i.f("Websocket connection was disconnected."),i.La=null,i.bb()},this.La.onmessage=function(t){if(null!==i.La)if(t=t.data,i.rb+=t.length,rc(i.Xa,"bytes_received",t.length),xh(i),null!==i.frames)yh(i,t);else{t:{if(O(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.ff=e,i.frames=[],t=null;break t}}i.ff=1,i.frames=[]}null!==t&&yh(i,t)}},this.La.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.bb()}},vh.prototype.start=function(){},vh.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==uh&&!wh},vh.responsesRequiredToBeHealthy=2,vh.healthyTimeout=3e4,h=vh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(t){xh(this),t=G(t),this.sb+=t.length,rc(this.Xa,"bytes_sent",t.length),t=yd(t,16384),1<t.length&&zh(this,String(t.length));for(var e=0;e<t.length;e++)zh(this,t[e])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Ch=[mh,vh];Eh.prototype.Ia=function(t){Ph(this,{t:"d",d:t})},Eh.prototype.Ld=function(t){Mh(this),this.nc(t)},Eh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Lh(this),this.na&&(this.na(),this.na=null))};var Rh=0,Th=0;h=Qh.prototype,h.Ia=function(t,e,n){var r=++this.Wg;t={r:r,a:t,b:e},this.f(G(t)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(t),n&&(this.Wd[r]=n)},h.Cf=function(t,e,n,r){var i=t.wa(),o=t.path.toString();this.f("Listen called for "+o+" "+i),this.ba[o]=this.ba[o]||{},O(Ie(t.n)||!He(t.n),"listen() called for non-default but complete query"),O(!this.ba[o][i],"listen() called twice for same path/queryId."),t={I:r,Ad:e,Tg:t,tag:n},this.ba[o][i]=t,this.qa&&Uh(this,t)},h.O=function(t,e,n){this.Ca={rg:t,sf:!1,Dc:e,od:n},this.f("Authenticating using credential: "+t),Wh(this),(e=40==t.length)||(t=Cd(t).Ec,e="object"==typeof t&&!0===z(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(t){delete this.Ca,this.qa&&this.Ia("unauth",{},function(e){t(e.s,e.d)})},h.$f=function(t,e){var n=t.path.toString(),r=t.wa();if(this.f("Unlisten called for "+n+" "+r),O(Ie(t.n)||!He(t.n),"unlisten() called for non-default but complete query"),Vh(this,n,r)&&this.qa){var i=Ge(t.n);this.f("Unlisten on "+n+" for "+r),n={p:n},e&&(n.q=i,n.t=e),this.Ia("n",n)}},h.Qe=function(t,e,n){this.qa?Xh(this,"o",t,e,n):this.Yc.push({bd:t,action:"o",data:e,I:n})},h.Gf=function(t,e,n){this.qa?Xh(this,"om",t,e,n):this.Yc.push({bd:t,action:"om",data:e,I:n})},h.Md=function(t,e){this.qa?Xh(this,"oc",t,null,e):this.Yc.push({bd:t,action:"oc",data:null,I:e})},h.put=function(t,e,n,r){Yh(this,"p",t,e,n,r)},h.Df=function(t,e,n,r){Yh(this,"m",t,e,n,r)},h.Ye=function(t){this.qa&&(t={c:t},this.f("reportStats",t),this.Ia("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},h.Ld=function(t){if("r"in t){this.f("from server: "+G(t));var e=t.r,n=this.Wd[e];n&&(delete this.Wd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Kb(n.p,n.d,!1,n.t):"m"===e?this.Kb(n.p,n.d,!0,n.t):"c"===e?$h(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Ca,delete this.Ca,n&&n.od&&n.od(t,e)):"sd"===e?this.$e?this.$e(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(e)+"\nAre you using the latest client?"))}},h.Zc=function(t,e){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:t-(new Date).getTime()}),this.Fb=e,this.rf){var n={};n["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.Ye(n)}ai(this),this.rf=!1,this.Xc(!0)},h.Ng=function(t){t&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Sh(this,0)),this.Sb=t},h.Lg=function(t){t?(this.f("Browser went online."),this.eb=1e3,this.Ma||Sh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var t=0;t<this.sa.length;t++){var e=this.sa[t];e&&"h"in e.Pf&&e.Ug&&(e.I&&e.I("disconnect"),delete this.sa[t],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},ci(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),t=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Sh(this,t),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Sh(this,0)};var U={zg:function(){nh=wh=!0}};U.forceLongPolling=U.zg,U.Ag=function(){oh=!0},U.forceWebSockets=U.Ag,U.$g=function(t,e){t.k.Va.$e=e},U.setSecurityDebugCallback=U.$g,U.bf=function(t,e){t.k.bf(e)},U.stats=U.bf,U.cf=function(t,e){t.k.cf(e)},U.statsIncrementCounter=U.cf,U.ud=function(t){return t.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(t,e){t.k.He=e},U.interceptServerData=U.Dg,U.Jg=function(t){new Ng(t)},U.onPopupOpen=U.Jg,U.Yg=function(t){xg=t},U.setAuthenticationServer=U.Yg,V.prototype.cancel=function(t){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,t,!0);var e=new B;return this.dd.Md(this.ta,C(e,t)),e.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(t){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,t,!0);var e=new B;return ei(this.dd,this.ta,null,C(e,t)),e.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(t,e){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",t,this.ta,!1),F("Firebase.onDisconnect().set",2,e,!0);var n=new B;return ei(this.dd,this.ta,t,C(n,e)),n.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(t,e,n){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",t,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,e),F("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new B;return fi(this.dd,this.ta,t,e,C(r,n)),r.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(t,e){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",t,this.ta),F("Firebase.onDisconnect().update",2,e,!0),n=new B,gi(this.dd,this.ta,t,C(n,e)),n.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(t){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(t)&&(t=String(t)),ng("Firebase.DataSnapshot.child",t);var e=new P(t),n=this.Y.o(e);return new W(this.A.S(e),n,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(t){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",t);var e=new P(t);return!this.A.S(e).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(t){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,t,!1),this.A.L())return!1;var e=this;return!!this.A.R(this.g,function(n,r){return t(new W(r,e.Y.o(n),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.L()?!1:!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=hi.prototype,h.Qf=function(t){return"value"===t},h.createEvent=function(t,e){var n=e.n.g;return new jc("value",this,new W(t.Na,e.Mb(),n))},h.Zb=function(t){var e=this.vb;if("cancel"===t.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(e,t.error)}}var r=this.Vb;return function(){r.call(e,t.be)}},h.lf=function(t,e){return this.tb?new kc(this,t,e):null},h.matches=function(t){return t instanceof hi?t.Vb&&this.Vb?t.Vb===this.Vb&&t.vb===this.vb:!0:!1},h.yf=function(){return null!==this.Vb},h=ii.prototype,h.Qf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ja},h.lf=function(t,e){return this.tb?new kc(this,t,e):null},h.createEvent=function(t,e){O(null!=t.Za,"Child events should have a childName.");var n=e.Mb().o(t.Za);return new jc(t.type,this,new W(t.Na,n,e.n.g),t.Td)},h.Zb=function(t){var e=this.vb;if("cancel"===t.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(e,t.error)}}var r=this.ja[t.wd];return function(){r.call(e,t.be,t.Td)}},h.matches=function(t){if(t instanceof ii){if(!this.ja||!t.ja)return!0;if(this.vb===t.vb){var e=oa(t.ja);if(e===oa(this.ja)){if(1===e){var e=pa(t.ja),n=pa(this.ja);return!(n!==e||t.ja[e]&&this.ja[n]&&t.ja[e]!==this.ja[n])}return na(this.ja,function(e,n){return t.ja[n]===e})}}}return!1},h.yf=function(){return null!==this.ja},h=ji.prototype,h.e=function(){return va(this.za)},h.gb=function(t,e,n){var r=t.source.Lb;if(null!==r)return r=z(this.za,r),O(null!=r,"SyncTree gave us an op for an invalid query."),r.gb(t,e,n);var i=[];return v(this.za,function(r){i=i.concat(r.gb(t,e,n))}),i},h.Tb=function(t,e,n,r,i){var o=t.wa(),a=z(this.za,o);if(!a){var a=n.Aa(i?r:null),s=!1;a?s=!0:(a=r instanceof fe?n.Cc(r):H,s=!1),a=new Ye(t,new je(new Xb(a,s,!1),new Xb(r,i,!1))),this.za[o]=a}return a.Tb(e),af(a,e)},h.nb=function(t,e,n){var r=t.wa(),i=[],o=[],a=null!=ki(this);if("default"===r){var s=this;v(this.za,function(t,r){o=o.concat(t.nb(e,n)),t.e()&&(delete s.za[r],He(t.Y.n)||i.push(t.Y))})}else{var u=z(this.za,r);u&&(o=o.concat(u.nb(e,n)),u.e()&&(delete this.za[r],He(u.Y.n)||i.push(u.Y)))}return a&&null==ki(this)&&i.push(new X(t.k,t.path)),{Vg:i,vg:o}},h.kb=function(t){var e=null;return v(this.za,function(n){e=e||n.kb(t)}),e},ni.prototype.Tb=function(t,e){var n=t.path,r=null,i=!1;zf(this.va,n,function(t,e){var o=lf(t,n);r=r||e.kb(o),i=i||null!=ki(e)});var o=this.va.get(n);o?(i=i||null!=ki(o),r=r||o.kb(M)):(o=new ji,this.va=this.va.set(n,o));var a;null!=r?a=!0:(a=!1,r=H,Cf(this.va.subtree(n),function(t,e){var n=e.kb(M);n&&(r=r.W(t,n))}));var s=null!=mi(o,t);if(!s&&!He(t.n)){var u=yi(t);O(!(u in this.qc),"View does not exist, but we have a tag");var c=zi++;this.qc[u]=c,this.df["_"+c]=u}return a=o.Tb(t,e,new Uf(n,this.mb),r,a),s||i||(o=mi(o,t),a=a.concat(Ai(this,t,o))),a},ni.prototype.nb=function(t,e,n){var r=t.path,i=this.va.get(r),o=[];if(i&&("default"===t.wa()||null!=mi(i,t))){o=i.nb(t,e,n),i.e()&&(this.va=this.va.remove(r)),i=o.Vg,o=o.vg,e=-1!==Sa(i,function(t){return He(t.n)});var a=xf(this.va,r,function(t,e){return null!=ki(e)});if(e&&!a&&(r=this.va.subtree(r),!r.e()))for(var r=Bi(r),s=0;s<r.length;++s){var u=r[s],c=u.Y,u=Ci(this,u);this.Qc.af(Di(c),Ei(this,c),u.Ad,u.I)}if(!a&&0<i.length&&!n)if(e)this.Qc.de(Di(t),null);else{var l=this;Ma(i,function(t){t.wa();var e=l.qc[yi(t)];l.Qc.de(Di(t),e)})}Fi(this,i)}return o},ni.prototype.Aa=function(t,e){var n=this.mb,r=xf(this.va,t,function(e,n){var r=lf(e,t);return(r=n.kb(r))?r:void 0});return n.Aa(t,r,e,!0)};var zi=1;h=Ii.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(t,e,n,r){this.ud++;var i=new P(t);e=this.He?this.He(t,e):e,t=[],r?n?(e=ma(e,function(t){return Q(t)}),t=xi(this.M,i,e,r)):(e=Q(e),t=ti(this.M,i,e,r)):n?(r=ma(e,function(t){return Q(t)}),t=si(this.M,i,r)):(r=Q(e),t=pi(this.M,new Ac(Gf,i,r))),r=i,0<t.length&&(r=Mi(this,i)),dc(this.fa,r,t)},h.Xc=function(t){Ji(this,"connected",t),!1===t&&Ni(this)},h.Se=function(t){var e=this;zd(t,function(t,n){Ji(e,n,t)})},h.Pe=function(t){Ji(this,"authenticated",t)},h.Ob=function(t,e,n,r){this.f("set",{path:t.toString(),value:e,lh:n});var i=Li(this);e=Q(e,n);var i=Xc(e,i),o=this.Kd++,i=oi(this.M,t,i,o,!0);$b(this.fa,i);var a=this;this.da.put(t.toString(),e.J(!0),function(e,n){var i="ok"===e;i||S("set at "+t+" failed: "+e),i=ri(a.M,o,!i),dc(a.fa,t,i),Oi(r,e,n)}),i=Pi(this,t),Mi(this,i),dc(this.fa,i,[])},h.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var r=!0,i=Li(this),o={};if(v(e,function(t,e){r=!1;var n=Q(t);o[e]=Xc(n,i)}),r)fc("update() called with empty data.  Don't do anything."),Oi(n,"ok");else{var a=this.Kd++,s=qi(this.M,t,o,a);$b(this.fa,s);var u=this;this.da.Df(t.toString(),e,function(e,r){var i="ok"===e;i||S("update at "+t+" failed: "+e);var i=ri(u.M,a,!i),o=t;0<i.length&&(o=Mi(u,t)),dc(u.fa,o,i),Oi(n,e,r)}),e=Pi(this,t),Mi(this,e),dc(this.fa,t,[])}},h.Md=function(t,e){var n=this;this.da.Md(t.toString(),function(r,i){"ok"===r&&wg(n.na,t),Oi(e,r,i)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(t){if("undefined"!=typeof console){t?(this.hd||(this.hd=new oc(this.Xa)),t=this.hd.get()):t=this.Xa.get();var e,n=Pa(ra(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var r=t[e],i=e.length;n+2>i;i++)e+=" ";console.log(e+r)}}},h.cf=function(t){rc(this.Xa,t),this.dh.Vf[t]=!0},h.f=function(t){var e="";this.Va&&(e=this.Va.id+":"),fc(e,arguments)},$i.prototype.Cb=function(){for(var t in this.sc)this.sc[t].Cb()},$i.prototype.vc=function(){for(var t in this.sc)this.sc[t].vc()},$i.prototype.ze=function(){this.ag=!0},ba($i),$i.prototype.interrupt=$i.prototype.Cb,$i.prototype.resume=$i.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(t,e,n,r){D("Query.on",2,4,arguments.length),lg("Query.on",t,!1),F("Query.on",2,e,!1);var i=dj("Query.on",n,r);if("value"===t)Qi(this.k,this,new hi(e,i.cancel||null,i.Qa||null));else{var o={};o[t]=e,Qi(this.k,this,new ii(o,i.cancel,i.Qa))}return e},h.mc=function(t,e,n){D("Query.off",0,3,arguments.length),lg("Query.off",t,!0),F("Query.off",2,e,!0),Qb("Query.off",3,n);var r=null,i=null;"value"===t?r=new hi(e||null,null,n||null):t&&(e&&(i={},i[t]=e),r=new ii(i,null,n||null)),i=this.k,r=".info"===K(this.path)?i.Fd.nb(this,r):i.M.nb(this,r),bc(i.fa,this.path,r)},h.Og=function(t,e){function n(s){o&&(o=!1,i.mc(t,n),e&&e.call(r.Qa,s),a.resolve(s))}D("Query.once",1,4,arguments.length),lg("Query.once",t,!1),F("Query.once",2,e,!0);var r=dj("Query.once",arguments[2],arguments[3]),i=this,o=!0,a=new B;return Nb(a.D),this.Ib(t,n,function(e){i.mc(t,n),r.cancel&&r.cancel.call(r.Qa,e),a.reject(e)}),a.D},h.Le=function(t){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.n.Le(t);return bj(e),new Y(this.k,this.path,e,this.pc)},h.Me=function(t){if(D("Query.limitToFirst",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(t),this.pc)},h.Ne=function(t){if(D("Query.limitToLast",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(t),this.pc)},h.Pg=function(t){if(D("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",t),cj(this,"Query.orderByChild");var e=new P(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new ve(e),e=Fe(this.n,e),aj(e),new Y(this.k,this.path,e,!0)},h.Qg=function(){D("Query.orderByKey",0,0,arguments.length),cj(this,"Query.orderByKey");var t=Fe(this.n,re);return aj(t),new Y(this.k,this.path,t,!0)},h.Rg=function(){D("Query.orderByPriority",0,0,arguments.length),cj(this,"Query.orderByPriority");var t=Fe(this.n,R);
return aj(t),new Y(this.k,this.path,t,!0)},h.Sg=function(){D("Query.orderByValue",0,0,arguments.length),cj(this,"Query.orderByValue");var t=Fe(this.n,Be);return aj(t),new Y(this.k,this.path,t,!0)},h.ce=function(t,e){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",t,this.path,!0),mg("Query.startAt",e);var n=this.n.ce(t,e);if(bj(n),aj(n),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(t)||(e=t=null),new Y(this.k,this.path,n,this.pc)},h.vd=function(t,e){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",t,this.path,!0),mg("Query.endAt",e);var n=this.n.vd(t,e);if(bj(n),aj(n),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.pc)},h.tg=function(t,e){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",t,this.path,!1),mg("Query.equalTo",e),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(t,e).vd(t,e)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.aa;n<t.u.length;n++)""!==t.u[n]&&(e+="/"+encodeURIComponent(String(t.u[n])));return this.k.toString()+(e||"/")},h.wa=function(){var t=xd(Ge(this.n));return"{}"===t?"default":t},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Og,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Pg,Y.prototype.orderByKey=Y.prototype.Qg,Y.prototype.orderByPriority=Y.prototype.Rg,Y.prototype.orderByValue=Y.prototype.Sg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Qh,Z.DataConnection=Z.zc,Qh.prototype.bh=function(t,e){this.Ia("q",{p:t},e)},Z.zc.prototype.simpleListen=Z.zc.prototype.bh,Qh.prototype.sg=function(t,e){this.Ia("echo",{d:t},e)},Z.zc.prototype.echo=Z.zc.prototype.sg,Qh.prototype.interrupt=Qh.prototype.Cb,Z.dg=Eh,Z.RealTimeConnection=Z.dg,Eh.prototype.sendRequest=Eh.prototype.Ia,Eh.prototype.close=Eh.prototype.close,Z.Cg=function(t){var e=Qh.prototype.put;return Qh.prototype.put=function(n,r,i,o){p(o)&&(o=t()),e.call(this,n,r,i,o)},function(){Qh.prototype.put=e}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(t){return t.wa()},Z.queryIdentifier=Z.wa,Z.Eg=function(t){return t.k.Va.ba},Z.listens=Z.Eg,Z.ze=function(t){t.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var ej=X,fj=["Firebase"],gj=n;fj[0]in gj||!gj.execScript||gj.execScript("var "+fj[0]);for(var hj;fj.length&&(hj=fj.shift());)!fj.length&&p(ej)?gj[hj]=ej:gj=gj[hj]?gj[hj]:gj[hj]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),$i.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),$i.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=$i,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(t){if(D("Firebase.child",1,1,arguments.length),fa(t))t=String(t);else if(!(t instanceof P))if(null===K(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",e)}else ng("Firebase.child",t);return new X(this.k,this.path.o(t))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new X(this.k,t)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},X.prototype.root=X.prototype.root,X.prototype.set=function(t,e){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",t,this.path,!1),F("Firebase.set",2,e,!0);var n=new B;return this.k.Ob(this.path,t,null,C(n,e)),n.D},X.prototype.set=X.prototype.set,X.prototype.update=function(t,e){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",t,this.path),F("Firebase.update",2,e,!0),n=new B,this.k.update(this.path,t,C(n,e)),n.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(t,e,n){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",t,this.path,!1),kg("Firebase.setWithPriority",2,e),F("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new B;return this.k.Ob(this.path,t,e,C(r,n)),r.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(t){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,t,!0),this.set(null,t)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(t,e,n){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,t,!1),F("Firebase.transaction",2,e,!0),p(n)&&"boolean"!=typeof n)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var i=new B;return r(e)&&Nb(i.D),Ri(this.k,this.path,t,function(t,n,o){t?i.reject(t):i.resolve(new di(n,o)),r(e)&&e(t,n,o)},n),i.D},X.prototype.transaction=X.prototype.transaction,X.prototype.Zg=function(t,e){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,t),F("Firebase.setPriority",2,e,!0);var n=new B;return this.k.Ob(this.path.o(".priority"),t,null,C(n,e)),n.D},X.prototype.setPriority=X.prototype.Zg,X.prototype.push=function(t,e){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",t,this.path,!0),F("Firebase.push",2,e,!0);var n=Ki(this.k),i=hf(n),n=this.o(i);if(null!=t){var o=this,a=n.set(t,e).then(function(){return o.o(i)});n.then=u(a.then,a),n.catch=u(a.then,a,void 0),r(e)&&Nb(a)}return n},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(t,e,n){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",t),F("Firebase.auth",2,e,!0),F("Firebase.auth",3,e,!0);var r=new B;return ch(this.k.O,t,{},{remember:"none"},C(r,e),n),r.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(t){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,t,!0);var e=new B;return dh(this.k.O,C(e,t)),e.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Ig=function(t,e){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,t,!1),Qb("Firebase.onAuth",2,e),this.k.O.Ib("auth_status",t,e)},X.prototype.onAuth=X.prototype.Ig,X.prototype.Hg=function(t,e){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,t,!1),Qb("Firebase.offAuth",2,e),this.k.O.mc("auth_status",t,e)},X.prototype.offAuth=X.prototype.Hg,X.prototype.hg=function(t,e,n){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),pg("Firebase.authWithCustomToken",t),F("Firebase.authWithCustomToken",2,e,!0),sg("Firebase.authWithCustomToken",3,n,!0);var r=new B;return ch(this.k.O,t,{},n||{},C(r,e)),r.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(t,e,n){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),rg("Firebase.authWithOAuthPopup",t),F("Firebase.authWithOAuthPopup",2,e,!0),sg("Firebase.authWithOAuthPopup",3,n,!0);var r=new B;return hh(this.k.O,t,n,C(r,e)),r.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(t,e,n){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),rg("Firebase.authWithOAuthRedirect",t),F("Firebase.authWithOAuthRedirect",2,e,!1),sg("Firebase.authWithOAuthRedirect",3,n,!0);var r=new B,i=this.k.O,o=n,a=C(r,e);fh(i);var s=[Pg],o=Ag(o);return"anonymous"===t||"firebase"===t?T(a,Rg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",o.qd),gh(i,s,"/auth/"+t,o,a)),r.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(t,e,n,r){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(n)&&(r=n,n=void 0),rg("Firebase.authWithOAuthToken",t),F("Firebase.authWithOAuthToken",3,n,!0),sg("Firebase.authWithOAuthToken",4,r,!0);var i=new B;return q(e)?(qg("Firebase.authWithOAuthToken",2,e),eh(this.k.O,t+"/token",{access_token:e},r,C(i,n))):(sg("Firebase.authWithOAuthToken",2,e,!1),eh(this.k.O,t+"/token",e,r,C(i,n))),i.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(t,e){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(t)&&(e=t,t=void 0),F("Firebase.authAnonymously",1,t,!0),sg("Firebase.authAnonymously",2,e,!0);var n=new B;return eh(this.k.O,"anonymous",{},e,C(n,t)),n.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(t,e,n){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),sg("Firebase.authWithPassword",1,t,!1),tg("Firebase.authWithPassword",t,"email"),tg("Firebase.authWithPassword",t,"password"),F("Firebase.authWithPassword",2,e,!0),sg("Firebase.authWithPassword",3,n,!0);var r=new B;return eh(this.k.O,"password",t,n,C(r,e)),r.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(t,e){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,t,!1),tg("Firebase.createUser",t,"email"),tg("Firebase.createUser",t,"password"),F("Firebase.createUser",2,e,!0);var n=new B;return this.k.O.ve(t,C(n,e)),n.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(t,e){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,t,!1),tg("Firebase.removeUser",t,"email"),tg("Firebase.removeUser",t,"password"),F("Firebase.removeUser",2,e,!0);var n=new B;return this.k.O.Xe(t,C(n,e)),n.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(t,e){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,t,!1),tg("Firebase.changePassword",t,"email"),tg("Firebase.changePassword",t,"oldPassword"),tg("Firebase.changePassword",t,"newPassword"),F("Firebase.changePassword",2,e,!0);var n=new B;return this.k.O.se(t,C(n,e)),n.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(t,e){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,t,!1),tg("Firebase.changeEmail",t,"oldEmail"),tg("Firebase.changeEmail",t,"newEmail"),tg("Firebase.changeEmail",t,"password"),F("Firebase.changeEmail",2,e,!0);var n=new B;return this.k.O.re(t,C(n,e)),n.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(t,e){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,t,!1),tg("Firebase.resetPassword",t,"email"),F("Firebase.resetPassword",2,e,!0);var n=new B;return this.k.O.Ze(t,C(n,e)),n.D},X.prototype.resetPassword=X.prototype.Ze}(),module.exports=Firebase},function(t,e){(function(e){var n=e.Symbol;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){(function(e){function n(t,e){return i.call(t,e)||"object"==typeof t&&e in t&&null===o(t)}var r=e.Object.prototype,i=r.hasOwnProperty,o=Object.getPrototypeOf;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n){return i(t,e,n)}var i=n(230);t.exports=r},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return i(n)?n:void 0}var i=n(265);t.exports=r},function(t,e,n){function r(t,e){return"number"==typeof t?!0:!i(t)&&(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}var i=n(4),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(38),o=n(11);t.exports=r},function(t,e,n){(function(e){function r(t){return o(t)&&i(t.length)&&!!k[O.call(t)]}var i=n(39),o=n(11),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",T="[object Uint16Array]",C="[object Uint32Array]",k={};k[w]=k[_]=k[E]=k[j]=k[S]=k[A]=k[x]=k[T]=k[C]=!0,k[a]=k[s]=k[b]=k[u]=k[c]=k[l]=k[f]=k[h]=k[p]=k[d]=k[g]=k[v]=k[m]=k[y]=!1;var R=e.Object.prototype,O=R.toString;t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){for(var e=-1,n=s(t),r=i(t),u=r.length,l=o(t),f=!!l,h=l||[],p=h.length;++e<u;){var d=r[e];f&&("length"==d||a(d,p))||"constructor"==d&&(n||!c.call(t,d))||h.push(d)}return h}var i=n(212),o=n(164),a=n(35),s=n(165),u=e.Object.prototype,c=u.hasOwnProperty;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e){if("function"!=typeof t)throw new TypeError(a);return e=s(void 0===e?t.length-1:o(e),0),function(){for(var n=arguments,r=-1,o=s(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var u=Array(e+1);for(r=-1;++r<e;)u[r]=n[r];return u[e]=a,i(t,this,u)}}var i=n(195),o=n(168),a="Expected a function",s=Math.max;t.exports=r},function(t,e,n){var r=n(1);r.apiLoader=function(t,e){return r.apiLoader.services[t][e]},r.apiLoader.services={},r.XML.Parser=n(120),n(102),"undefined"!=typeof window&&(window.AWS=r),t.exports=r},function(t,e,n){var r=n(173),i=n(70),o=n(1),a=o.util.base64.encode,s=o.util.inherit,u=function(t){var e={"+":"-","=":"_","/":"~"};return t.replace(/[\+=\/]/g,function(t){return e[t]})},c=function(t,e){var n=r.createSign("RSA-SHA1");return n.write(t),u(n.sign(e,"base64"))},l=function(t,e,n,r){var i=JSON.stringify({Statement:[{Resource:t,Condition:{DateLessThan:{"AWS:EpochTime":e}}}]});return{Expires:e,"Key-Pair-Id":n,Signature:c(i.toString(),r)}},f=function(t,e,n){return t=t.replace(/\s/gm,t),{Policy:u(a(t)),"Key-Pair-Id":e,Signature:c(t,n)}},h=function(t){var e=t.split("://");if(e.length<2)throw new Error("Invalid URL.");return e[0].replace("*","")},p=function(t){var e=i.parse(t);return e.path.replace(/^\//,"")+e.hash},d=function(t){switch(h(t)){case"http":case"https":return t;case"rtmp":return p(t);default:throw new Error("Invalid URI scheme. Scheme must be one of http, https, or rtmp")}},g=function(t,e){if(!e||"function"!=typeof e)throw t;e(t)},v=function(t,e){return e&&"function"==typeof e?void e(null,t):t};o.CloudFront.Signer=s({constructor:function(t,e){if(void 0===t||void 0===e)throw new Error("A key pair ID and private key are required");this.keyPairId=t,this.privateKey=e},getSignedCookie:function(t,e){var n="policy"in t?f(t.policy,this.keyPairId,this.privateKey):l(t.url,t.expires,this.keyPairId,this.privateKey),r={};for(var i in n)n.hasOwnProperty(i)&&(r["CloudFront-"+i]=n[i]);return v(r,e)},getSignedUrl:function(t,e){try{var n=d(t.url)}catch(r){return g(r,e)}var o=i.parse(t.url,!0),a=t.hasOwnProperty("policy")?f(t.policy,this.keyPairId,this.privateKey):l(n,t.expires,this.keyPairId,this.privateKey);o.search=null;for(var s in a)a.hasOwnProperty(s)&&(o.query[s]=a[s]);try{var u="rtmp"===h(t.url)?p(i.format(o)):i.format(o)}catch(r){return g(r,e)}return v(u,e)}}),t.exports=o.CloudFront.Signer},function(t,e,n){var r=n(1);n(42),n(43),r.Config=r.util.inherit({constructor:function(t){void 0===t&&(t={}),t=this.extractCredentials(t),r.util.each.call(this,this.keys,function(e,n){this.set(e,t[e],n)})},getCredentials:function(t){function e(e){t(e,e?null:a.credentials)}function n(t,e){return new r.util.error(e||new Error,{code:"CredentialsError",message:t})}function i(){a.credentials.get(function(t){if(t){var r="Could not load credentials from "+a.credentials.constructor.name;t=n(r,t)}e(t)})}function o(){var t=null;a.credentials.accessKeyId&&a.credentials.secretAccessKey||(t=n("Missing credentials")),e(t)}var a=this;a.credentials?"function"==typeof a.credentials.get?i():o():a.credentialProvider?a.credentialProvider.resolve(function(t,r){t&&(t=n("Could not load credentials from any providers",t)),a.credentials=r,e(t)}):e(n("No credentials to load"))},update:function(t,e){e=e||!1,t=this.extractCredentials(t),r.util.each.call(this,t,function(t,n){(e||this.keys.hasOwnProperty(t)||r.Service.hasService(t))&&this.set(t,n)})},loadFromPath:function(t){this.clear();var e=JSON.parse(r.util.readFileSync(t)),n=new r.FileSystemCredentials(t),i=new r.CredentialProviderChain;return i.providers.unshift(n),i.resolve(function(t,n){if(t)throw t;e.credentials=n}),this.constructor(e),this},clear:function(){r.util.each.call(this,this.keys,function(t){delete this[t]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(t,e,n){void 0===e?(void 0===n&&(n=this.keys[t]),"function"==typeof n?this[t]=n.call(this):this[t]=n):"httpOptions"===t&&this[t]?this[t]=r.util.merge(this[t],e):this[t]=e},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0},extractCredentials:function(t){return t.accessKeyId&&t.secretAccessKey&&(t=r.util.copy(t),t.credentials=new r.Credentials(t)),t}}),r.config=new r.Config},function(t,e,n){var r=n(1);r.CognitoIdentityCredentials=r.util.inherit(r.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(t){r.Credentials.call(this),this.expired=!0,this.params=t,this.data=null,this.identityId=null,this.loadCachedId()},refresh:function(t){var e=this;e.createClients(),e.data=null,e.identityId=null,e.getId(function(n){n?(e.clearCachedId(),t(n)):e.params.RoleArn?e.getCredentialsFromSTS(t):e.getCredentialsForIdentity(t)})},clearCachedId:function(){this.identityId=null,delete this.params.IdentityId;var t=this.params.IdentityPoolId,e=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+t+e],delete this.storage[this.localStorageKey.providers+t+e]},getId:function(t){var e=this;return"string"==typeof e.params.IdentityId?t(null,e.params.IdentityId):void e.cognito.getId(function(n,r){!n&&r.IdentityId?(e.params.IdentityId=r.IdentityId,t(null,r.IdentityId)):t(n)})},loadCredentials:function(t,e){t&&e&&(e.expired=!1,e.accessKeyId=t.Credentials.AccessKeyId,e.secretAccessKey=t.Credentials.SecretKey,e.sessionToken=t.Credentials.SessionToken,e.expireTime=t.Credentials.Expiration)},getCredentialsForIdentity:function(t){var e=this;e.cognito.getCredentialsForIdentity(function(n,r){n?e.clearCachedId():(e.cacheId(r),e.data=r,e.loadCredentials(e.data,e)),t(n)})},getCredentialsFromSTS:function(t){var e=this;e.cognito.getOpenIdToken(function(n,r){n?(e.clearCachedId(),t(n)):(e.cacheId(r),e.params.WebIdentityToken=r.Token,e.webIdentityCredentials.refresh(function(n){n?e.clearCachedId():(e.data=e.webIdentityCredentials.data,e.sts.credentialsFrom(e.data,e)),t(n)}))})},loadCachedId:function(){var t=this;if(r.util.isBrowser()&&!t.params.IdentityId){var e=t.getStorage("id");if(e&&t.params.Logins){var n=Object.keys(t.params.Logins),i=(t.getStorage("providers")||"").split(","),o=i.filter(function(t){return-1!==n.indexOf(t)});0!==o.length&&(t.params.IdentityId=e)}else e&&(t.params.IdentityId=e)}},createClients:function(){this.webIdentityCredentials=this.webIdentityCredentials||new r.WebIdentityCredentials(this.params),this.cognito=this.cognito||new r.CognitoIdentity({params:this.params}),this.sts=this.sts||new r.STS},cacheId:function(t){this.identityId=t.IdentityId,this.params.IdentityId=this.identityId,r.util.isBrowser()&&(this.setStorage("id",t.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(t){return this.storage[this.localStorageKey[t]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(t,e){try{this.storage[this.localStorageKey[t]+this.params.IdentityPoolId+(this.params.LoginId||"")]=e}catch(n){}},storage:function(){try{return r.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{}}catch(t){return{}}}()})},function(t,e,n){var r=n(1);n(103),r.EC2MetadataCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),t=t?r.util.copy(t):{},t.httpOptions||(t.httpOptions={}),t.httpOptions=r.util.merge({timeout:this.defaultTimeout},t.httpOptions),this.metadataService=new r.MetadataService(t),this.metadata={}},defaultTimeout:1e3,refresh:function(t){var e=this;t||(t=function(t){if(t)throw t}),e.metadataService.loadCredentials(function(n,r){n||(e.expired=!1,e.metadata=r,e.accessKeyId=r.AccessKeyId,e.secretAccessKey=r.SecretAccessKey,e.sessionToken=r.Token,e.expireTime=new Date(r.Expiration)),t(n)})}})},function(t,e,n){(function(t){var e=n(1);e.EnvironmentCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),this.envPrefix=t,this.get(function(){})},refresh:function(n){if(n||(n=function(t){if(t)throw t}),void 0===t)return void n(new Error("No process info available"));for(var r=["ACCESS_KEY_ID","SECRET_ACCESS_KEY","SESSION_TOKEN"],i=[],o=0;o<r.length;o++){var a="";if(this.envPrefix&&(a=this.envPrefix+"_"),i[o]=t.env[a+r[o]],!i[o]&&"SESSION_TOKEN"!==r[o])return void n(new Error("Variable "+a+r[o]+" not set."))}this.expired=!1,e.Credentials.apply(this,i),n()}})}).call(e,n(5))},function(t,e,n){var r=n(1);r.FileSystemCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.filename=t,this.get(function(){})},refresh:function(t){t||(t=function(t){if(t)throw t});try{var e=JSON.parse(r.util.readFileSync(this.filename));if(r.Credentials.call(this,e),!this.accessKeyId||!this.secretAccessKey)throw new Error("Credentials not set in "+this.filename);this.expired=!1,t()}catch(n){t(n)}}})},function(t,e,n){var r=n(1);r.SAMLCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.expired=!0,this.params=t},refresh:function(t){var e=this;e.createClients(),t||(t=function(t){if(t)throw t}),e.service.assumeRoleWithSAML(function(n,r){n||e.service.credentialsFrom(r,e),t(n)})},createClients:function(){this.service=this.service||new r.STS({params:this.params})}})},function(t,e,n){(function(t){var e=n(1),r=n(123);e.SharedIniFileCredentials=e.util.inherit(e.Credentials,{constructor:function(n){e.Credentials.call(this),n=n||{},this.filename=n.filename,this.profile=n.profile||t.env.AWS_PROFILE||"default",this.get(function(){})},refresh:function(t){t||(t=function(t){if(t)throw t});try{this.filename||this.loadDefaultFilename();var n=e.util.ini.parse(e.util.readFileSync(this.filename));if("object"==typeof n[this.profile]&&(this.accessKeyId=n[this.profile].aws_access_key_id,this.secretAccessKey=n[this.profile].aws_secret_access_key,this.sessionToken=n[this.profile].aws_session_token),!this.accessKeyId||!this.secretAccessKey)throw new Error("Credentials not set in "+this.filename+" using profile "+this.profile);this.expired=!1,t()}catch(r){t(r)}},loadDefaultFilename:function(){var n=t.env,i=n.HOME||n.USERPROFILE||(n.HOMEPATH?(n.HOMEDRIVE||"C:/")+n.HOMEPATH:null);if(!i)throw e.util.error(new Error("Cannot load credentials, HOME path not set"));this.filename=r.join(i,".aws","credentials")}})}).call(e,n(5))},function(t,e,n){var r=n(1);r.TemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.loadMasterCredentials(),this.expired=!0,this.params=t||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(t){var e=this;e.createClients(),t||(t=function(t){if(t)throw t}),e.service.config.credentials=e.masterCredentials;var n=e.params.RoleArn?e.service.assumeRole:e.service.getSessionToken;n.call(e.service,function(n,r){n||e.service.credentialsFrom(r,e),t(n)})},loadMasterCredentials:function(){for(this.masterCredentials=r.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials},createClients:function(){this.service=this.service||new r.STS({params:this.params})}})},function(t,e,n){var r=n(1);r.WebIdentityCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.expired=!0,this.params=t,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null},refresh:function(t){var e=this;e.createClients(),t||(t=function(t){if(t)throw t}),e.service.assumeRoleWithWebIdentity(function(n,r){e.data=null,n||(e.data=r,e.service.credentialsFrom(r,e)),t(n)})},createClients:function(){this.service=this.service||new r.STS({params:this.params})}})},function(t,e,n){function r(t){if("Object"===s(t)){var e={M:{}};for(var n in t)e.M[n]=r(t[n]);return e}if("Array"===s(t)){for(var o={L:[]},a=0;a<t.length;a++)o.L.push(r(t[a]));return o}return"Set"===s(t)?i(t):"String"===s(t)?{S:t}:"Number"===s(t)?{N:t.toString()}:"Binary"===s(t)?{B:t}:"Boolean"===s(t)?{BOOL:t}:"null"===s(t)?{NULL:!0}:void 0}function i(t){var e={};switch(t.type){case"String":e.SS=t.values;break;case"Binary":e.BS=t.values;break;case"Number":e.NS=t.values.map(function(t){return t.toString()})}return e}function o(t){var e,n,r;for(var i in t){var s=t[i];if("M"===i){n={};for(var c in s)n[c]=o(s[c]);return n}if("L"===i){for(e=[],r=0;r<s.length;r++)e.push(o(s[r]));return e}if("SS"===i){for(e=[],r=0;r<s.length;r++)e.push(s[r]+"");return new u(e)}if("NS"===i){for(e=[],r=0;r<s.length;r++)e.push(Number(s[r]));return new u(e)}if("BS"===i){for(e=[],r=0;r<s.length;r++)e.push(new a.Buffer(s[r]));return new u(e)}if("S"===i)return s+"";if("N"===i)return Number(s);if("B"===i)return new a.Buffer(s);if("BOOL"===i)return"true"===s||"TRUE"===s||s===!0;if("NULL"===i)return null}}var a=n(1).util,s=n(45).typeOf,u=n(44);t.exports={input:r,output:o}},function(t,e,n){var r=n(1),i=n(99),o=n(44);r.DynamoDB.DocumentClient=r.util.inherit({operations:{batchGetItem:"batchGet",batchWriteItem:"batchWrite",putItem:"put",getItem:"get",deleteItem:"delete",updateItem:"update",scan:"scan",query:"query"},constructor:function(t){var e=this;e.options=t||{},e.configure(e.options)},configure:function(t){var e=this;e.service=t.service,e.bindServiceObject(t),e.attrValue=e.service.api.operations.putItem.input.members.Item.value.shape},bindServiceObject:function(t){var e=this;if(t=t||{},e.service){var n=r.util.copy(e.service.config);e.service=new e.service.constructor.__super__(n),e.service.config.params=r.util.merge(e.service.config.params||{},t.params)}else e.service=new r.DynamoDB(t)},batchGet:function(t,e){var n=this,r=n.service.batchGetItem(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},batchWrite:function(t,e){var n=this,r=n.service.batchWriteItem(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},"delete":function(t,e){var n=this,r=n.service.deleteItem(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},get:function(t,e){var n=this,r=n.service.getItem(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},put:function(t,e){var n=this,r=n.service.putItem(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},update:function(t,e){var n=this,r=n.service.updateItem(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},scan:function(t,e){var n=this,r=n.service.scan(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},query:function(t,e){var n=this,r=n.service.query(t);return n.setupRequest(r),n.setupResponse(r),"function"==typeof e&&r.send(e),r},createSet:function(t,e){return e=e||{},new o(t,e)},getTranslator:function(){return new i({attrValue:this.attrValue})},setupRequest:function(t){var e=this,n=e.getTranslator(),i=t.operation,o=t.service.api.operations[i].input;t._events.validate.unshift(function(t){t.rawParams=r.util.copy(t.params),t.params=n.translateInput(t.rawParams,o)})},setupResponse:function(t){var e=this,n=e.getTranslator(),i=e.service.api.operations[t.operation].output;t.on("extractData",function(t){t.data=n.translateOutput(t.data,i)});var o=t.response;o.nextPage=function(t){var n,i=this,o=i.request,a=o.service,s=o.operation;try{n=a.paginationConfig(s,!0)}catch(u){i.error=u}if(!i.hasNextPage()){if(t)t(i.error,null);else if(i.error)throw i.error;return null}var c=r.util.copy(o.rawParams);if(i.nextPageTokens){var l=n.inputToken;"string"==typeof l&&(l=[l]);for(var f=0;f<l.length;f++)c[l[f]]=i.nextPageTokens[f];return e[s](c,t)}return t?t(null,null):null}}}),t.exports=r.DynamoDB.DocumentClient},function(t,e,n){var r=n(1).util,i=n(97),o=function(t){t=t||{},this.attrValue=t.attrValue};o.prototype.translateInput=function(t,e){return this.mode="input",this.translate(t,e)},o.prototype.translateOutput=function(t,e){return this.mode="output",this.translate(t,e)},o.prototype.translate=function(t,e){var n=this;if(e&&void 0!==t){if(e.shape===n.attrValue)return i[n.mode](t);switch(e.type){case"structure":return n.translateStructure(t,e);case"map":return n.translateMap(t,e);case"list":return n.translateList(t,e);default:return n.translateScalar(t,e)}}},o.prototype.translateStructure=function(t,e){var n=this;if(null!=t){var i={};return r.each(t,function(t,r){var o=e.members[t];if(o){var a=n.translate(r,o);void 0!==a&&(i[t]=a)}}),i}},o.prototype.translateList=function(t,e){var n=this;if(null!=t){var i=[];return r.arrayEach(t,function(t){var r=n.translate(t,e.member);void 0===r?i.push(null):i.push(r)}),i}},o.prototype.translateMap=function(t,e){var n=this;if(null!=t){var i={};return r.each(t,function(t,r){var o=n.translate(r,e.value);void 0===o?i[t]=null:i[t]=o}),i}},o.prototype.translateScalar=function(t,e){return e.toType(t)},t.exports=o},function(t,e,n){var r=n(1),i=n(54);r.EventListeners={Core:{}},r.EventListeners={Core:(new i).addNamedListeners(function(t,e){e("VALIDATE_CREDENTIALS","validate",function(t,e){return t.service.api.signatureVersion?void t.service.config.getCredentials(function(n){n&&(t.response.error=r.util.error(n,{code:"CredentialsError",message:"Missing credentials in config"})),e()}):e()}),t("VALIDATE_REGION","validate",function(t){t.service.config.region||t.service.isGlobalEndpoint||(t.response.error=r.util.error(new Error,{
code:"ConfigError",message:"Missing region in config"}))}),t("VALIDATE_PARAMETERS","validate",function(t){var e=t.service.api.operations[t.operation].input,n=t.service.config.paramValidation;new r.ParamValidator(n).validate(e,t.params)}),e("COMPUTE_SHA256","afterBuild",function(t,e){if(t.haltHandlersOnError(),!t.service.api.signatureVersion)return e();if(t.service.getSignerClass(t)===r.Signers.V4){var n=t.httpRequest.body||"";r.util.computeSha256(n,function(n,r){n?e(n):(t.httpRequest.headers["X-Amz-Content-Sha256"]=r,e())})}else e()}),t("SET_CONTENT_LENGTH","afterBuild",function(t){if(void 0===t.httpRequest.headers["Content-Length"]){var e=r.util.string.byteLength(t.httpRequest.body);t.httpRequest.headers["Content-Length"]=e}}),t("SET_HTTP_HOST","afterBuild",function(t){t.httpRequest.headers.Host=t.httpRequest.endpoint.host}),t("RESTART","restart",function(){var t=this.response.error;t&&t.retryable&&(this.httpRequest=new r.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)}),e("SIGN","sign",function(t,e){return t.service.api.signatureVersion?void t.service.config.getCredentials(function(n,i){if(n)return t.response.error=n,e();try{var o=r.util.date.getDate(),a=t.service.getSignerClass(t),s=new a(t.httpRequest,t.service.api.signingName||t.service.api.endpointPrefix,t.service.config.signatureCache);delete t.httpRequest.headers.Authorization,delete t.httpRequest.headers.Date,delete t.httpRequest.headers["X-Amz-Date"],s.addAuthorization(i,o),t.signedAt=o}catch(u){t.response.error=u}e()}):e()}),t("VALIDATE_RESPONSE","validateResponse",function(t){this.service.successfulResponse(t,this)?(t.data={},t.error=null):(t.data=null,t.error=r.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),e("SEND","send",function(t,e){function n(n){t.httpResponse.stream=n,n.on("headers",function(e,i){t.request.emit("httpHeaders",[e,i,t]),t.httpResponse.streaming||(2===r.HttpClient.streamsApiVersion?n.on("readable",function(){var e=n.read();null!==e&&t.request.emit("httpData",[e,t])}):n.on("data",function(e){t.request.emit("httpData",[e,t])}))}),n.on("end",function(){t.request.emit("httpDone"),e()})}function i(e){e.on("sendProgress",function(e){t.request.emit("httpUploadProgress",[e,t])}),e.on("receiveProgress",function(e){t.request.emit("httpDownloadProgress",[e,t])})}function o(n){t.error=r.util.error(n,{code:"NetworkingError",region:t.request.httpRequest.region,hostname:t.request.httpRequest.endpoint.hostname,retryable:!0}),t.request.emit("httpError",[t.error,t],function(){e()})}function a(){var e=r.HttpClient.getInstance(),a=t.request.service.config.httpOptions||{};try{var s=e.handleRequest(t.request.httpRequest,a,n,o);i(s)}catch(u){o(u)}}t.httpResponse._abortCallback=e,t.error=null,t.data=null;var s=(r.util.date.getDate()-this.signedAt)/1e3;s>=600?this.emit("sign",[this],function(t){t?e(t):a()}):a()}),t("HTTP_HEADERS","httpHeaders",function(t,e,n){n.httpResponse.statusCode=t,n.httpResponse.headers=e,n.httpResponse.body=new r.util.Buffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var i=e.date||e.Date;if(i){var o=Date.parse(i);n.request.service.config.correctClockSkew&&r.util.isClockSkewed(o)&&r.util.applyClockOffset(o)}}),t("HTTP_DATA","httpData",function(t,e){if(t){if(r.util.isNode()){e.httpResponse.numBytes+=t.length;var n=e.httpResponse.headers["content-length"],i={loaded:e.httpResponse.numBytes,total:n};e.request.emit("httpDownloadProgress",[i,e])}e.httpResponse.buffers.push(new r.util.Buffer(t))}}),t("HTTP_DONE","httpDone",function(t){if(t.httpResponse.buffers&&t.httpResponse.buffers.length>0){var e=r.util.buffer.concat(t.httpResponse.buffers);t.httpResponse.body=e}delete t.httpResponse.numBytes,delete t.httpResponse.buffers}),t("FINALIZE_ERROR","retry",function(t){t.httpResponse.statusCode&&(t.error.statusCode=t.httpResponse.statusCode,void 0===t.error.retryable&&(t.error.retryable=this.service.retryableError(t.error,this)))}),t("INVALIDATE_CREDENTIALS","retry",function(t){if(t.error)switch(t.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":t.error.retryable=!0,t.request.service.config.credentials.expired=!0}}),t("EXPIRED_SIGNATURE","retry",function(t){var e=t.error;e&&"string"==typeof e.code&&"string"==typeof e.message&&e.code.match(/Signature/)&&e.message.match(/expired/)&&(t.error.retryable=!0)}),t("CLOCK_SKEWED","retry",function(t){t.error&&this.service.clockSkewError(t.error)&&this.service.config.correctClockSkew&&r.config.isClockSkewed&&(t.error.retryable=!0)}),t("REDIRECT","retry",function(t){t.error&&t.error.statusCode>=300&&t.error.statusCode<400&&t.httpResponse.headers.location&&(this.httpRequest.endpoint=new r.Endpoint(t.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,t.error.redirect=!0,t.error.retryable=!0)}),t("RETRY_CHECK","retry",function(t){if(t.error)if(t.error.redirect&&t.redirectCount<t.maxRedirects)t.error.retryDelay=0;else if(t.retryCount<t.maxRetries){var e=this.service.retryDelays();t.error.retryDelay=e[t.retryCount]||0}}),e("RESET_RETRY_STATE","afterRetry",function(t,e){var n,r=!1;t.error&&(n=t.error.retryDelay||0,t.error.retryable&&t.retryCount<t.maxRetries?(t.retryCount++,r=!0):t.error.redirect&&t.redirectCount<t.maxRedirects&&(t.redirectCount++,r=!0)),r?(t.error=null,setTimeout(e,n)):e()})}),CorePost:(new i).addNamedListeners(function(t){t("EXTRACT_REQUEST_ID","extractData",r.util.extractRequestId),t("EXTRACT_REQUEST_ID","extractError",r.util.extractRequestId),t("ENOTFOUND_ERROR","httpError",function(t){if("NetworkingError"===t.code&&"ENOTFOUND"===t.errno){var e="Inaccessible host: `"+t.hostname+"'. This service may not be available in the `"+t.region+"' region.";this.response.error=r.util.error(new Error(e),{code:"UnknownEndpoint",region:t.region,hostname:t.hostname,retryable:!0,originalError:t})}})}),Logger:(new i).addNamedListeners(function(t){t("LOG_REQUEST","complete",function(t){function e(){var e=r.util.date.getDate().getTime(),a=(e-i.startTime.getTime())/1e3,s=o.isTTY?!0:!1,u=t.httpResponse.statusCode,c=n(28).inspect(i.params,!0,null),l="";return s&&(l+="[33m"),l+="[AWS "+i.service.serviceIdentifier+" "+u,l+=" "+a.toString()+"s "+t.retryCount+" retries]",s&&(l+="[0;1m"),l+=" "+r.util.string.lowerFirst(i.operation),l+="("+c+")",s&&(l+="[0m"),l}var i=t.request,o=i.service.config.logger;if(o){var a=e();"function"==typeof o.log?o.log(a):"function"==typeof o.write&&o.write(a+"\n")}})}),Json:(new i).addNamedListeners(function(t){var e=n(24);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Rest:(new i).addNamedListeners(function(t){var e=n(19);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestJson:(new i).addNamedListeners(function(t){var e=n(52);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestXml:(new i).addNamedListeners(function(t){var e=n(53);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Query:(new i).addNamedListeners(function(t){var e=n(51);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)})}},function(t,e,n){var r=n(1),i=r.util.nodeRequire("stream").Stream,o=r.util.nodeRequire("stream").Writable,a=r.util.nodeRequire("stream").Readable;n(18),r.NodeHttpClient=r.util.inherit({handleRequest:function(t,e,i,o){var a=this,s=!1,u=t.endpoint,c="";e||(e={}),e.proxy&&(c=u.protocol+"//"+u.hostname,80!==u.port&&443!==u.port&&(c+=":"+u.port),u=new r.Endpoint(e.proxy));var l="https:"===u.protocol,f=n(l?175:174),h={host:u.hostname,port:u.port,method:t.method,headers:t.headers,path:c+t.path};l&&!e.agent&&(h.agent=this.sslAgent()),r.util.update(h,e),delete h.proxy,delete h.timeout;var p=f.request(h,function(t){s||(s=!0,i(t),t.emit("headers",t.statusCode,t.headers))});t.stream=p,p.setTimeout(e.timeout||0,function(){if(!s){s=!0;var t="Connection timed out after "+e.timeout+"ms";o(r.util.error(new Error(t),{code:"TimeoutError"})),p.abort()}}),p.on("error",function(){s||(s=!0,o.apply(this,arguments))});var d=t.headers.Expect||t.headers.expect;return"100-continue"===d?p.on("continue",function(){a.writeBody(p,t)}):this.writeBody(p,t),p},writeBody:function(t,e){var n=e.body;n&&o&&a&&(n instanceof i||(n=r.util.buffer.toStream(n)),n.pipe(this.progressStream(t,e))),n instanceof i?n.pipe(t):n?t.end(n):t.end()},sslAgent:function(){var t=n(175);return r.NodeHttpClient.sslAgent||(r.NodeHttpClient.sslAgent=new t.Agent({rejectUnauthorized:!0}),r.NodeHttpClient.sslAgent.setMaxListeners(0),Object.defineProperty(r.NodeHttpClient.sslAgent,"maxSockets",{enumerable:!0,get:function(){return t.globalAgent.maxSockets}})),r.NodeHttpClient.sslAgent},progressStream:function(t,e){var n=0,r=e.headers["Content-Length"],i=new o;return i._write=function(e,i,o){e&&(n+=e.length,t.emit("sendProgress",{loaded:n,total:r})),o()},i},emitter:null}),r.HttpClient.prototype=r.NodeHttpClient.prototype,r.HttpClient.streamsApiVersion=a?2:1},function(t,e,n){var r=n(1),i=n(25).EventEmitter;n(18),r.XHRClient=r.util.inherit({handleRequest:function(t,e,n,o){var a=this,s=t.endpoint,u=new i,c=s.protocol+"//"+s.hostname;80!==s.port&&443!==s.port&&(c+=":"+s.port),c+=t.path;var l=new XMLHttpRequest,f=!1;t.stream=l,l.addEventListener("readystatechange",function(){try{if(0===l.status)return}catch(t){return}if(this.readyState>=this.HEADERS_RECEIVED&&!f){try{l.responseType="arraybuffer"}catch(t){}u.statusCode=l.status,u.headers=a.parseHeaders(l.getAllResponseHeaders()),u.emit("headers",u.statusCode,u.headers),f=!0}this.readyState===this.DONE&&a.finishRequest(l,u)},!1),l.upload.addEventListener("progress",function(t){u.emit("sendProgress",t)}),l.addEventListener("progress",function(t){u.emit("receiveProgress",t)},!1),l.addEventListener("timeout",function(){o(r.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),l.addEventListener("error",function(){o(r.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),n(u),l.open(t.method,c,e.xhrAsync!==!1),r.util.each(t.headers,function(t,e){"Content-Length"!==t&&"User-Agent"!==t&&"Host"!==t&&l.setRequestHeader(t,e)}),e.timeout&&e.xhrAsync!==!1&&(l.timeout=e.timeout),e.xhrWithCredentials&&(l.withCredentials=!0);try{l.send(t.body)}catch(h){if(!t.body||"object"!=typeof t.body.buffer)throw h;l.send(t.body.buffer)}return u},parseHeaders:function(t){var e={};return r.util.arrayEach(t.split(/\r?\n/),function(t){var n=t.split(":",1)[0],r=t.substring(n.length+2);n.length>0&&(e[n.toLowerCase()]=r)}),e},finishRequest:function(t,e){var n;if("arraybuffer"===t.responseType&&t.response){var i=t.response;n=new r.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),a=0;a<n.length;++a)n[a]=o[a]}try{n||"string"!=typeof t.responseText||(n=new r.util.Buffer(t.responseText))}catch(s){}n&&e.emit("data",n),e.emit("end")}}),r.HttpClient.prototype=r.XHRClient.prototype,r.HttpClient.streamsApiVersion=1},function(t,e,n){(function(e){var r=n(1);n(18);var i=r.util.inherit;r.MetadataService=i({host:"169.254.169.254",httpOptions:{timeout:0},constructor:function(t){r.util.update(this,t)},request:function(t,n){t=t||"/";var i="",o=r.HttpClient.getInstance(),a=new r.HttpRequest("http://"+this.host+t);a.method="GET";var s=this.httpOptions;e.nextTick(function(){o.handleRequest(a,s,function(t){t.on("data",function(t){i+=t.toString()}),t.on("end",function(){n(null,i)})},n)})},loadCredentialsCallbacks:[],loadCredentials:function(t){function e(t,e){for(var r;void 0!==(r=n.loadCredentialsCallbacks.shift());)r(t,e)}var n=this,r="/latest/meta-data/iam/security-credentials/";n.loadCredentialsCallbacks.push(t),n.loadCredentialsCallbacks.length>1||n.request(r,function(t,i){t?e(t):(i=i.split("\n")[0],n.request(r+i,function(t,n){if(t)e(t);else try{var r=JSON.parse(n);e(null,r)}catch(i){e(i)}}))})}}),t.exports=r.MetadataService}).call(e,n(5))},function(t,e,n){var r=n(1);r.ParamValidator=r.util.inherit({constructor:function(t){(t===!0||void 0===t)&&(t={min:!0}),this.validation=t},validate:function(t,e,n){if(this.errors=[],this.validateMember(t,e||{},n||"params"),this.errors.length>1){var i=this.errors.join("\n* ");throw i="There were "+this.errors.length+" validation errors:\n* "+i,r.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(t,e){this.errors.push(r.util.error(new Error(e),{code:t}))},validateStructure:function(t,e,n){this.validateType(e,n,["object"],"structure");for(var r,i=0;t.required&&i<t.required.length;i++){r=t.required[i];var o=e[r];(void 0===o||null===o)&&this.fail("MissingRequiredParameter","Missing required key '"+r+"' in "+n)}for(r in e)if(e.hasOwnProperty(r)){var a=e[r],s=t.members[r];if(void 0!==s){var u=[n,r].join(".");this.validateMember(s,a,u)}else this.fail("UnexpectedParameter","Unexpected key '"+r+"' found in "+n)}return!0},validateMember:function(t,e,n){switch(t.type){case"structure":return this.validateStructure(t,e,n);case"list":return this.validateList(t,e,n);case"map":return this.validateMap(t,e,n);default:return this.validateScalar(t,e,n)}},validateList:function(t,e,n){if(this.validateType(e,n,[Array])){this.validateRange(t,e.length,n,"list member count");for(var r=0;r<e.length;r++)this.validateMember(t.member,e[r],n+"["+r+"]")}},validateMap:function(t,e,n){if(this.validateType(e,n,["object"],"map")){var r=0;for(var i in e)e.hasOwnProperty(i)&&(this.validateMember(t.key,i,n+"[key='"+i+"']"),this.validateMember(t.value,e[i],n+"['"+i+"']"),r++);this.validateRange(t,r,n,"map member count")}},validateScalar:function(t,e,n){switch(t.type){case null:case void 0:case"string":return this.validateString(t,e,n);case"base64":case"binary":return this.validatePayload(e,n);case"integer":case"float":return this.validateNumber(t,e,n);case"boolean":return this.validateType(e,n,["boolean"]);case"timestamp":return this.validateType(e,n,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+t.type+" for "+n)}},validateString:function(t,e,n){this.validateType(e,n,["string"])&&(this.validateEnum(t,e,n),this.validateRange(t,e.length,n,"string length"),this.validatePattern(t,e,n))},validatePattern:function(t,e,n){this.validation.pattern&&void 0!==t.pattern&&(new RegExp(t.pattern).test(e)||this.fail("PatternMatchError",'Provided value "'+e+'" does not match regex pattern /'+t.pattern+"/ for "+n))},validateRange:function(t,e,n,r){this.validation.min&&void 0!==t.min&&e<t.min&&this.fail("MinRangeError","Expected "+r+" >= "+t.min+", but found "+e+" for "+n),this.validation.max&&void 0!==t.max&&e>t.max&&this.fail("MaxRangeError","Expected "+r+" <= "+t.max+", but found "+e+" for "+n)},validateEnum:function(t,e,n){this.validation.enum&&void 0!==t.enum&&-1===t.enum.indexOf(e)&&this.fail("EnumError","Found string value of "+e+", but expected "+t.enum.join("|")+" for "+n)},validateType:function(t,e,n,i){if(null===t||void 0===t)return!1;for(var o=!1,a=0;a<n.length;a++){if("string"==typeof n[a]){if(typeof t===n[a])return!0}else if(n[a]instanceof RegExp){if((t||"").toString().match(n[a]))return!0}else{if(t instanceof n[a])return!0;if(r.util.isType(t,n[a]))return!0;i||o||(n=n.slice()),n[a]=r.util.typeName(n[a])}o=!0}var s=i;s||(s=n.join(", ").replace(/,([^,]+)$/,", or$1"));var u=s.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+e+" to be a"+u+" "+s),!1},validateNumber:function(t,e,n){if(null!==e&&void 0!==e){if("string"==typeof e){var r=parseFloat(e);r.toString()===e&&(e=r)}this.validateType(e,n,["number"])&&this.validateRange(t,e,n,"numeric value")}},validatePayload:function(t,e){if(null!==t&&void 0!==t&&"string"!=typeof t&&(!t||"number"!=typeof t.byteLength)){if(r.util.isNode()){var n=r.util.nodeRequire("stream").Stream;if(r.util.Buffer.isBuffer(t)||t instanceof n)return}var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(t)for(var o=0;o<i.length;o++){if(r.util.isType(t,i[o]))return;if(r.util.typeName(t.constructor)===i[o])return}this.fail("InvalidParameterType","Expected "+e+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},function(t,e,n){function r(){}function i(t){return t.isQueryName||"ec2"!==t.api.protocol?t.name:t.name[0].toUpperCase()+t.name.substr(1)}function o(t,e,n,r){c.each(n.members,function(n,o){var a=e[n];if(null!==a&&void 0!==a){var s=i(o);s=t?t+"."+s:s,u(s,a,o,r)}})}function a(t,e,n,r){var i=1;c.each(e,function(e,o){var a=n.flattened?".":".entry.",s=a+i++ +".",c=s+(n.key.name||"key"),l=s+(n.value.name||"value");u(t+c,e,n.key,r),u(t+l,o,n.value,r)})}function s(t,e,n,r){var o=n.member||{};return 0===e.length?void r.call(this,t,null):void c.arrayEach(e,function(e,a){var s="."+(a+1);if("ec2"===n.api.protocol)s+="";else if(n.flattened){if(o.name){var c=t.split(".");c.pop(),c.push(i(o)),t=c.join(".")}}else s=".member"+s;u(t+s,e,o,r)})}function u(t,e,n,r){null!==e&&void 0!==e&&("structure"===n.type?o(t,e,n,r):"list"===n.type?s(t,e,n,r):"map"===n.type?a(t,e,n,r):r(t,n.toWireFormat(e).toString()))}var c=n(2);r.prototype.serialize=function(t,e,n){o("",t,e,n)},t.exports=r},function(t,e,n){function r(t){if(!t)return null;var e=t.split("-");return e.length<3?null:e.slice(0,e.length-2).join("-")+"-*"}function i(t){var e=t.config.region,n=r(e),i=t.api.endpointPrefix;return[[e,i],[n,i],[e,"*"],[n,"*"],["*",i],["*","*"]].map(function(t){return t[0]&&t[1]?t.join("/"):null})}function o(t,e){s.each(e,function(e,n){"globalEndpoint"!==e&&(void 0===t.config[e]||null===t.config[e])&&(t.config[e]=n)})}function a(t){for(var e=i(t),n=0;n<e.length;n++){var r=e[n];if(r&&u.rules.hasOwnProperty(r)){var a=u.rules[r];return"string"==typeof a&&(a=u.patterns[a]),t.isGlobalEndpoint=!!a.globalEndpoint,a.signatureVersion||(a.signatureVersion="v4"),void o(t,a)}}}var s=n(2),u=n(170);t.exports=a},function(t,e,n){(function(t){function e(t){return s.hasOwnProperty(t._asm.currentState)}var r=n(1),i=n(119),o=r.util.inherit,a=r.util.nodeRequire("domain"),s={success:1,error:1,complete:1},u=new i;u.setupStates=function(){var t=function(t,n){var r=this;r._haltHandlersOnError=!1,r.emit(r._asm.currentState,function(t){if(t)if(e(r)){if(!(a&&r.domain instanceof a.Domain))throw t;t.domainEmitter=r,t.domain=r.domain,t.domainThrown=!1,r.domain.emit("error",t)}else r.response.error=t,n(t);else n(r.response.error)})};this.addState("validate","build","error",t),this.addState("build","afterBuild","restart",t),this.addState("afterBuild","sign","restart",t),this.addState("sign","send","retry",t),this.addState("retry","afterRetry","afterRetry",t),this.addState("afterRetry","sign","error",t),this.addState("send","validateResponse","retry",t),this.addState("validateResponse","extractData","extractError",t),this.addState("extractError","extractData","retry",t),this.addState("extractData","success","retry",t),this.addState("restart","build","error",t),this.addState("success","complete","complete",t),this.addState("error","complete","complete",t),this.addState("complete",null,null,t)},u.setupStates(),r.Request=o({constructor:function(t,e,n){var o=t.endpoint,s=t.config.region,c=t.config.customUserAgent;t.isGlobalEndpoint&&(s="us-east-1"),this.domain=a&&a.active,this.service=t,this.operation=e,this.params=n||{},this.httpRequest=new r.HttpRequest(o,s,c),this.startTime=r.util.date.getDate(),this.response=new r.Response(this),this._asm=new i(u.states,"validate"),this._haltHandlersOnError=!1,r.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(t){return t&&this.on("complete",function(e){t.call(e,e.error,e.data)}),this.runTo(),this.response},build:function(t){return this.runTo("send",t)},runTo:function(t,e){return this._asm.runTo(t,e,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(t){t.error=r.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(t){function e(n){t.call(n,n.error,n.data,function(i){i!==!1&&(n.hasNextPage()?n.nextPage().on("complete",e).send():t.call(n,null,null,r.util.fn.noop))})}t=r.util.fn.makeAsync(t,3),this.on("complete",e).send()},eachItem:function(t){function e(e,i){if(e)return t(e,null);if(null===i)return t(null,null);var o=n.service.paginationConfig(n.operation),a=o.resultKey;Array.isArray(a)&&(a=a[0]);var s=r.util.jamespath.query(a,i);r.util.arrayEach(s,function(e){r.util.arrayEach(e,function(e){t(null,e)})})}var n=this;this.eachPage(e)},isPageable:function(){return this.service.paginationConfig(this.operation)?!0:!1},createReadStream:function(){var e=r.util.nodeRequire("stream"),n=this,i=null;return 2===r.HttpClient.streamsApiVersion?(i=new e.PassThrough,n.send()):(i=new e.Stream,i.readable=!0,i.sent=!1,i.on("newListener",function(e){i.sent||"data"!==e||(i.sent=!0,t.nextTick(function(){n.send()}))})),this.on("httpHeaders",function(t,e,o){if(300>t){n.removeListener("httpData",r.EventListeners.Core.HTTP_DATA),n.removeListener("httpError",r.EventListeners.Core.HTTP_ERROR),n.on("httpError",function(t){o.error=t,o.error.retryable=!1});var a=o.httpResponse.createUnbufferedStream();2===r.HttpClient.streamsApiVersion?a.pipe(i):(a.on("data",function(t){i.emit("data",t)}),a.on("end",function(){i.emit("end")})),a.on("error",function(t){i.emit("error",t)})}}),this.on("error",function(t){i.emit("error",t)}),i},emitEvent:function(t,e,n){"function"==typeof e&&(n=e,e=null),n||(n=function(){}),e||(e=this.eventParameters(t,this.response));var i=r.SequentialExecutor.prototype.emit;i.call(this,t,e,function(t){t&&(this.response.error=t),n.call(this,t)})},eventParameters:function(t){switch(t){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(t,e){return e||"function"!=typeof t||(e=t,t=null),(new r.Signers.Presign).sign(this.toGet(),t,e)},toUnauthenticated:function(){return this.removeListener("validate",r.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",r.EventListeners.Core.SIGN),this},toGet:function(){return("query"===this.service.api.protocol||"ec2"===this.service.api.protocol)&&(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(t){t.httpRequest.method="GET",t.httpRequest.path=t.service.endpoint.path+"?"+t.httpRequest.body,t.httpRequest.body="",delete t.httpRequest.headers["Content-Length"],delete t.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),r.util.mixin(r.Request,r.SequentialExecutor)}).call(e,n(5))},function(t,e,n){var r=n(1),i=r.util.inherit;r.ResourceWaiter=i({constructor:function(t,e){this.service=t,this.state=e,"object"==typeof this.state&&r.util.each.call(this,this.state,function(t,e){this.state=t,this.expectedValue=e}),this.loadWaiterConfig(this.state),this.expectedValue||(this.expectedValue=this.config.successValue)},service:null,state:null,expectedValue:null,config:null,waitDone:!1,Listeners:{retry:(new r.SequentialExecutor).addNamedListeners(function(t){t("RETRY_CHECK","retry",function(t){var e=t.request._waiter;t.error&&"ResourceNotReady"===t.error.code&&(t.error.retryDelay=1e3*e.config.interval)})}),output:(new r.SequentialExecutor).addNamedListeners(function(t){t("CHECK_OUT_ERROR","extractError",function(t){t.error&&t.request._waiter.setError(t,!0)}),t("CHECK_OUTPUT","extractData",function(t){var e=t.request._waiter,n=e.checkSuccess(t);n?t.error=null:e.setError(t,null===n?!1:!0)})}),error:(new r.SequentialExecutor).addNamedListeners(function(t){t("CHECK_ERROR","extractError",function(t){var e=t.request._waiter,n=e.checkError(t);n?(t.error=null,t.data={},t.request.removeAllListeners("extractData")):e.setError(t,null===n?!1:!0)}),t("CHECK_ERR_OUTPUT","extractData",function(t){t.request._waiter.setError(t,!0)})})},wait:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this.service.makeRequest(this.config.operation,t),r=this.Listeners[this.config.successType];return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.Listeners.retry),r&&n.addListeners(r),e&&n.send(e),n},setError:function(t,e){t.data=null,t.error=r.util.error(t.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:e})},checkSuccess:function(t){if(!this.config.successPath)return t.httpResponse.statusCode<300;var e=r.util.jamespath.find(this.config.successPath,t.data);return this.config.failureValue&&this.config.failureValue.indexOf(e)>=0?null:this.expectedValue?e===this.expectedValue:e?!0:!1},checkError:function(t){var e=this.config.successValue;return"number"==typeof e?t.httpResponse.statusCode===e:t.error&&t.error.code===e},loadWaiterConfig:function(t,e){if(!this.service.api.waiters[t]){if(e)return;throw new r.util.error(new Error,{code:"StateNotFoundError",message:"State "+t+" not found."})}this.config=this.service.api.waiters[t];var n=this.config;!function(){n.successType=n.successType||n.acceptorType,n.successPath=n.successPath||n.acceptorPath,n.successValue=n.successValue||n.acceptorValue,n.failureType=n.failureType||n.acceptorType,n.failurePath=n.failurePath||n.acceptorPath,n.failureValue=n.failureValue||n.acceptorValue}()}})},function(t,e,n){var r=n(1),i=r.util.inherit;r.Response=i({constructor:function(t){this.request=t,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new r.HttpResponse,t&&(this.maxRetries=t.service.numRetries(),this.maxRedirects=t.service.config.maxRedirects)},nextPage:function(t){var e,n=this.request.service,i=this.request.operation;try{e=n.paginationConfig(i,!0)}catch(o){this.error=o}if(!this.hasNextPage()){if(t)t(this.error,null);else if(this.error)throw this.error;return null}var a=r.util.copy(this.request.params);if(this.nextPageTokens){var s=e.inputToken;"string"==typeof s&&(s=[s]);for(var u=0;u<s.length;u++)a[s[u]]=this.nextPageTokens[u];return n.makeRequest(this.request.operation,a,t)}return t?t(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),this.nextPageTokens?!0:void 0===this.nextPageTokens?void 0:!1},cacheNextPageTokens:function(){if(this.hasOwnProperty("nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var t=this.request.service.paginationConfig(this.request.operation);if(!t)return this.nextPageTokens;if(this.nextPageTokens=null,t.moreResults&&!r.util.jamespath.find(t.moreResults,this.data))return this.nextPageTokens;var e=t.outputToken;return"string"==typeof e&&(e=[e]),r.util.arrayEach.call(this,e,function(t){var e=r.util.jamespath.find(t,this.data);e&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(e))}),this.nextPageTokens}})},function(t,e,n){(function(e){var r=n(1),i=r.util.string.byteLength;r.S3.ManagedUpload=r.util.inherit({constructor:function(t){var e=this;r.SequentialExecutor.call(e),e.body=null,e.sliceFn=null,e.callback=null,e.parts={},e.completeInfo=[],e.fillQueue=function(){e.callback(new Error("Unsupported body payload "+typeof e.body))},e.configure(t)},configure:function(t){if(t=t||{},this.partSize=this.minPartSize,t.queueSize&&(this.queueSize=t.queueSize),t.partSize&&(this.partSize=t.partSize),t.leavePartsOnError&&(this.leavePartsOnError=!0),this.partSize<this.minPartSize)throw new Error("partSize must be greater than "+this.minPartSize);this.service=t.service,this.bindServiceObject(t.params),this.validateBody(),this.adjustTotalBytes()},leavePartsOnError:!1,queueSize:4,partSize:null,minPartSize:5242880,maxTotalParts:1e4,send:function(t){var e=this;e.failed=!1,e.callback=t||function(t){if(t)throw t};var n=!0;if(e.sliceFn)e.fillQueue=e.fillBuffer;else if(r.util.isNode()){var i=r.util.nodeRequire("stream").Stream;e.body instanceof i&&(n=!1,e.fillQueue=e.fillStream,e.partBuffers=[],e.body.on("readable",function(){e.fillQueue()}).on("end",function(){e.isDoneChunking=!0,e.numParts=e.totalPartNumbers,e.fillQueue.call(e)}))}n&&e.fillQueue.call(e)},abort:function(){this.cleanup(r.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1}))},validateBody:function(){var t=this;if(t.body=t.service.config.params.Body,!t.body)throw new Error("params.Body is required");"string"==typeof t.body&&(t.body=new r.util.Buffer(t.body)),t.sliceFn=r.util.arraySliceFn(t.body)},bindServiceObject:function(t){t=t||{};var e=this;if(e.service){var n=r.util.copy(e.service.config);e.service=new e.service.constructor.__super__(n),e.service.config.params=r.util.merge(e.service.config.params||{},t)}else e.service=new r.S3({params:t})},adjustTotalBytes:function(){var t=this;try{t.totalBytes=i(t.body)}catch(e){}if(t.totalBytes){var n=Math.ceil(t.totalBytes/t.maxTotalParts);n>t.partSize&&(t.partSize=n)}else t.totalBytes=void 0},isDoneChunking:!1,partPos:0,totalChunkedBytes:0,totalUploadedBytes:0,totalBytes:void 0,numParts:0,totalPartNumbers:0,activeParts:0,doneParts:0,parts:null,completeInfo:null,failed:!1,multipartReq:null,partBuffers:null,partBufferLength:0,fillBuffer:function(){var t=this,e=i(t.body);if(0===e)return t.isDoneChunking=!0,t.numParts=1,void t.nextChunk(t.body);for(;t.activeParts<t.queueSize&&t.partPos<e;){var n=Math.min(t.partPos+t.partSize,e),r=t.sliceFn.call(t.body,t.partPos,n);t.partPos+=t.partSize,(i(r)<t.partSize||t.partPos===e)&&(t.isDoneChunking=!0,t.numParts=t.totalPartNumbers+1),t.nextChunk(r)}},fillStream:function(){var t=this;if(!(t.activeParts>=t.queueSize)){var n=t.body.read(t.partSize-t.partBufferLength)||t.body.read();if(n&&(t.partBuffers.push(n),t.partBufferLength+=n.length,t.totalChunkedBytes+=n.length),t.partBufferLength>=t.partSize){var r=e.concat(t.partBuffers);if(t.partBuffers=[],t.partBufferLength=0,r.length>t.partSize){var i=r.slice(t.partSize);t.partBuffers.push(i),t.partBufferLength+=i.length,r=r.slice(0,t.partSize)}t.nextChunk(r)}t.isDoneChunking&&!t.isDoneSending&&(r=e.concat(t.partBuffers),t.partBuffers=[],t.partBufferLength=0,t.totalBytes=t.totalChunkedBytes,t.isDoneSending=!0,(0===t.numParts||r.length>0)&&(t.numParts++,t.nextChunk(r))),t.body.read(0)}},nextChunk:function(t){var e=this;if(e.failed)return null;var n=++e.totalPartNumbers;if(e.isDoneChunking&&1===n){var i=e.service.putObject({Body:t});return i._managedUpload=e,i.on("httpUploadProgress",e.progress).send(e.finishSinglePart),null}if(e.service.config.params.ContentMD5){var o=r.util.error(new Error("The Content-MD5 you specified is invalid for multi-part uploads."),{code:"InvalidDigest",retryable:!1});return e.cleanup(o),null}return e.completeInfo[n]&&null!==e.completeInfo[n].ETag?null:(e.activeParts++,void(e.service.config.params.UploadId?e.uploadPart(t,n):e.multipartReq?e.queueChunks(t,n):(e.multipartReq=e.service.createMultipartUpload(),e.multipartReq.on("success",function(t){e.service.config.params.UploadId=t.data.UploadId,e.multipartReq=null}),e.queueChunks(t,n),e.multipartReq.on("error",function(t){e.cleanup(t)}),e.multipartReq.send())))},uploadPart:function(t,e){var n=this,i={Body:t,ContentLength:r.util.string.byteLength(t),PartNumber:e},o={ETag:null,PartNumber:e};n.completeInfo[e]=o;var a=n.service.uploadPart(i);n.parts[e]=a,a._lastUploadedBytes=0,a._managedUpload=n,a.on("httpUploadProgress",n.progress),a.send(function(t,e){if(delete n.parts[i.PartNumber],n.activeParts--,!(t||e&&e.ETag)){var a="No access to ETag property on response.";r.util.isBrowser()&&(a+=" Check CORS configuration to expose ETag header."),
t=r.util.error(new Error(a),{code:"ETagMissing",retryable:!1})}return t?n.cleanup(t):(o.ETag=e.ETag,n.doneParts++,void(n.isDoneChunking&&n.doneParts===n.numParts?n.finishMultiPart():n.fillQueue.call(n)))})},queueChunks:function(t,e){var n=this;n.multipartReq.on("success",function(){n.uploadPart(t,e)})},cleanup:function(t){var e=this;e.failed||("function"==typeof e.body.removeAllListeners&&"function"==typeof e.body.resume&&(e.body.removeAllListeners("readable"),e.body.removeAllListeners("end"),e.body.resume()),e.service.config.params.UploadId&&!e.leavePartsOnError&&e.service.abortMultipartUpload().send(),r.util.each(e.parts,function(t,e){e.removeAllListeners("complete"),e.abort()}),e.activeParts=0,e.partPos=0,e.numParts=0,e.totalPartNumbers=0,e.parts={},e.failed=!0,e.callback(t))},finishMultiPart:function(){var t=this,e={MultipartUpload:{Parts:t.completeInfo.slice(1)}};t.service.completeMultipartUpload(e,function(e,n){return e?t.cleanup(e):void t.callback(e,n)})},finishSinglePart:function(t,e){var n=this.request._managedUpload,r=this.request.httpRequest,i=r.endpoint;return t?n.callback(t):(e.Location=[i.protocol,"//",i.host,r.path].join(""),e.key=this.request.params.Key,void n.callback(t,e))},progress:function(t){var e=this._managedUpload;"putObject"===this.operation?(t.part=1,t.key=this.params.Key):(e.totalUploadedBytes+=t.loaded-this._lastUploadedBytes,this._lastUploadedBytes=t.loaded,t={loaded:e.totalUploadedBytes,total:e.totalBytes,part:this.params.PartNumber,key:this.params.Key}),e.emit("httpUploadProgress",[t])}}),r.util.mixin(r.S3.ManagedUpload,r.SequentialExecutor),t.exports=r.S3.ManagedUpload}).call(e,n(3).Buffer)},function(t,e,n){var r=n(1),i=n(46),o=n(106),a=r.util.inherit;r.Service=a({constructor:function(t){if(!this.loadServiceClass)throw r.util.error(new Error,"Service must be constructed with `new' operator");var e=this.loadServiceClass(t||{});return e?new e(t):void this.initialize(t)},initialize:function(t){var e=r.config[this.serviceIdentifier];this.config=new r.Config(r.config),e&&this.config.update(e,!0),t&&this.config.update(t,!0),this.validateService(),this.config.endpoint||o(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint)},validateService:function(){},loadServiceClass:function(t){var e=t;if(r.util.isEmpty(this.api)){if(e.apiConfig)return r.Service.defineServiceApi(this.constructor,e.apiConfig);if(this.constructor.services){e=new r.Config(r.config),e.update(t,!0);var n=e.apiVersions[this.constructor.serviceIdentifier];return n=n||e.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(t){return t=this.getLatestServiceVersion(t),null===this.constructor.services[t]&&r.Service.defineServiceApi(this.constructor,t),this.constructor.services[t]},getLatestServiceVersion:function(t){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(t?r.util.isType(t,Date)&&(t=r.util.date.iso8601(t).split("T")[0]):t="latest",Object.hasOwnProperty(this.constructor.services,t))return t;for(var e=Object.keys(this.constructor.services).sort(),n=null,i=e.length-1;i>=0;i--)if("*"!==e[i][e[i].length-1]&&(n=e[i]),e[i].substr(0,10)<=t)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+t+"'")},api:{},defaultRetryCount:3,makeRequest:function(t,e,n){if("function"==typeof e&&(n=e,e=null),e=e||{},this.config.params){var i=this.api.operations[t];i&&(e=r.util.copy(e),r.util.each(this.config.params,function(t,n){i.input.members[t]&&(void 0===e[t]||null===e[t])&&(e[t]=n)}))}var o=new r.Request(this,t,e);return this.addAllRequestListeners(o),n&&o.send(n),o},makeUnauthenticatedRequest:function(t,e,n){"function"==typeof e&&(n=e,e={});var r=this.makeRequest(t,e).toUnauthenticated();return n?r.send(n):r},waitFor:function(t,e,n){var i=new r.ResourceWaiter(this,t);return i.wait(e,n)},addAllRequestListeners:function(t){for(var e=[r.events,r.EventListeners.Core,this.serviceInterface(),r.EventListeners.CorePost],n=0;n<e.length;n++)e[n]&&t.addListeners(e[n]);this.config.paramValidation||t.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&t.addListeners(r.EventListeners.Logger),this.setupRequestListeners(t)},setupRequestListeners:function(){},getSignerClass:function(){var t;return t=this.config.signatureVersion?this.config.signatureVersion:this.api.signatureVersion,r.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":return r.EventListeners.Query;case"query":return r.EventListeners.Query;case"json":return r.EventListeners.Json;case"rest-json":return r.EventListeners.RestJson;case"rest-xml":return r.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(t){return t.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(){for(var t=this.numRetries(),e=[],n=0;t>n;++n)e[n]=30*Math.pow(2,n);return e},retryableError:function(t){return this.networkingError(t)?!0:this.expiredCredentialsError(t)?!0:this.throttledError(t)?!0:t.statusCode>=500?!0:!1},networkingError:function(t){return"NetworkingError"===t.code},expiredCredentialsError:function(t){return"ExpiredTokenException"===t.code},clockSkewError:function(t){switch(t.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},throttledError:function(t){switch(t.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":return!0;default:return!1}},endpointFromTemplate:function(t){if("string"!=typeof t)return t;var e=t;return e=e.replace(/\{service\}/g,this.api.endpointPrefix),e=e.replace(/\{region\}/g,this.config.region),e=e.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(t){this.endpoint=new r.Endpoint(t,this.config)},paginationConfig:function(t,e){var n=this.api.operations[t].paginator;if(!n){if(e){var i=new Error;throw r.util.error(i,"No pagination configuration for "+t)}return null}return n}}),r.util.update(r.Service,{defineMethods:function(t){r.util.each(t.prototype.api.operations,function(e){t.prototype[e]||(t.prototype[e]=function(t,n){return this.makeRequest(e,t,n)})})},defineService:function(t,e,n){r.Service._serviceMap[t]=!0,Array.isArray(e)||(n=e,e=[]);var i=a(r.Service,n||{});if("string"==typeof t){r.Service.addVersions(i,e);var o=i.serviceIdentifier||t;i.serviceIdentifier=o}else i.prototype.api=t,r.Service.defineMethods(i);return i},addVersions:function(t,e){Array.isArray(e)||(e=[e]),t.services=t.services||{};for(var n=0;n<e.length;n++)void 0===t.services[e[n]]&&(t.services[e[n]]=null);t.apiVersions=Object.keys(t.services).sort()},defineServiceApi:function(t,e,n){function o(t){t.isApi?s.prototype.api=t:s.prototype.api=new i(t)}var s=a(t,{serviceIdentifier:t.serviceIdentifier});if("string"==typeof e){if(n)o(n);else try{o(r.apiLoader(t.serviceIdentifier,e))}catch(u){throw r.util.error(u,{message:"Could not find API configuration "+t.serviceIdentifier+"-"+e})}t.services.hasOwnProperty(e)||(t.apiVersions=t.apiVersions.concat(e).sort()),t.services[e]=s}else o(e);return r.Service.defineMethods(s),s},hasService:function(t){return r.Service._serviceMap.hasOwnProperty(t)},_serviceMap:{}})},function(t,e,n){(function(t){var e=n(123),r=n(1),i=n(41);i.services.forEach(function(o){var a=i.serviceName(o),s=i.serviceVersions(o);r[a]=r.Service.defineService(o,s);var u=e.join(t,"services",o+".js");fs.existsSync(u)&&n(179)("./"+o)})}).call(e,"/")},function(t,e,n){function r(t){var e=t.httpRequest.headers[s];if(delete t.httpRequest.headers["User-Agent"],delete t.httpRequest.headers["X-Amz-User-Agent"],t.service.getSignerClass()===o.Signers.V4){if(e>604800){var n="Presigning does not support expiry time greater than a week with SigV4 signing.";throw o.util.error(new Error,{code:"InvalidExpiryTime",message:n,retryable:!1})}t.httpRequest.headers[s]=e}else{if(t.service.getSignerClass()!==o.Signers.S3)throw o.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});t.httpRequest.headers[s]=parseInt(o.util.date.unixTimestamp()+e,10).toString()}}function i(t){var e=t.httpRequest.endpoint,n=o.util.urlParse(t.httpRequest.path),r={};n.search&&(r=o.util.queryStringParse(n.search.substr(1))),o.util.each(t.httpRequest.headers,function(t,e){t===s&&(t="Expires"),0===t.indexOf("x-amz-")&&(t=t.toLowerCase()),r[t]=e}),delete t.httpRequest.headers[s];var i=r.Authorization.split(" ");if("AWS"===i[0])i=i[1].split(":"),r.AWSAccessKeyId=i[0],r.Signature=i[1];else if("AWS4-HMAC-SHA256"===i[0]){i.shift();var a=i.join(" "),u=a.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];r["X-Amz-Signature"]=u,delete r.Expires}delete r.Authorization,delete r.Host,e.pathname=n.pathname,e.search=o.util.queryParamsToString(r)}var o=n(1),a=o.util.inherit,s="presigned-expires";o.Signers.Presign=a({sign:function(t,e,n){if(t.httpRequest.headers[s]=e||3600,t.on("build",r),t.on("sign",i),t.removeListener("afterBuild",o.EventListeners.Core.SET_CONTENT_LENGTH),t.removeListener("afterBuild",o.EventListeners.Core.COMPUTE_SHA256),t.emit("beforePresign",[t]),!n){if(t.build(),t.response.error)throw t.response.error;return o.util.urlFormat(t.httpRequest.endpoint)}t.build(function(){this.response.error?n(this.response.error):n(null,o.util.urlFormat(t.httpRequest.endpoint))})}}),t.exports=o.Signers.Presign},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.RequestSigner=i({constructor:function(t){this.request=t}}),r.Signers.RequestSigner.getVersion=function(t){switch(t){case"v2":return r.Signers.V2;case"v3":return r.Signers.V3;case"v4":return r.Signers.V4;case"s3":return r.Signers.S3;case"v3https":return r.Signers.V3Https}throw new Error("Unknown signing version "+t)},n(116),n(69),n(117),n(118),n(115),n(113)},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.S3=i(r.Signers.RequestSigner,{subResources:{acl:1,cors:1,lifecycle:1,"delete":1,location:1,logging:1,notification:1,partNumber:1,policy:1,requestPayment:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(t,e){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=r.util.date.rfc822(e)),t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken);var n=this.sign(t.secretAccessKey,this.stringToSign()),i="AWS "+t.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var t=this.request,e=[];e.push(t.method),e.push(t.headers["Content-MD5"]||""),e.push(t.headers["Content-Type"]||""),e.push(t.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&e.push(n),e.push(this.canonicalizedResource()),e.join("\n")},canonicalizedAmzHeaders:function(){var t=[];r.util.each(this.request.headers,function(e){e.match(/^x-amz-/i)&&t.push(e)}),t.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){e.push(t.toLowerCase()+":"+String(this.request.headers[t]))}),e.join("\n")},canonicalizedResource:function(){var t=this.request,e=t.path.split("?"),n=e[0],i=e[1],o="";if(t.virtualHostedBucket&&(o+="/"+t.virtualHostedBucket),o+=n,i){var a=[];r.util.arrayEach.call(this,i.split("&"),function(t){var e=t.split("=")[0],n=t.split("=")[1];if(this.subResources[e]||this.responseHeaders[e]){var r={name:e};void 0!==n&&(this.subResources[e]?r.value=n:r.value=decodeURIComponent(n)),a.push(r)}}),a.sort(function(t,e){return t.name<e.name?-1:1}),a.length&&(i=[],r.util.arrayEach(a,function(t){void 0===t.value?i.push(t.name):i.push(t.name+"="+t.value)}),o+="?"+i.join("&"))}return o},sign:function(t,e){return r.util.crypto.hmac(t,e,"base64","sha1")}}),t.exports=r.Signers.S3},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.V2=i(r.Signers.RequestSigner,{addAuthorization:function(t,e){e||(e=r.util.date.getDate());var n=this.request;n.params.Timestamp=r.util.date.iso8601(e),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=t.accessKeyId,t.sessionToken&&(n.params.SecurityToken=t.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(t),n.body=r.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(t){return r.util.crypto.hmac(t.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var t=[];return t.push(this.request.method),t.push(this.request.endpoint.host.toLowerCase()),t.push(this.request.pathname()),t.push(r.util.queryParamsToString(this.request.params)),t.join("\n")}}),t.exports=r.Signers.V2},function(t,e,n){var r=n(1),i=r.util.inherit;n(69),r.Signers.V3Https=i(r.Signers.V3,{authorization:function(t){return"AWS3-HTTPS AWSAccessKeyId="+t.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(t)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),t.exports=r.Signers.V3Https},function(t,e,n){var r=n(1),i=r.util.inherit,o={},a="presigned-expires";r.Signers.V4=i(r.Signers.RequestSigner,{constructor:function(t,e,n){r.Signers.RequestSigner.call(this,t),this.serviceName=e,this.signatureCache=n},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(t,e){var n=r.util.date.iso8601(e).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(t,n):this.addHeaders(t,n),this.request.headers.Authorization=this.authorization(t,n)},addHeaders:function(t,e){this.request.headers["X-Amz-Date"]=e,t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken)},updateForPresigned:function(t,e){var n=this.credentialString(e),i={"X-Amz-Date":e,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":t.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers[a],"X-Amz-SignedHeaders":this.signedHeaders()};t.sessionToken&&(i["X-Amz-Security-Token"]=t.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(i["Cache-Control"]=this.request.headers["Cache-Control"]),r.util.each.call(this,this.request.headers,function(t,e){t!==a&&this.isSignableHeader(t)&&0===t.toLowerCase().indexOf("x-amz-")&&(i[t]=e)});var o=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=o+r.util.queryParamsToString(i)},authorization:function(t,e){var n=[],r=this.credentialString(e);return n.push(this.algorithm+" Credential="+t.accessKeyId+"/"+r),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(t,e)),n.join(", ")},signature:function(t,e){var n=null;if(this.signatureCache)var n=o[this.serviceName];var i=e.substr(0,8);if(!n||n.akid!==t.accessKeyId||n.region!==this.request.region||n.date!==i){var a=t.secretAccessKey,s=r.util.crypto.hmac("AWS4"+a,i,"buffer"),u=r.util.crypto.hmac(s,this.request.region,"buffer"),c=r.util.crypto.hmac(u,this.serviceName,"buffer"),l=r.util.crypto.hmac(c,"aws4_request","buffer");if(!this.signatureCache)return r.util.crypto.hmac(l,this.stringToSign(e),"hex");o[this.serviceName]={region:this.request.region,date:i,key:l,akid:t.accessKeyId}}var f=o[this.serviceName].key;return r.util.crypto.hmac(f,this.stringToSign(e),"hex")},stringToSign:function(t){var e=[];return e.push("AWS4-HMAC-SHA256"),e.push(t),e.push(this.credentialString(t)),e.push(this.hexEncodedHash(this.canonicalString())),e.join("\n")},canonicalString:function(){var t=[],e=this.request.pathname();return"s3"!==this.serviceName&&(e=r.util.uriEscapePath(e)),t.push(this.request.method),t.push(e),t.push(this.request.search()),t.push(this.canonicalHeaders()+"\n"),t.push(this.signedHeaders()),t.push(this.hexEncodedBodyHash()),t.join("\n")},canonicalHeaders:function(){var t=[];r.util.each.call(this,this.request.headers,function(e,n){t.push([e,n])}),t.sort(function(t,e){return t[0].toLowerCase()<e[0].toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){var n=t[0].toLowerCase();this.isSignableHeader(n)&&e.push(n+":"+this.canonicalHeaderValues(t[1].toString()))}),e.join("\n")},canonicalHeaderValues:function(t){return t.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var t=[];return r.util.each.call(this,this.request.headers,function(e){e=e.toLowerCase(),this.isSignableHeader(e)&&t.push(e)}),t.sort().join(";")},credentialString:function(t){var e=[];return e.push(t.substr(0,8)),e.push(this.request.region),e.push(this.serviceName),e.push("aws4_request"),e.join("/")},hexEncodedHash:function(t){return r.util.crypto.sha256(t,"hex")},hexEncodedBodyHash:function(){return this.isPresigned()&&"s3"===this.serviceName?"UNSIGNED-PAYLOAD":this.request.headers["X-Amz-Content-Sha256"]?this.request.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",a],isSignableHeader:function(t){return 0===t.toLowerCase().indexOf("x-amz-")?!0:this.unsignableHeaders.indexOf(t)<0},isPresigned:function(){return this.request.headers[a]?!0:!1}}),t.exports=r.Signers.V4},function(t,e){function n(t,e){this.currentState=e||null,this.states=t||{}}n.prototype.runTo=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=null);var i=this,o=i.states[i.currentState];o.fn.call(n||i,r,function(r){if(r){if(!o.fail)return e?e.call(n,r):null;i.currentState=o.fail}else{if(!o.accept)return e?e.call(n):null;i.currentState=o.accept}return i.currentState===t?e?e.call(n,r):null:void i.runTo(t,e,n,r)})},n.prototype.addState=function(t,e,n,r){return"function"==typeof e?(r=e,e=null,n=null):"function"==typeof n&&(r=n,n=null),this.currentState||(this.currentState=t),this.states[t]={accept:e,fail:n,fn:r},this},t.exports=n},function(t,e,n){function r(){}function i(t,e){switch(e||(e={}),e.type){case"structure":return o(t,e);case"map":return a(t,e);case"list":return s(t,e);case void 0:case null:return c(t);default:return u(t,e)}}function o(t,e){var n={};return null===t?n:(l.each(e.members,function(e,r){if(r.isXmlAttribute){if(t.attributes.hasOwnProperty(r.name)){var o=t.attributes[r.name].value;n[e]=i({textContent:o},r)}}else{var a=r.flattened?t:t.getElementsByTagName(r.name)[0];a?n[e]=i(a,r):r.flattened||"list"!==r.type||(n[e]=r.defaultValue)}}),n)}function a(t,e){for(var n={},r=e.key.name||"key",o=e.value.name||"value",a=e.flattened?e.name:"entry",s=t.firstElementChild;s;){if(s.nodeName===a){var u=s.getElementsByTagName(r)[0].textContent,c=s.getElementsByTagName(o)[0];n[u]=i(c,e.value)}s=s.nextElementSibling}return n}function s(t,e){for(var n=[],r=e.flattened?e.name:e.member.name||"member",o=t.firstElementChild;o;)o.nodeName===r&&n.push(i(o,e.member)),o=o.nextElementSibling;return n}function u(t,e){if(t.getAttribute){var n=t.getAttribute("encoding");"base64"===n&&(e=new f.create({type:n}))}var r=t.textContent;return""===r&&(r=null),"function"==typeof e.toType?e.toType(r):r}function c(t){if(void 0===t||null===t)return"";if(!t.firstElementChild)return null===t.parentNode.parentNode?{}:0===t.childNodes.length?"":t.textContent;for(var e={type:"structure",members:{}},n=t.firstElementChild;n;){var r=n.nodeName;e.members.hasOwnProperty(r)?e.members[r].type="list":e.members[r]={name:r},n=n.nextElementSibling}return o(t,e)}var l=n(2),f=n(9);r.prototype.parse=function(t,e){if(""===t.replace(/^\s+/,""))return{};var n,r;try{if(window.DOMParser){try{var o=new DOMParser;n=o.parseFromString(t,"text/xml")}catch(a){throw l.error(new Error("Parse error in document"),{originalError:a})}if(null===n.documentElement)throw new Error("Cannot parse empty document.");var s=n.getElementsByTagName("parsererror")[0];if(s&&(s.parentNode===n||"body"===s.parentNode.nodeName))throw new Error(s.getElementsByTagName("div")[0].textContent)}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if(n=new window.ActiveXObject("Microsoft.XMLDOM"),n.async=!1,!n.loadXML(t))throw new Error("Parse error in document")}}catch(u){r=u}if(n&&n.documentElement&&!r){var c=i(n.documentElement,e),f=n.getElementsByTagName("ResponseMetadata")[0];return f&&(c.ResponseMetadata=i(f,{})),c}if(r)throw l.error(r||new Error,{code:"XMLParserError"});return{}},t.exports=r},function(t,e,n){function r(){}function i(t,e,n){switch(n.type){case"structure":return o(t,e,n);case"map":return a(t,e,n);case"list":return s(t,e,n);default:return u(t,e,n)}}function o(t,e,n){l.arrayEach(n.memberNames,function(r){var o=n.members[r];if("body"===o.location){var a=e[r],s=o.name;if(void 0!==a&&null!==a)if(o.isXmlAttribute)t.att(s,a);else if(o.flattened)i(t,a,o);else{var u=t.ele(s);c(u,o),i(u,a,o)}}})}function a(t,e,n){var r=n.key.name||"key",o=n.value.name||"value";l.each(e,function(e,a){var s=t.ele(n.flattened?n.name:"entry");i(s.ele(r),e,n.key),i(s.ele(o),a,n.value)})}function s(t,e,n){n.flattened?l.arrayEach(e,function(e){var r=n.member.name||n.name,o=t.ele(r);i(o,e,n.member)}):l.arrayEach(e,function(e){var r=n.member.name||"member",o=t.ele(r);i(o,e,n.member)})}function u(t,e,n){t.txt(n.toWireFormat(e))}function c(t,e){var n,r="xmlns";e.xmlNamespaceUri?(n=e.xmlNamespaceUri,e.xmlNamespacePrefix&&(r+=":"+e.xmlNamespacePrefix)):t.isRoot&&e.api.xmlNamespaceUri&&(n=e.api.xmlNamespaceUri),n&&t.att(r,n)}var l=n(2),f=n(288);r.prototype.toXML=function(t,e,n,r){var o=f.create(n);return c(o,e),i(o,t,e),o.children.length>0||r?o.root().toString():""},t.exports=r},function(t,e,n){function r(){}function i(t,e){switch(e.type){case"structure":return o(t,e);case"map":return a(t,e);case"list":return s(t,e);case void 0:case null:return c(t);default:return u(t,e)}}function o(t,e){var n={};return null===t?n:(l.each(e.members,function(e,r){var o=r.name;if(t.hasOwnProperty(o)&&Array.isArray(t[o])){var a=t[o];r.flattened||(a=a[0]),n[e]=i(a,r)}else r.isXmlAttribute&&t.$&&t.$.hasOwnProperty(o)?n[e]=u(t.$[o],r):"list"===r.type&&(n[e]=r.defaultValue)}),n)}function a(t,e){var n={};if(null===t)return n;var r=e.key.name||"key",o=e.value.name||"value",a=e.flattened?t:t.entry;return Array.isArray(a)&&l.arrayEach(a,function(t){n[t[r][0]]=i(t[o][0],e.value)}),n}function s(t,e){var n=[],r=e.member.name||"member";return e.flattened?l.arrayEach(t,function(t){n.push(i(t,e.member))}):t&&Array.isArray(t[r])&&l.arrayEach(t[r],function(t){n.push(i(t,e.member))}),n}function u(t,e){return t&&t.$&&"base64"===t.$.encoding&&(e=new f.create({type:t.$.encoding})),t&&t._&&(t=t._),"function"==typeof e.toType?e.toType(t):t}function c(t){if(void 0===t||null===t)return"";if("string"==typeof t)return t;if(Array.isArray(t)){var e=[];for(n=0;n<t.length;n++)e.push(i(t[n],{}));return e}var n,r=Object.keys(t);if(0===r.length||r===["$"])return{};var o={};for(n=0;n<r.length;n++){var a=r[n],u=t[a];"$"!==a&&(u.length>1?o[a]=s(u,{member:{}}):o[a]=i(u[0],{}))}return o}var l=n(2),f=n(9),h=n(285),p={explicitCharkey:!1,trim:!1,normalize:!1,explicitRoot:!1,emptyTag:null,explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,validator:null};r.prototype.parse=function(t,e){e=e||{};var n=null,r=null,o=new h.Parser(p);if(o.parseString(t,function(t,e){r=t,n=e}),n){var a=i(n,e);return n.ResponseMetadata&&(a.ResponseMetadata=i(n.ResponseMetadata[0],{})),a}if(r)throw l.error(r,{code:"XMLParserError"});return i({},e)},t.exports=r},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;a>u;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(5))},function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||t.push(n),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t),this._transformState=new r(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=o;var s=n(12),u=n(26);u.inherits=n(27),u.inherits(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;u.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(t,e,n){(function(e){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(t,e){var r=n(12);t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,e instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var e=n(12);return this instanceof o||this instanceof e?(this._writableState=new i(t,this),this.writable=!0,void j.call(this)):new o(t)}function a(t,n,r){var i=new Error("write after end");t.emit("error",i),e.nextTick(function(){r(i)})}function s(t,n,r,i){var o=!0;if(!(E.isBuffer(r)||E.isString(r)||E.isNullOrUndefined(r)||n.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),e.nextTick(function(){i(a)}),o=!1}return o}function u(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&E.isString(e)&&(e=new _(e,n)),e}function c(t,e,n,i,o){n=u(e,n,i),E.isBuffer(n)&&(i="buffer");var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new r(n,i,o)):l(t,e,!1,a,n,i,o),s}function l(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function f(t,n,r,i,o){r?e.nextTick(function(){n.pendingcb--,o(i)}):(n.pendingcb--,o(i)),t._writableState.errorEmitted=!0,t.emit("error",i)}function h(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,n){var r=t._writableState,i=r.sync,o=r.writecb;if(h(r),n)f(t,r,i,n,o);else{var a=m(t,r);a||r.corked||r.bufferProcessing||!r.buffer.length||v(t,r),i?e.nextTick(function(){d(t,r,a,o)}):d(t,r,a,o)}}function d(t,e,n,r){n||g(t,e),e.pendingcb--,r(),b(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var n=[],r=0;r<e.buffer.length;r++)n.push(e.buffer[r].callback);e.pendingcb++,l(t,e,!0,e.length,e.buffer,"",function(t){for(var r=0;r<n.length;r++)e.pendingcb--,n[r](t)}),e.buffer=[]}else{for(var r=0;r<e.buffer.length;r++){var i=e.buffer[r],o=i.chunk,a=i.encoding,s=i.callback,u=e.objectMode?1:o.length;if(l(t,e,!1,u,o,a,s),e.writing){r++;break}}r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}e.bufferProcessing=!1}function m(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function y(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function b(t,e){var n=m(t,e);return n&&(0===e.pendingcb?(y(t,e),e.finished=!0,t.emit("finish")):y(t,e)),n}function w(t,n,r){n.ending=!0,b(t,n),r&&(n.finished?e.nextTick(r):t.once("finish",r)),n.ended=!0}t.exports=o;var _=n(3).Buffer;o.WritableState=i;var E=n(26);E.inherits=n(27);var j=n(20);E.inherits(o,j),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return E.isFunction(e)&&(n=e,e=null),E.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),E.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,t,n)&&(r.pendingcb++,i=c(this,r,t,e,n)),i},o.prototype.cork=function(){var t=this._writableState;t.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||v(this,t))},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,n){var r=this._writableState;E.isFunction(t)?(n=t,t=null,e=null):E.isFunction(e)&&(n=e,e=null),E.isNullOrUndefined(t)||this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(e,n(5))},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),u=(i(s),n(7)),c=i(u),l=n(73),f=(i(l),n(72)),h=i(f),p=n(130),d=r(p),g=c.default.utils.logger,v=(d.init(),function(){function t(e,n,r){if(o(this,t),g.debug({description:"File constructor called with",project:e,path:n,name:r,func:"constructor",obj:"File"}),!n)throw g.error({description:"File must include path.",func:"constructor",obj:"File"}),new Error("File must include a path.");if(!e)throw g.error({description:"ApiAction data must be an object that includes project.",func:"constructor",obj:"File"}),new Error("File data must be an object that includes project.");this.type="file",this.project=e,this.name=r}return a(t,[{key:"get",value:function(){var t=this;return new Promise(function(e,n){t.fbRef.once("value",function(r){r.hasChild("original")&&!r.hasChild("history")?(t.content=r.child("original").val(),g.log({description:"File content loaded.",content:t.content,func:"get",obj:"File"}),t.headless.setText(t.content,function(r){t.headless.dispose(),r?(g.error({description:"Error setting file text.",error:r,func:"get",obj:"File"}),n(r)):(g.log({description:"File content set to Headless Firepad.",func:"get",obj:"File"}),e(t))})):t.headless.getText(function(n){g.log({description:"Text loaded from headless",text:n,func:"get",obj:"File"}),t.content=n,t.headless.dispose(),e(t)})})})}},{key:"open",value:function(){return this.get()}},{key:"openInFirepad",value:function(t){return this.get().then(function(e){g.info({description:"File contents loaded. Opening firepad.",editor:t,file:e,func:"openInFirepad",obj:"File"});var n=e.firepadFromAce(t);n.on("ready",function(){resolve(e)})},function(e){g.error({description:"Valid ace editor instance required to create firepad.",editor:t,error:e,func:"openInFirepad",obj:"File"}),reject(e)})}},{key:"firepadFromAce",value:function(t){if(!t||"function"!=typeof t.setTheme)return void g.error({description:"Valid ace editor instance required to create firepad.",func:"fbRef",obj:"File"});var e=getFirepadLib();if("function"!=typeof e.fromACE)return void g.error({description:"Firepad does not have fromACE method.",firepad:e,func:"fbRef",obj:"File"});var n={};return c.default.isLoggedIn&&c.default.currentUser&&(n.userId=c.default.currentUser.username||c.default.currentUser.name),g.debug({description:"Creating firepad from ace.",settings:n,editor:t,func:"fbRef",obj:"File"}),e.fromACE(this.fbRef,t,n)}},{key:"getConnectedUsers",value:function(){var t=this;return new Promise(function(e,n){t.fbRef.child("users").on("value",function(t){null===t.val()?e([]):!function(){var n=[];t.forEach(function(t){var e=t.val();e.username=t.key(),n.push(e)}),g.log({description:"Connected users array built.",usersArray:n,func:"connectedUsers",obj:"File"}),e(n)}()},function(t){g.error({description:"Error loading connected users.",error:t,func:"connectedUsers",obj:"File"}),n(t)})})}},{key:"getProject",value:function(){var t=this;return this.project&&this.project.frontend?Promise.resolve(this.project):(g.log({description:"Application Frontend data not available. Calling applicaiton get.",func:"get",obj:"File"}),this.project.get().then(function(e){return t.project=e,g.log({description:"Application get successful. Getting file.",app:e,func:"get",obj:"File"}),t.get()},function(t){return g.error({description:"Application Frontend data not available.",error:t,func:"get",obj:"File"}),Promise.reject({message:"Front end data is required to get file."})}))}},{key:"fileType",get:function(){return"js"==this.ext?"javascript":this.ext}},{key:"ext",get:function(){var t=/(?:\.([^.]+))?$/;return t.exec(this.name)[1]}},{key:"headless",get:function(){var t=h.default.getFirepadLib();if("undefined"==typeof t||"function"!=typeof t.Headless)throw g.error({description:"Firepad is required to get file content.",func:"get",obj:"File"}),Error("Firepad is required to get file content");return t.Headless(this.fbRef)}}]),t}());e.default=v,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(181),u=r(s),c=n(7),l=r(c),f=(l.default.utils.logger,function(t){function e(t,n,r){i(this,e);var a=o(this,Object.getPrototypeOf(e).call(this,t,n,r));return a.entityType="folder",a}return a(e,t),e}(u.default));e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(17),u=r(s),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var l=n(7),f=r(l),h=n(71),p=r(h),d=f.default.utils.logger,g=function(t){function e(t,n){return i(this,e),o(this,Object.getPrototypeOf(e).call(this,"groups/"+t,n))}return a(e,t),c(e,[{key:"addAccounts",value:function(t){d.log({description:"Group updated called.",accountsData:t,func:"update",obj:"Group"});var e=t;return(0,u.default)(t)&&(e=t.split(",")),(0,u.default)(e[0])?(d.warn({description:"Accounts array only currently supports account._id not account.username.",accountsData:t,func:"update",obj:"Group"}),Promise.reject({message:"Accounts array only currently supports account._id not account.username."})):(d.log({description:"Updating group with accounts array.",accountsArray:e,func:"update",obj:"Group"}),this.update({accounts:e}).then(function(t){return d.info({description:"Account(s) added to group successfully.",response:t,func:"addAccounts",obj:"Group"}),t}).catch(function(t){return d.error({description:"Error addAccountseting group.",error:t,func:"addAccounts",obj:"Group"}),Promise.reject(t.response.text||t.response)}))}}]),e}(p.default);e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(17),u=r(s),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var l=n(8),f=(r(l),n(7)),h=r(f),p=n(71),d=r(p),g=n(128),v=r(g),m=n(180),y=r(m),b=n(127),w=(r(b),n(126)),_=r(w),E=n(72),j=r(E),S=h.default.utils,A=S.request,x=S.logger,T=function(t){function e(t,n){if(i(this,e),!t)throw new Error("Owner is required to create a project");if(!n)throw new Error("Name is required to create a project");var r=o(this,Object.getPrototypeOf(e).call(this,"projects/"+n,{owner:t,name:n}));return r.owner=t,r.name=n,x.debug({description:"Project object created.",project:r,func:"constructor",obj:"Project"}),r}return a(e,t),c(e,[{key:"apiAction",value:function(t){return new d.default(t,this)}},{key:"addStorage",value:function(){var t=this;return x.debug({description:"Project add storage called.",project:this,func:"addStorage",obj:"Project"}),A.post(this.url+"/storage",{}).then(function(e){return x.info({description:"Storage successfully added to project.",response:e,func:"addStorage",obj:"Project"}),t.frontend=e.frontend?e.frontend:{},t}).catch(function(t){return x.error({description:"Error adding storage to project.",error:t,func:"addStorage",obj:"Project"}),Promise.reject(t.response?t.response.text:t)})}},{key:"applyTemplate",value:function(t){var e=this;return x.debug({description:"Applying template to project.",func:"applyTemplate",obj:"Project"}),t?A.post(this.url,{template:t}).then(function(t){return x.info({description:"Template successfully applied to project.",response:t,project:e,func:"applyTemplate",obj:"Project"}),e}).catch(function(t){return x.error({description:"Error applying template to project.",project:e,error:t,func:"applyTemplate",obj:"Project"}),Promise.reject(t.response?t.response.text:t)}):(x.error({description:"Template name is required to apply a template.",func:"applyTemplate",obj:"Project"}),Promise.reject("Template name is required to apply a template"))}},{key:"addCollaborators",value:function(t){return x.debug({description:"Add collaborators called",collabs:t,project:this,func:"addCollaborators",obj:"Project"}),this.collaborators=t,(0,u.default)(t)&&(this.collaborators=t.replace(" ").split(",")),x.log({description:"Collaborators list added to project, calling update.",project:this,func:"addCollaborators",obj:"Project"}),this.update(this)}},{key:"File",value:function(t){return x.debug({description:"Projects file action called.",fileData:t,project:this,func:"file",obj:"Project"}),new _.default(this,t)}},{key:"Account",value:function(t){return x.debug({description:"Projects account action called.",username:t,project:this,func:"user",obj:"Project"}),this.apiAction("accounts/"+t)}},{key:"Group",value:function(t){return x.debug({description:"Projects group action called.",groupName:t,project:this,func:"group",obj:"Project"}),new v.default(t,this)}},{key:"fbRef",get:function(){return this.owner?j.default.ref(this.owner+"/"+this.name):j.default.ref(""+this.name)}},{key:"Directory",get:function(){return x.debug({description:"Project files action called.",project:this,func:"files",obj:"Project"}),new y.default(this)}},{key:"Accounts",get:function(){return x.debug({description:"Projects account action called.",project:this,func:"user",obj:"Project"}),this.apiAction("accounts")}},{key:"Groups",get:function(){return x.debug({description:"Projects groups action called.",project:this,func:"groups",obj:"Project"}),this.apiAction("groups")}}]),e}(d.default);e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return"undefined"!=typeof E.default.config.credentials&&E.default.config.credentials||(j.log({description:"AWS creds do not exist, so they are being set.",func:"saveObject",obj:"File"}),o()),"function"==typeof E.default.S3?new E.default.S3:void 0}function o(){return E.default.config.update({credentials:new E.default.CognitoIdentityCredentials({IdentityPoolId:y.default.aws.cognito.poolId}),region:y.default.aws.region})}function a(t){var e={Bucket:t},n=i();return j.debug({description:"Getting objects for bucket.",listReq:e,func:"getObject",obj:"s3"}),new Promise(function(t,r){n.listObjects(e,function(e,n){return e?(j.error({description:"Error getting objects from S3.",error:e,func:"getObject",obj:"s3"}),r(e)):(j.debug({description:"Objects list loaded.",filesData:n,func:"getObject",obj:"s3"}),void t(n.Contents))})})}function s(t){var e=t.bucket,n=t.path;if(!e||!n)return j.error({description:"Bucket and path are required to get object.",getData:t,func:"getObject",obj:"s3"}),Promise.reject({message:"Bucket and path are required to get object."});var r={Bucket:e,Key:n};return j.debug({description:"File get params built.",getReq:r,func:"getObject",obj:"s3"}),new Promise(function(t,e){s3.getObject(r,function(n,r){if(n)return j.error({description:"Error loading file from S3.",error:n,func:"getObject",obj:"s3"}),e(n);var i=void 0;return j.info({description:"File loaded successfully.",data:r,func:"getObject",obj:"s3"}),(0,v.default)(r,"Body")?(j.info({description:"File has content.",content:r.Body.toString(),metaData:r.Metadata.toString(),func:"getObject",obj:"s3"}),i.content=r.Body.toString(),j.info({description:"File content has been added to file.",file:i,func:"getObject",obj:"s3"}),void t(i)):t(r)})})}function u(t){var e=t.bucket,n=t.content,r=t.path,i=t.contentType;if(j.debug({description:"File saveObject called.",saveData:t,func:"saveObject",obj:"saveObject"}),!n||!r||!e)return j.error({description:"Save data including path, bucket and content required to saveObject.",func:"saveObject",obj:"saveObject"}),Promise.reject({message:"File data including path and content required to saveObject."});var o={Bucket:e,Key:r,Body:n,ACL:"public-read"};i&&(o.ContentType=i);var a=this.init();return j.debug({description:"File saveObject params built.",saveParams:o,fileData:this,func:"saveObject",obj:"File"}),new Promise(function(t,e){a.putObject(o,function(n,r){n&&(j.error({description:"Error saving file to S3.",error:n,func:"saveObject",obj:"s3"}),e(n)),j.log({description:"File saved successfully.",response:r,func:"saveObject",obj:"s3"}),t(r)})})}function c(t){j.debug({description:"Error loading file from S3.",error:error,func:"deleteObject",obj:"File"});var e=t.bucket,n=t.path;return n&&e?new Promise(function(t,r){s3.deleteObject({Bucket:e,Key:n},function(e,n){return e?(j.error({description:"Error loading file from S3.",error:e,func:"get",obj:"File"}),r(e)):(j.info({description:"File loaded successfully.",data:n,func:"get",obj:"File"}),(0,v.default)(n,"Body")?(j.info({description:"File has content.",fileData:n.Body.toString(),func:"get",obj:"File"}),void t(n.Body.toString())):t(n))})}):(j.error({description:"Delete data including path, and bucket required to deleteObject.",func:"deleteObject",obj:"s3"}),Promise.reject({message:"Delete data including path and content required to delete object."}))}var l=n(280),f=(r(l),n(137)),h=(r(f),n(275)),p=(r(h),n(136)),d=(r(p),n(273)),g=(r(d),n(31)),v=r(g);Object.defineProperty(e,"__esModule",{value:!0}),e.init=i,e.setConfig=o,e.getObjects=a,e.getObject=s,e.saveObject=u,e.deleteObject=c;var m=n(8),y=r(m),b=n(7),w=r(b),_=n(86),E=r(_),j=w.default.utils.logger},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(29),c=i(u),l=n(10),f=i(l),h=n(132),p=r(h),d=n(134),g=i(d),v=n(135),m=i(v),y=n(133),b=i(y),w=n(183),_=i(w),E=n(14),j=function(){function t(e,n){if(o(this,t),!e)throw f.default.error({description:"Application name required to use Matter.",func:"constructor",obj:"Matter"}),new Error("Application name is required to use Matter");this.name=e,n&&(this.options=n,this.options.logLevel&&(c.default.logLevel=this.options.logLevel)),this.config=c.default,f.default.debug({description:"Matter object built.",matter:this,func:"constructor",obj:"Matter"})}return s(t,[{key:"signup",value:function(t){if(f.default.debug({description:"Signup called.",signupData:t,func:"signup",obj:"Matter"}),!t||!(0,E.isObject)(t)&&!(0,E.isString)(t))return f.default.error({description:"Signup information is required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Signup data is required to signup.",status:"NULL_DATA"});if((0,E.isObject)(t))return t.username||t.email?t.password?g.default.post(this.endpoint+"/signup",t).then(function(e){return f.default.info({description:"Signup successful.",signupData:t,res:e,func:"signup",obj:"Matter"}),(0,E.has)(e,"account")?e.account:(f.default.warn({description:"Account was not contained in signup res.",signupData:t,res:e,func:"signup",obj:"Matter"}),e)}).catch(function(e){return f.default.error({description:"Error requesting signup.",error:e,signupData:t,func:"signup",obj:"Matter"}),Promise.reject(e)}):(f.default.error({description:"Password is required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Password is required to signup.",status:"PASS_REQUIRED"})):(f.default.error({description:"Email or Username required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Email or Username required to signup.",status:"ID_REQUIRED"}));f.default.debug({description:"Third party signup called.",provider:t,func:"signup",obj:"Matter"});var e=new _.default({provider:t,app:this});return e.signup(t).then(function(e){return f.default.info({description:"Provider signup successful.",provider:t,res:e,func:"signup",obj:"Matter"}),e},function(e){return f.default.error({description:"Error with provider authentication.",provider:t,error:e,func:"signup",obj:"Matter"}),Promise.reject(e)})}},{key:"login",value:function(t){var e=this;if(!t||!(0,E.isObject)(t)&&!(0,E.isString)(t))return f.default.error({description:"Username/Email and Password are required to login",func:"login",obj:"Matter"}),Promise.reject({message:"Login data is required to login.",status:"DATA_REQUIRED"});if((0,E.isObject)(t))return t.username||t.email?t.password&&""!==t.password?g.default.put(this.endpoint+"/login",t).then(function(t){if((0,E.has)(t,"data")&&(0,E.has)(t.data,"status")&&409==t.data.status)return f.default.error({description:"Account not found.",response:t,func:"login",obj:"Matter"}),Promise.reject(t.data);f.default.info({description:"Successful login.",response:t,func:"login",obj:"Matter"}),(0,E.has)(t,"token")&&(e.token.string=t.token);var n={};return(0,E.has)(t,"account")?n=t.account:e.token.data?(f.default.debug({description:"User data available from token.",tokenData:e.token.data,type:a(e.token.data),func:"login",obj:"Matter"}),e.token.data.un?(f.default.log({description:"Token is AuthRocket format.",func:"login",obj:"Matter"}),n={username:e.token.data.un,name:e.token.data.n||null,authrocketId:e.token.data.uid||null}):(f.default.debug({description:"Token is default format.",func:"login",obj:"Matter"}),n=e.token.data)):(f.default.error({description:"User data not available from response or token.",func:"login",obj:"Matter"}),n={token:e.token.string}),e.storage.setItem(c.default.tokenUserDataName,n),n}).catch(function(t){return f.default.error({description:"Error requesting login.",error:t,status:t.status,func:"login",obj:"Matter"}),(409==t.status||400==t.status)&&(t=t.response.text),Promise.reject(t)}):Promise.reject({message:"Password is required to login.",status:"PASS_REQUIRED"}):(f.default.error({description:"Email or Username required to login.",func:"login",obj:"Matter"}),Promise.reject({message:"Email or Username required to login.",status:"ID_REQUIRED"}));var n=new _.default({provider:t,app:this});return n.login().then(function(e){return f.default.info({description:"Provider login successful.",provider:t,res:e,func:"login",obj:"Matter"}),e})}},{key:"logout",value:function(){var t=this;return this.isLoggedIn?g.default.put(this.endpoint+"/logout").then(function(e){return f.default.info({description:"Logout successful.",response:e,func:"logout",obj:"Matter"}),t.currentUser=null,t.token.delete(),e}).catch(function(e){return f.default.error({description:"Error requesting log out: ",error:e,func:"logout",obj:"Matter"}),t.storage.removeItem(c.default.tokenUserDataName),t.token.delete(),Promise.reject(e)}):(f.default.warn({description:"No logged in account to log out.",func:"logout",obj:"Matter"}),Promise.reject({message:"No logged in account to log out.",status:"NULL_ACCOUNT"}))}},{key:"providerSignup",value:function(t){if(!t)return Promise.reject("Provider data is required to signup.");var e=t.provider,n=t.code;if(!e)return Promise.reject("Provider name is required to signup.");if(!n)return Promise.reject("Provider code is required to signup.");var r=new _.default({provider:e,app:this});return r.accountFromCode(n).then(function(e){return f.default.info({description:"Provider login successful.",providerData:t,res:e,func:"providerSignup",obj:"Matter"}),e},function(t){return f.default.error({description:"Provider signup error.",error:t,func:"providerSignup",obj:"Matter"}),Promise.reject(t)})}},{key:"getCurrentUser",value:function(){var t=this;return this.currentUser?(f.default.debug({description:"Current is already available. Returning user.",func:"currentUser",obj:"Matter"}),Promise.resolve(this.currentUser)):this.isLoggedIn?g.default.get(this.endpoint+"/user").then(function(e){return f.default.log({description:"Current User Request responded.",responseData:e,func:"currentUser",obj:"Matter"}),t.currentUser=e,e}).catch(function(t){return 401==t.status?(f.default.warn({description:"Called for current user without token.",error:t,func:"currentUser",obj:"Matter"}),m.default.delete(),Promise.resolve(null)):(f.default.error({description:"Error requesting current user.",error:t,func:"currentUser",obj:"Matter"}),Promise.reject(t))}):(f.default.debug({description:"Current user is null.",func:"currentUser",obj:"Matter"}),Promise.resolve(null))}},{key:"updateAccount",value:function(t){var e=this;return this.isLoggedIn?t?g.default.put(this.urls.update,t).then(function(t){return f.default.info({description:"Update profile request responded.",responseData:t,func:"updateAccount",obj:"Matter"}),e.currentUser=t,t}).catch(function(t){return f.default.error({description:"Error requesting current user.",error:t,func:"updateAccount",obj:"Matter"}),Promise.reject(t)}):(f.default.error({description:"Data is required to update profile.",func:"updateAccount",obj:"Matter"}),Promise.reject({message:"Data required to update account.",status:"NULL_DATA"})):(f.default.error({description:"No current user profile to update.",func:"updateAccount",obj:"Matter"}),Promise.reject({message:"Must be logged in to update account."}))}},{key:"uploadImage",value:function(t){var e=this;if(!this.isLoggedIn)return f.default.error({description:"Must be logged in to upload an image.",func:"uploadImage",obj:"Matter"}),Promise.reject({message:"Must be logged in to upload image."});if(!t)return f.default.error({description:"Data is required to update profile.",func:"uploadImage",obj:"Matter"}),Promise.reject({message:"Data required to update profile.",status:"NULL_DATA"});this.endpoint+"/user/"+this.token.data.username;return g.default.put(this.urls.upload,t).then(function(t){return f.default.info({description:"Upload image request responded.",responseData:t,func:"uploadImage",obj:"Matter"}),e.currentUser=t,t}).catch(function(t){return f.default.error({description:"Error requesting current user.",error:t,func:"uploadImage",obj:"Matter"}),Promise.reject(t)})}},{key:"uploadAccountImage",value:function(t){var e=this;return this.uploadImage(t).then(function(t){return e.updateAccount({image:{url:t}})})}},{key:"changePassword",value:function(t){return this.isLoggedIn?g.default.put(this.urls.changePassword,t).then(function(t){return f.default.log({description:"Update password request responded.",updatedAccount:t,func:"changePassword",obj:"Matter"}),t}).catch(function(t){return f.default.error({description:"Error requesting password change.",error:t,func:"changePassword",obj:"Matter"}),Promise.reject(t)}):(f.default.error({description:"No current user profile for which to change password.",func:"changePassword",obj:"Matter"}),Promise.reject({message:"Must be logged in to change password."}))}},{key:"recoverAccount",value:function(t){if(!t||!(0,E.isString)(t)&&!(0,E.isObject)(t))return f.default.error({description:"Account data is required to recover an account.",func:"recoverAccount",obj:"Matter"}),Promise.reject({message:"Account data is required to recover an account."});var e={};return e=(0,E.isString)(t)?-1!==t.indexOf("@")?{email:t}:{username:t}:t,f.default.debug({description:"Requesting recovery of account.",account:e,func:"recoverAccount",obj:"Matter"}),g.default.post(this.urls.recover,e).then(function(t){return f.default.info({description:"Recover account request responded.",res:t,func:"recoverAccount",obj:"Matter"}),t}).catch(function(t){return f.default.error({description:"Error requesting password recovery.",error:t,func:"recoverAccount",obj:"Matter"}),Promise.reject(t)})}},{key:"isInGroup",value:function(t){var e=this;if(!this.isLoggedIn)return f.default.error({description:"No logged in user to check for groups.",func:"isInGroup",obj:"Matter"}),!1;if(!t)return f.default.log({description:"Invalid group(s).",func:"isInGroup",obj:"Matter"}),!1;if(!(0,E.isString)(t))return(0,E.isArray)(t)?(f.default.info({description:"Array of groups.",list:t,func:"isInGroup",obj:"Matter"}),this.isInGroups(t)):!1;var n=function(){var n=t,r=n.split(",");if(r.length>1)return f.default.info({description:"String list of groups.",list:r,func:"isInGroup",obj:"Matter"}),{v:e.isInGroups(r)};var i=e.token.data.groups||[];return f.default.log({description:"Checking if user is in group.",group:n,userGroups:e.token.data.groups,func:"isInGroup",obj:"Matter"}),{v:(0,E.some)(i,function(t){return n==t.name})}}();return"object"===("undefined"==typeof n?"undefined":a(n))?n.v:void 0}},{key:"isInGroups",value:function(t){var e=this;if(!this.isLoggedIn)return f.default.log({description:"No logged in user to check.",func:"isInGroups",obj:"Matter"}),!1;if(!t)return f.default.log({description:"Invalid group(s).",func:"isInGroup",obj:"Matter"}),!1;if((0,E.isArray)(t))return(0,E.every)(t.map(function(t){return(0,E.isString)(t)?e.isInGroup(t):(0,E.has)(t,"name")?e.isInGroup(t.name):(f.default.error({description:"Invalid group object.",group:t,func:"isInGroups",obj:"Matter"}),!1)}),!0);if((0,E.isString)(t)){var n=t.split(",");return n.length>1?this.isInGroups(n):this.isInGroup(n[0])}return f.default.error({description:"Invalid groups list.",func:"isInGroups",obj:"Matter"}),!1}},{key:"isLoggedIn",get:function(){return this.token.string?!0:!1}},{key:"endpoint",get:function(){(0,E.has)(this,"options")&&(this.options.localServer&&(c.default.envName="local",f.default.log({description:"LocalServer option was set to true. Now server url is local server.",url:c.default.serverUrl,func:"endpoint",obj:"Matter"})),this.options.env&&(c.default.envName=this.options.env,f.default.log({description:"Environment set based on provided environment.",config:c.default,func:"endpoint",obj:"Matter"})));var t=c.default.serverUrl+"/apps/"+this.name;return"tessellate"==this.name&&("undefined"!=typeof window&&(0,E.has)(window,"location")&&-1!==window.location.host.indexOf("tessellate")?(t="",f.default.info({description:"Host is Tessellate Server, serverUrl simplified!",url:t,func:"endpoint",obj:"Matter"})):(t=c.default.serverUrl,f.default.info({description:"App is tessellate, serverUrl set as main tessellate server.",url:t,func:"endpoint",obj:"Matter"}))),f.default.log({description:"Endpoint created.",url:t,func:"endpoint",obj:"Matter"}),t}},{key:"urls",get:function(){return this.token&&this.token.data&&this.token.data.username?{update:this.endpoint+"/account/"+this.token.data.username,upload:this.endpoint+"/account/"+this.token.data.username+"/upload",recover:this.endpoint+"/recover"}:{recover:this.endpoint+"/recover"}}},{key:"currentUser",set:function(t){f.default.debug({description:"Current User set.",user:t,func:"currentUser",obj:"Matter"}),this.storage.setItem(c.default.tokenUserDataName,t)},get:function(){return this.storage.getItem(c.default.tokenUserDataName)?this.storage.getItem(c.default.tokenUserDataName):null}},{key:"storage",get:function(){return b.default}},{key:"token",get:function(){return m.default}},{key:"utils",get:function(){return{logger:f.default,request:g.default,storage:b.default,dom:p}}}]),t}();e.default=j,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if("undefined"==typeof document)throw c.default.error({description:"Document does not exsist to load assets into.",func:"loadCss",obj:"dom"}),new Error("Document object is required to load assets.");var e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,document.getElementsByTagName("head")[0].insertBefore(e,document.getElementsByTagName("head")[0].firstChild),c.default.log({description:"CSS was loaded into document.",element:e,func:"loadCss",obj:"dom"}),e}function o(t){if("undefined"!=typeof window&&(0,l.has)(window,"document")){var e=window.document.createElement("script");return e.src=t,e.type="text/javascript",window.document.getElementsByTagName("head")[0].appendChild(e),c.default.log({description:"JS was loaded into document.",element:e,func:"loadJs",obj:"dom"}),e}throw c.default.error({description:"Document does not exsist to load assets into.",func:"loadJs",obj:"dom"}),new Error("Document object is required to load assets.")}function a(t){if("undefined"!=typeof window&&(0,l.has)(window,"document")){var e=window.document.createElement("script");return e.src=t,e.type="text/javascript",window.document.getElementsByTagName("head")[0].appendChild(e),c.default.log({description:"JS was loaded into document.",element:e,func:"asyncLoadJs",obj:"dom"}),new Promise(function(t){window.setTimeout(t,200)})}throw c.default.error({description:"Document does not exsist to load assets into.",func:"asyncLoadJs",obj:"dom"}),new Error("Document object is required to load assets.")}function s(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}Object.defineProperty(e,"__esModule",{value:!0}),e.loadCss=i,e.loadJs=o,e.asyncLoadJs=a,e.getQueryParam=s;var u=n(10),c=r(u),l=n(14)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(14),s=r(a),u={},c={get localExists(){var t="test";if("undefined"==typeof window||"undefined"==typeof window.sessionStorage)return!1;try{return window.sessionStorage.setItem(t,"1"),window.sessionStorage.removeItem(t),!0}catch(e){return o.default.error({description:"Error saving to session storage",error:e,obj:"storage",func:"localExists"}),!1}},item:function(t,e){return this.setItem(t,e)},setItem:function(t,e){u[t]=e,this.localExists&&(s.default.isObject(e)&&(e=JSON.stringify(e)),window.sessionStorage.setItem(t,e))},getItem:function(t){if(u[t])return u[t];if(this.localExists){var e=window.sessionStorage.getItem(t);if(e){var n=!1,r=null;try{r=JSON.parse(e),n=!0}catch(i){n=!1}if(n)return r}return e}return null},removeItem:function(t){if(u[t]&&(u[t]=null),this.localExists)try{window.sessionStorage.removeItem(t);
}catch(e){o.default.error({description:"Error removing item from session storage",error:e,obj:"storage",func:"removeItem"})}},clear:function(){if(u={},this.localExists)try{window.sessionStorage.clear()}catch(t){o.default.warn({description:"Session storage could not be cleared.",error:t})}}};e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return new Promise(function(e,n){return"function"!=typeof t.end?(s.default.warn({description:"req.end is not a function",func:"handleResponse"}),n("req.end is not a function")):void t.end(function(t,r){if(t){var i=t.response.body.error?t.response.body.error:t.response.body;return s.default.warn({description:"Error in request.",error:i,errorRes:t,func:"handleResponse"}),401==t.status&&s.default.warn({description:"Unauthorized. You must be signed into make this request.",func:"handleResponse"}),n(i.message||i)}try{var o=JSON.parse(r.body);e(o)}catch(a){e(r.body)}})})}function o(t){return c.default.string&&(t=t.set("Authorization","Bearer "+c.default.string)),t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),s=r(a),u=n(135),c=r(u),l=n(281),f=r(l),h={get:function(t,e){var n=f.default.get(t);return e&&n.query(e),n=o(n),i(n)},post:function(t,e){var n=f.default.post(t).send(e);return n=o(n),i(n)},put:function(t,e){var n=f.default.put(t,e);return n=o(n),i(n)},del:function(t,e){var n=f.default.put(t,e);return n=o(n),i(n)}};e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=void 0;if(t&&""!=t)try{e=(0,h.default)(t)}catch(n){throw u.default.error({description:"Error decoding token.",data:e,error:n,func:"decodeToken",file:"token"}),new Error("Invalid token string.")}return e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),a=r(o),s=n(10),u=r(s),c=n(133),l=r(c),f=n(185),h=r(f),p=n(14),d=r(p),g={get string(){return l.default.getItem(a.default.tokenName)},get data(){return l.default.getItem(a.default.tokenDataName)?l.default.getItem(a.default.tokenDataName):i(this.string)},set data(t){if(d.default.isString(t)){var e=t;t=i(e),u.default.info({description:"Token data was set as string. Decoding token.",token:e,tokenData:t,func:"data",obj:"token"})}else u.default.log({description:"Token data was set.",data:t,func:"data",obj:"token"}),l.default.setItem(a.default.tokenDataName,t)},set string(t){var e=void 0;if(d.default.isString(t))e=t;else{if(u.default.log({description:"Token data is not string.",token:t,func:"string",obj:"token"}),!d.default.isObject(t)||!d.default.has(t,"token"))return void u.default.error({description:"Invalid value set to token.",token:t,func:"string",obj:"token"});e=t.token}u.default.log({description:"Token was set.",token:t,tokenStr:e,func:"string",obj:"token"}),l.default.setItem(a.default.tokenName,e),this.data=(0,h.default)(e)},save:function(t){this.string=t},"delete":function(){l.default.removeItem(a.default.tokenName),l.default.removeItem(a.default.tokenDataName),u.default.log({description:"Token was removed.",func:"delete",obj:"token"})}};e.default=g,t.exports=e.default},function(t,e,n){t.exports=n(188)},function(t,e,n){function r(t,e){if(e=s(e,3),u(t)){var n=a(t,e);return n>-1?t[n]:void 0}return o(t,e,i)}var i=n(149),o=n(204),a=n(205),s=n(155),u=n(4);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(153);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(252),o=n(253),a=n(254),s=n(255),u=n(256);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){(function(e){var r=n(79),i=r(e,"Set");t.exports=i}).call(e,function(){return this}())},function(t,e){(function(e){var n=e.Uint8Array;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n){(void 0!==n&&!i(t[e],n)||"number"==typeof e&&void 0===n&&!(e in t))&&(t[e]=n)}var i=n(30);t.exports=r},function(t,e,n){(function(e){function r(t,e,n){var r=t[e];(!i(r,n)||i(r,o[e])&&!a.call(t,e)||void 0===n&&!(e in t))&&(t[e]=n)}var i=n(30),o=e.Object.prototype,a=o.hasOwnProperty;t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t,e){var n=i(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():a.call(t,n,1),!0}var i=n(33),o=e.Array.prototype,a=o.splice;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e){var n=i(t,e);return 0>n?void 0:t[n][1]}var i=n(33);t.exports=r},function(t,e,n){function r(t,e){return i(t,e)>-1}var i=n(33);t.exports=r},function(t,e,n){function r(t,e,n){var r=i(t,e);0>r?t.push([e,n]):t[r][1]=n}var i=n(33);t.exports=r},function(t,e,n){var r=n(152),i=n(233),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n,u){u||(u=[]);for(var c=-1,l=t.length;++c<l;){var f=t[c];s(f)&&(n||a(f)||o(f))?e?r(f,e,n,u):i(u,f):n||(u[u.length]=f)}return u}var i=n(199),o=n(37),a=n(4),s=n(82);t.exports=r},function(t,e,n){var r=n(234),i=r();t.exports=i},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(151),o=n(40);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t)?[e+""]:i(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:void 0}var i=n(158),o=n(80);t.exports=r},function(t,e,n){function r(t,e,n,s,u){return t===e?!0:null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,u)}var i=n(209),o=n(6),a=n(11);t.exports=r},function(t,e,n){function r(t){var e=typeof t;return"function"==e?t:null==t?a:"object"==e?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(213),o=n(214),a=n(139),s=n(4),u=n(274);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e){function n(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t){return i(t)?t:o(t)}var i=n(4),o=n(263);t.exports=r},function(t,e,n){function r(t){var e=t.constructor,n=new e(t.byteLength),r=new i(n);return r.set(new i(t)),n}var i=n(142);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){(function(e){function r(t){return f.call(t)}var i=n(15),o=n(141),a="[object Map]",s="[object Object]",u="[object Set]",c=e.Object.prototype,l=e.Function.prototype.toString,f=c.toString,h=i?l.call(i):"",p=o?l.call(o):"";(i&&r(new i)!=a||o&&r(new o)!=u)&&(r=function(t){var e=f.call(t),n=e==s?t.constructor:null,r="function"==typeof n?l.call(n):"";if(r){if(r==h)return a;if(r==p)return u}return e}),t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n){if(null==t)return!1;var r=n(t,e);return r||u(e)||(e=i(e),t=h(t,e),null!=t&&(e=f(e),r=n(t,e))),r||c(t&&t.length)&&s(e,t.length)&&(a(t)||l(t)||o(t))}var i=n(158),o=n(37),a=n(4),s=n(35),u=n(80),c=n(39),l=n(17),f=n(167),h=n(257);t.exports=r},function(t,e,n){(function(e){function r(t,e){return i?void 0!==t[e]:a.call(t,e)}var i=n(36),o=e.Object.prototype,a=o.hasOwnProperty;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=t?t.length:void 0;return s(e)&&(a(t)||u(t)||o(t))?i(e,String):null}var i=n(220),o=n(37),a=n(4),s=n(39),u=n(17);t.exports=r},function(t,e){(function(e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=e.Object.prototype;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=i(t),t===o||t===-o){var e=0>t?-1:1;return e*a}var n=t%1;return t===t?n?t-n:t:0}var i=n(276),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){(function(e){var r=n(1);t.exports=r,r.apiLoader=n(41).load,r.XML.Parser=n(122),n(101),n(112),n(90),n(91),n(92),n(94),r.CredentialProviderChain.defaultProviders=[function(){return new r.EnvironmentCredentials("AWS")},function(){return new r.EnvironmentCredentials("AMAZON")},function(){return new r.SharedIniFileCredentials},function(){return new r.EC2MetadataCredentials}],r.util.update(r.Config.prototype.keys,{credentials:function(){var t=null;return new r.CredentialProviderChain([function(){return new r.EnvironmentCredentials("AWS")},function(){return new r.EnvironmentCredentials("AMAZON")},function(){return new r.SharedIniFileCredentials}]).resolve(function(e,n){e||(t=n)}),t},credentialProvider:function(){return new r.CredentialProviderChain},region:function(){return e.env.AWS_REGION||e.env.AMAZON_REGION}}),r.config=new r.Config}).call(e,n(5))},function(t,e){t.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3dash","us-west-1/s3":"s3dash","us-west-2/s3":"s3dash","eu-west-1/s3":"s3dash","ap-southeast-1/s3":"s3dash","ap-southeast-2/s3":"s3dash","ap-northeast-1/s3":"s3dash","sa-east-1/s3":"s3dash","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3dash:{endpoint:"{service}-{region}.amazonaws.com",signatureVersion:"s3"}}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(e){function r(t){return function(){var n=[],r={update:function(t,r){return e.isBuffer(t)||(t=new e(t,r)),n.push(t),this},digest:function(r){var i=e.concat(n),o=t(i);return n=null,r?o.toString(r):o}};return r}}var i=n(298),o=r(n(294)),a=r(n(296));t.exports=function(t){return"md5"===t?new o:"rmd160"===t?new a:i(t)}}).call(e,n(3).Buffer)},function(t,e,n){(function(t){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var o=n(303);e.createHash=n(172),e.createHmac=n(292),e.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(r){n(r)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var a=n(302)(e);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync,i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){r("sorry,",t,"is not implemented yet")}})}).call(e,n(3).Buffer)},function(t,e,n){var r=t.exports,i=(n(25).EventEmitter,n(304)),o=n(70);r.request=function(t,e){"string"==typeof t&&(t=o.parse(t)),t||(t={}),t.host||t.port||(t.port=parseInt(window.location.port,10)),!t.host&&t.hostname&&(t.host=t.hostname),t.protocol||(t.scheme?t.protocol=t.scheme+":":t.protocol=window.location.protocol),t.host||(t.host=window.location.hostname||window.location.host),/:/.test(t.host)&&(t.port||(t.port=t.host.split(":")[1]),t.host=t.host.split(":")[0]),t.port||(t.port="https:"==t.protocol?443:80);var n=new i(new a,t);return e&&n.on("response",e),n},r.get=function(t,e){t.method="GET";var n=r.request(t,e);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var a=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],e=0;e<t.length;e++)try{var n=new window.ActiveXObject(t[e]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(t[e])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e,n){var r=n(174),i=t.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(t,e){return t||(t={}),t.scheme="https",r.request.call(this,t,e)}},function(t,e,n){function r(t){return this instanceof r?void i.call(this,t):new r(t)}t.exports=r;var i=n(124),o=n(26);o.inherits=n(27),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){(function(e){function r(t,e){var r=n(12);t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(C||(C=n(178).StringDecoder),this.decoder=new C(t.encoding),this.encoding=t.encoding)}function i(t){n(12);return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void x.call(this)):new i(t)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(T.isNullOrUndefined(n))e.reading=!1,e.ended||l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else!e.decoder||i||r||(n=e.decoder.write(n)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t)),p(t,e);else i||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){if(t>=R)t=R;else{t--;for(var e=1;32>e;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||T.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return T.isBuffer(e)||T.isString(e)||T.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}function f(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(k("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?e.nextTick(function(){h(t)}):h(t))}function h(t){k("emit readable"),t.emit("readable"),y(t)}function p(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){d(t,n)}))}function d(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(k("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;k("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&A.listenerCount(t,"data")&&(e.flowing=!0,y(t))}}function v(t,n){n.resumeScheduled||(n.resumeScheduled=!0,e.nextTick(function(){m(t,n)}))}function m(t,e){e.resumeScheduled=!1,t.emit("resume"),y(t),e.flowing&&!e.reading&&t.read(0)}function y(t){var e=t._readableState;if(k("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function b(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,a=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!t||t>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(t<r[0].length){var s=r[0];n=s.slice(0,t),r[0]=s.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":new S(t);for(var u=0,c=0,l=r.length;l>c&&t>u;c++){var s=r[0],f=Math.min(t-u,s.length);o?n+=s.slice(0,f):s.copy(n,u,0,f),f<s.length?r[0]=s.slice(f):r.shift(),u+=f}}return n}function w(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function _(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}function E(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}t.exports=i;var j=n(312),S=n(3).Buffer;i.ReadableState=r;var A=n(25).EventEmitter;A.listenerCount||(A.listenerCount=function(t,e){return t.listeners(e).length});var x=n(20),T=n(26);T.inherits=n(27);var C,k=n(325);k=k&&k.debuglog?k.debuglog("stream"):function(){},T.inherits(i,x),i.prototype.push=function(t,e){var n=this._readableState;return T.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=new S(t,e),e="")),o(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.setEncoding=function(t){return C||(C=n(178).StringDecoder),this._readableState.decoder=new C(t),this._readableState.encoding=t,this};var R=8388608;i.prototype.read=function(t){k("read",t);var e=this._readableState,n=t;if((!T.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return k("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?w(this):f(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&w(this),null;var r=e.needReadable;k("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,k("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,k("reading or ended",r)),r&&(k("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return i=t>0?b(t,e):null,T.isNull(i)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&w(this),T.isNull(i)||this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,n){function r(t){k("onunpipe"),t===f&&o()}function i(){k("onend"),t.end()}function o(){k("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",v),t.removeListener("error",s),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",a),!h.awaitDrain||t._writableState&&!t._writableState.needDrain||v()}function a(e){k("ondata");var n=t.write(e);!1===n&&(k("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function s(e){k("onerror",e),l(),t.removeListener("error",s),0===A.listenerCount(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),l()}function c(){k("onfinish"),t.removeListener("close",u),l()}function l(){k("unpipe"),f.unpipe(t)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,k("pipe count=%d opts=%j",h.pipesCount,n);var p=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,d=p?i:o;h.endEmitted?e.nextTick(d):f.once("end",d),t.on("unpipe",r);var v=g(f);return t.on("drain",v),f.on("data",a),t._events&&t._events.error?j(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",u),t.once("finish",c),t.emit("pipe",f),h.flowing||(k("pipe resume"),f.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=E(e.pipes,t);return-1===i?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,n){var r=x.prototype.on.call(this,t,n);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&f(this,i);else{var o=this;e.nextTick(function(){k("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(k("resume"),t.flowing=!0,t.reading||(k("resume read 0"),this.read(0)),v(this,t)),this},i.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(k("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(k("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)T.isFunction(t[i])&&T.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){k("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=b}).call(e,n(5))},function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function a(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=n(3).Buffer,u=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(2>=e&&n>>4==14){this.charLength=3;break}if(3>=e&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./apigateway":55,"./apigateway.js":55,"./cloudfront":56,"./cloudfront.js":56,"./cloudsearchdomain":57,"./cloudsearchdomain.js":57,"./cognitoidentity":58,"./cognitoidentity.js":58,"./dynamodb":59,"./dynamodb.js":59,"./ec2":60,"./ec2.js":60,"./glacier":61,"./glacier.js":61,"./iotdata":62,"./iotdata.js":62,"./machinelearning":63,"./machinelearning.js":63,"./route53":64,"./route53.js":64,"./s3":65,"./s3.js":65,"./sqs":66,"./sqs.js":66,"./sts":67,"./sts.js":67,"./swf":68,"./swf.js":68};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=179},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return A.debug({description:"getContentFromFile called",fileData:t,func:"getContentFromFile",obj:"Directory"}),new Promise(function(e){try{var n=new FileReader;A.debug({description:"reader created",reader:n,func:"getContentFromFile",obj:"Directory"}),n.onload=function(t){var n=t.target.result;A.debug({description:"Contents loaded",contents:n,func:"getContentFromFile",obj:"Directory"}),e(n)},n.readAsText(t)}catch(r){A.error({description:"Error getting file contents.",error:r,func:"getContentFromFile",obj:"Directory"}),reject(r)}})}var s=n(31),u=i(s),c=n(136),l=i(c),f=n(4),h=i(f),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var g=n(8),v=(i(g),n(7)),m=i(v),y=n(129),b=(i(y),n(126)),w=i(b),_=n(127),E=i(_),j=n(130),S=r(j),A=m.default.utils.logger,x=function(){function t(e){if(o(this,t),A.debug({description:"Directory object constructed.",func:"constructor",obj:"Directory",dir:this}),!e)throw new Error("Project is required to create directory");this.project=e}return d(t,[{key:"get",value:function(){var t=this;return A.log({description:"Directory get called.",func:"get",obj:"Directory"}),new Promise(function(e){t.fbRef.once("value",function(t){A.info({description:"Directory loaded from firebase.",func:"get",obj:"Directory"});var n=[];t.forEach(function(t){var e=t.hasChild("meta")?t.child("meta").val():{path:t.key()};e.key=t.key(),n.push(e)}),A.debug({description:"Directory array built.",filesArray:n,func:"get",obj:"Directory"}),e(n)})})}},{key:"sync",value:function(t){return A.debug({description:"Directory sync called.",func:"sync",obj:"Directory"}),this.listenerCallback=t,this.fbRef.on("value",this.listenerCallback)}},{key:"unsync",value:function(){return A.debug({description:"Directory sync called.",func:"sync",obj:"Directory"}),this.fbRef.off("value",this.listenerCallback)}},{key:"addFile",value:function(t){if((0,h.default)(t))return this.upload(t);var e=new w.default(this.project,path,name);return e.save()}},{key:"addFolder",value:function(t,e){var n=new E.default(this.project,t,e);return n.save()}},{key:"upload",value:function(t){var e=this;if(!(0,h.default)(t))return this.addToFb(t);var n=function(){A.warn({description:"Upload called with multiple files.",filesData:t,project:e.project,func:"upload",obj:"Directory"});var n=[];return(0,l.default)(t,function(t){n.push(e.addToFb(t))}),{v:Promise.all(n).then(function(t){return A.info({description:"Directory uploaded successfully.",resultsArray:t,func:"upload",obj:"Directory"}),Promise.resolve(e)})}}();return"object"===("undefined"==typeof n?"undefined":p(n))?n.v:void 0}},{key:"remove",value:function(t){return this.delFromFb(t)}},{key:"addToFb",value:function(t){var e=this;if(A.debug({description:"Add to fb called.",addData:t,func:"addToFb",obj:"Directory"}),!t)return A.debug({description:"Object data is required to add.",addData:t,func:"addToFb",obj:"Directory"}),Promise.reject({message:"Object data is required to add."});if((0,h.default)(t)){var n=function(){var n=[];return t.forEach(function(t){n.push(e.addToFb(t))}),{v:Promise.all(n)}}();if("object"===("undefined"==typeof n?"undefined":p(n)))return n.v}var r=t.size,i=t.path,o=t.name,a=t.type;return r?this.addLocalToFb(t):i?a&&"folder"===a?new E.default(this.project,i,o).save():new w.default(this.project,i,o).save():(A.error({description:"Invalid file data. Path must be included.",func:"addToFb",obj:"Directory"}),Promise.reject({message:"Invalid file data. Path must be included."}))}},{key:"delFromFb",value:function(t){if(A.debug({description:"Del from fb called.",data:t,func:"delFromFb",obj:"Directory"}),!t||!t.path)return A.error({description:"Invalid file data. Path must be included.",func:"delFromFb",obj:"Directory"}),Promise.reject({message:"Invalid file data. Path must be included."});var e=new w.default({project:this.project,data:t});return new Promise(function(t,n){e.fbRef.remove(fileData,function(e){e?n(e):t(fileData)})})}},{key:"addLocalToFb",value:function(t){var e=this;return A.debug({description:"Add local to fb called.",data:t,func:"addLocalToFb",obj:"Directory"}),t?a(t).then(function(n){A.debug({description:"Content loaded from local file.",content:n,func:"addLocalToFb",obj:"Directory"}),t.content=n,t.path=t.name;var r=new w.default({project:e.project,data:t});return A.info({description:"File object created.",file:r,func:"addLocalToFb",obj:"Directory"}),r.save()}):(A.error({description:"File is required to upload to Firebase.",func:"addLocalToFb",obj:"Directory"}),Promise.reject({message:"File is required to upload to Firebase."}))}},{key:"getFrontEnd",value:function(){var t=this;return this.project&&this.project.frontend?Promise.resolve(this.project):(A.warn({description:"Directory Frontend data not available. Calling .get().",project:this.project,func:"getFromS3",obj:"Directory"}),this.project.get().then(function(e){return A.log({description:"Directory get returned.",data:e,func:"getFromS3",obj:"Directory"}),t.project=e,(0,u.default)(e,"frontend")?t.get():(A.error({description:"Directory does not have Frontend to get files from.",func:"getFromS3",obj:"Directory"}),Promise.reject({message:"Directory does not have frontend to get files from."
}))},function(t){return A.error({description:"Directory Frontend data not available. Make sure to call .get().",error:t,func:"getFromS3",obj:"Directory"}),Promise.reject({message:"Bucket name required to get objects"})}))}},{key:"getFromS3",value:function(){if(!this.project||!this.project.frontend||!this.project.frontend.bucketName)return A.warn({description:"Directory Frontend data not available. Calling .get().",project:this.project,func:"getFromS3",obj:"Directory"}),this.getFrontEnd().then(this.getFromS3);var t=S.init();t.listObjects({bucket:this.project.frontend.bucketName}).then(function(t){return A.info({description:"Directory list loaded.",filesList:t,func:"get",obj:"Directory"}),t},function(t){return A.error({description:"Error getting files from S3.",error:t,func:"get",obj:"Directory"}),Promise.reject(t)})}},{key:"buildStructure",value:function(){return A.debug({description:"Build Structure called.",func:"buildStructure",obj:"Directory"}),this.get().then(function(t){A.log({description:"Child struct from array.",childStructure:e,func:"buildStructure",obj:"Directory"});var e=childrenStructureFromArray(t);return A.log({description:"Child struct from array.",childStructure:e,func:"buildStructure",obj:"Directory"}),e},function(t){return A.error({description:"Error getting application files.",error:t,func:"buildStructure",obj:"Directory"}),Promise.reject({message:"Error getting files.",error:t})})}},{key:"syncStructure",value:function(){return A.debug({description:"Build Structure called.",func:"syncStructure",obj:"Directory"}),this.sync().then(function(t){A.log({description:"Child struct from array.",childStruct:e,func:"syncStructure",obj:"Directory"});var e=childrenStructureFromArray(t);return A.log({description:"Child struct from array.",childStruct:e,func:"syncStructure",obj:"Directory"}),e},function(t){return A.error({description:"Error getting application files.",error:t,func:"syncStructure",obj:"Directory"}),Promise.reject({message:"Error getting files.",error:t})})}},{key:"fbRef",get:function(){return A.debug({description:"Url created for directory fbRef.",url:this.project.fbRef,func:"fbRef",obj:"Directory"}),this.project.fbRef}}]),t}();e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(268),a=r(o),s=n(272),u=r(s),c=n(167),l=r(c),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var h=n(7),p=r(h),d=n(73),g=r(d),v=n(72),m=r(v),y=p.default.utils.logger,b=function(){function t(e,n,r){if(i(this,t),y.debug({description:"FileSystemEntity constructor called with project "+e+", path: "+n+", and name: "+r,func:"constructor",obj:"FileSystemEntity"}),!e||!n)throw y.error({description:"FileSystemEntity that includes path and project is needed to create a FileSystemEntity action.",func:"constructor",obj:"FileSystemEntity"}),new Error("FileSystemEntity with path and project is needed to create file action.");this.project=e,0===n.indexOf("/")&&(n=n.slice(1)),this.path=n,this.name=r||(0,l.default)(n.split("/")),y.debug({description:"FileSystemEntity object constructed.",entity:this,func:"constructor",obj:"FileSystemEntity"})}return f(t,[{key:"get",value:function(){var t=this;return new Promise(function(e,n){t.fbRef.once("value",function(t){t.val()||n("no firebase value found"),e(t.val())})})}},{key:"open",value:function(){return this.get()}},{key:"remove",value:function(){return this.removeFromFb()}},{key:"move",value:function(){return null}},{key:"save",value:function(){return this.addToFb()}},{key:"addToFb",value:function(){y.debug({description:"addToFb called.",entity:this,func:"addToFb",obj:"FileSystemEntity"});var t=this.fbRef,e=this.path,n=this.name,r=this.entityType,i=this.fileType,o=this.content,s={meta:{path:e,name:n,entityType:r,fileType:i}};return s.meta=(0,u.default)(s.meta,a.default),o&&(s.original=o),new Promise(function(e,n){t.set(s,function(t){t?(y.error({description:"Error creating file on Firebase.",error:t,func:"addToFb",obj:"FileSystemEntity"}),n(t)):(y.info({description:"FileSystemEntity successfully added to Firebase.",func:"addToFb",obj:"FileSystemEntity"}),e(s))})})}},{key:"removeFromFb",value:function(){var t=this;return y.debug({description:"Remove FileSystemEntity from Firebase called.",func:"removeFromFb",obj:"FileSystemEntity"}),new Promise(function(e,n){t.fbRef.remove(function(r){return r?(y.error({description:"Error creating file on Firebase.",error:r,func:"removeFromFb",obj:"FileSystemEntity"}),n(r)):(y.info({description:"FileSystemEntity successfully removed from Firebase.",entity:t,func:"removeFromFb",obj:"FileSystemEntity"}),void e(t))})})}},{key:"fbRef",get:function(){if(!this.project||!this.project.name)throw y.error({description:"App information needed to generate fbUrl for FileSystemEntity.",entity:this,func:"fbUrl",obj:"FileSystemEntity"}),new Error("App information needed to generate fbUrl for FileSystemEntity.");var t=[this.project.fbUrl,m.default.pathToSafePath(this.path)].join("/");return y.debug({description:"Fb ref generated.",url:t,func:"fbRef",obj:"FileSystemEntity"}),new g.default(t)}}]),t}();e.default=b,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0;var i=n(10),o=r(i);e.logger=o.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(134),u=i(s),c=n(10),l=i(c),f=n(132),h=r(f),p=(n(182),n(29)),d=i(p),g=function(){function t(e){o(this,t);var n=e.app,r=e.redirectUrl,i=e.provider,a=d.default.externalAuth[n.name]?d.default.externalAuth[n.name]:null;this.app=n,this.provider=i,this.redirectUrl=a?a.redirectUrl:"/oauthcallback",r&&(this.redirectUrl=r)}return a(t,[{key:"login",value:function(){var t=this;return"google"===this.provider?this.googleAuth().then(function(e){if(!e)return Promise.reject("Error loading Google account.");var n=e.image,r=e.emails,i=r&&r[0]&&r[0].value?r[0].value:"",o={image:n,email:i,username:i.split("@")[0],provider:t.provider,providerAccount:e};return l.default.info({description:"Google account loaded, signing up.",account:o,googleAccount:e,func:"signup",obj:"providerAuth"}),new u.default.post(t.app.endpoint+"/signup",o).then(function(t){return l.default.info({description:"Signup with external account successful.",newAccount:t,func:"signup",obj:"providerAuth"}),t},function(t){return l.default.error({description:"Error loading google account.",account:o,googleAccount:e,error:t,func:"signup",obj:"providerAuth"}),Promise.reject(t)})},function(t){return l.default.error({description:"Error authenticating with Google.",error:t,func:"signup",obj:"providerAuth"}),Promise.reject("Error getting external account.")}):(l.default.error({description:"Invalid provider.",func:"signup",obj:"providerAuth"}),Promise.reject("Invalid provider"))}},{key:"signup",value:function(){var t=this;return"google"===this.provider?this.googleAuth().then(function(e){if(!e)return Promise.reject("Error loading Google account.");var n=e.image,r=e.emails,i=r&&r[0]&&r[0].value?r[0].value:"",o={image:n,email:i,username:i.split("@")[0],provider:t.provider,providerAccount:e};return l.default.info({description:"Google account loaded, signing up.",account:o,googleAccount:e,func:"signup",obj:"providerAuth"}),new u.default.post(t.app.endpoint+"/signup",o).then(function(t){return l.default.info({description:"Signup with external account successful.",newAccount:t,func:"signup",obj:"providerAuth"}),t},function(t){return l.default.error({description:"Error loading google account.",account:o,googleAccount:e,error:t,func:"signup",obj:"providerAuth"}),Promise.reject(t)})},function(t){return l.default.error({description:"Error authenticating with Google.",error:t,func:"signup",obj:"providerAuth"}),Promise.reject("Error getting external account.")}):(l.default.error({description:"Invalid provider.",func:"signup",obj:"providerAuth"}),Promise.reject("Invalid provider"))}},{key:"googleAuth",value:function(){var t=this,e=this.app&&this.app.name&&d.default.externalAuth[this.app.name]?d.default.externalAuth[this.app.name].google:null;return e?"undefined"!=typeof window&&"undefined"==typeof window.gapi?this.addGoogleLib().then(function(){return t.googleAuth()}):new Promise(function(t,n){window.gapi.auth.authorize({client_id:e,scope:"email profile"},function(e){return!e||e.error||e.message?(l.default.error({description:"Error authorizing with google",func:"googleSignup",obj:"providerAuth"}),n(e.error||e.message)):(l.default.log({description:"Auth with google successful.",auth:e,func:"googleSignup",obj:"providerAuth"}),void window.gapi.client.load("plus","v1",function(){var e=gapi.client.plus.people.get({userId:"me"});e.execute(function(e){l.default.log({description:"Account loaded from google.",account:e,func:"googleSignup",obj:"providerAuth"}),t(e)})}))})}):(l.default.error({description:"ClientId is required to authenticate with Google.",func:"googleSignup",obj:"providerAuth"}),Promise.reject("Client id is required to authenticate with Google."))}},{key:"addGoogleLib",value:function(){var t="https://apis.google.com/js/client.js?onload=OnLoadCallback";return new Promise(function(e){h.asyncLoadJs(t),"undefined"!=typeof window&&(window.OnLoadCallback=function(){l.default.log({description:"Google library loaded",func:"googleSignup",obj:"providerAuth"}),e()})})}}]),t}();e.default=g,t.exports=e.default},function(t,e,n){function r(t){return decodeURIComponent(atob(t).replace(/(.)/g,function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var i=n(187);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return r(e)}catch(n){return i.atob(e)}}},function(t,e,n){"use strict";var r=n(184),i=n(186);t.exports=function(t){if(!t)throw new Error("Invalid token specified");return i(r(t.split(".")[1]))}},function(module,exports){module.exports=function(str){var parsed;return parsed="object"==typeof JSON?JSON.parse(str):eval("("+str+")")}},function(t,e,n){!function(){var t=e,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=function(){try{document.createElement("$")}catch(t){return t}}();t.btoa||(t.btoa=function(t){for(var e,i,o=0,a=n,s="";t.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&e>>8-o%1*8)){if(i=t.charCodeAt(o+=.75),i>255)throw r;e=e<<8|i}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw r;for(var e,i,o=0,a=0,s="";i=t.charAt(a++);~i&&(e=o%4?64*e+i:i,o++%4)?s+=String.fromCharCode(255&e>>(-2*o&6)):0)i=n.indexOf(i);return s})}()},function(t,e,n){function r(t,e){return"function"==typeof e&&a(t)?i(t,e):o(t,s(e))}var i=n(75),o=n(149),a=n(4),s=n(264);t.exports=r},function(t,e,n){function r(t,e){return o(t,e,i)}var i=n(207),o=n(162);t.exports=r},function(t,e,n){(function(e){function r(){}var i=n(36),o=e.Object.prototype;r.prototype=i?i(null):o,t.exports=r}).call(e,function(){return this}())},function(t,e){(function(e){var n=e.Reflect;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.push(t[e])}var i=n(140),o=n(224);r.prototype.push=o,t.exports=r},function(t,e){function n(t,e){return t.set(e[0],e[1]),t}t.exports=n},function(t,e){function n(t,e){return t.add(e),t}t.exports=n},function(t,e){function n(t,e,n){var r=n?n.length:0;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){function r(t,e){return!!t.length&&i(t,e,0)>-1}var i=n(208);t.exports=r},function(t,e){function n(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(78),o=n(40);t.exports=r},function(t,e,n){function r(t,e,n,b,w,_){var E;if(n&&(E=w?n(t,b,w,_):n(t)),void 0!==E)return E;if(!m(t))return t;var A=g(t);if(A){if(E=h(t),!e)return c(t,E)}else{var x=f(t),C=x==j||x==S;if(x!=T&&x!=y&&(!C||w))return W[x]?p(t,x,e):w?t:{};if(v(t))return w?t:{};if(E=d(C?{}:t),!e)return l(t,s(E,t))}_||(_=new i);var k=_.get(t);return k?k:(_.set(t,E),(A?o:u)(t,function(i,o){a(E,o,r(i,e,n,o,t,_))}),A?E:l(t,E))}var i=n(32),o=n(75),a=n(144),s=n(201),u=n(152),c=n(160),l=n(231),f=n(161),h=n(246),p=n(247),d=n(248),g=n(4),v=n(34),m=n(6),y="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",E="[object Error]",j="[object Function]",S="[object GeneratorFunction]",A="[object Map]",x="[object Number]",T="[object Object]",C="[object RegExp]",k="[object Set]",R="[object String]",O="[object Symbol]",I="[object WeakMap]",P="[object ArrayBuffer]",L="[object Float32Array]",q="[object Float64Array]",D="[object Int8Array]",F="[object Int16Array]",N="[object Int32Array]",M="[object Uint8Array]",U="[object Uint8ClampedArray]",B="[object Uint16Array]",H="[object Uint32Array]",W={};W[y]=W[b]=W[P]=W[w]=W[_]=W[L]=W[q]=W[D]=W[F]=W[N]=W[A]=W[x]=W[T]=W[C]=W[k]=W[R]=W[O]=W[M]=W[U]=W[B]=W[H]=!0,W[E]=W[j]=W[I]=!1,t.exports=r},function(t,e,n){var r=n(6),i=function(){function t(){}return function(e){if(r(e)){t.prototype=e;var n=new t;t.prototype=void 0}return n||{}}}();t.exports=i},function(t,e){function n(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}t.exports=n},function(t,e){function n(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e,n){function r(t,e){return null==t?t:i(t,e,o)}var i=n(151),o=n(84);t.exports=r},function(t,e){function n(t,e){return e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}var i=n(245);t.exports=r},function(t,e,n){(function(e){function r(t,e,n,r,v,y){var b=c(t),w=c(e),_=d,E=d;b||(_=u(t),_==p?_=g:_!=g&&(b=f(t))),w||(E=u(e),E==p?E=g:E!=g&&(w=f(e)));var j=_==g&&!l(t),S=E==g&&!l(e),A=_==E;if(A&&!b&&!j)return a(t,e,_,n,r,v);var x=v&h;if(!x){var T=j&&m.call(t,"__wrapped__"),C=S&&m.call(e,"__wrapped__");if(T||C)return n(T?t.value():t,C?e.value():e,r,v,y)}return A?(y||(y=new i),(b?o:s)(t,e,n,r,v,y)):!1}var i=n(32),o=n(236),a=n(237),s=n(238),u=n(161),c=n(4),l=n(34),f=n(83),h=2,p="[object Arguments]",d="[object Array]",g="[object Object]",v=e.Object.prototype,m=v.hasOwnProperty;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){f=n[u];var h=f[0],p=t[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in t))return!1}else{var g=new i,v=r?r(p,d,h,t,e,g):void 0;if(!(void 0===v?o(d,p,r,a|s,g):v))return!1}}return!0}var i=n(32),o=n(154),a=1,s=2;t.exports=r},function(t,e){function n(t){return r(Object(t))}var r=Object.keys;t.exports=n},function(t,e,n){(function(e){function r(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}var i=n(191),o=n(251),a=e.Object.prototype,s=i?i.enumerate:void 0,u=a.propertyIsEnumerable;s&&!u.call({valueOf:1},"valueOf")&&(r=function(t){return o(s(t))}),t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=o(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(void 0!==r||n in Object(t))}}return function(n){return n===t||i(n,t,e)}}var i=n(210),o=n(240);t.exports=r},function(t,e,n){function r(t,e){return function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,void 0,s|u)}}var i=n(154),o=n(138),a=n(189),s=1,u=2;t.exports=r},function(t,e,n){function r(t,e,n,h){if(t!==e){var p=u(e)||l(e)?void 0:f(e);o(p||e,function(o,u){if(p&&(u=o,o=e[u]),c(o))h||(h=new i),s(t,e,u,r,n,h);else{var l=n?n(t[u],o,u+"",t,e,h):void 0;void 0===l&&(l=o),a(t,u,l)}})}}var i=n(32),o=n(75),a=n(143),s=n(216),u=n(4),c=n(6),l=n(83),f=n(84);t.exports=r},function(t,e,n){function r(t,e,n,r,g,v){var m=t[n],y=e[n],b=v.get(y)||v.get(m);if(b)return void i(t,n,b);var w=g?g(m,y,n+"",t,e,v):void 0,_=void 0===w;_&&(w=y,u(y)||p(y)?w=u(m)?m:c(m)?a(m):o(y):h(y)||s(y)?w=s(m)?d(m):f(m)?m:o(y):_=l(y)),v.set(y,w),_&&r(w,y,g,v),i(t,n,w)}var i=n(143),o=n(202),a=n(160),s=n(37),u=n(4),c=n(82),l=n(21),f=n(6),h=n(266),p=n(83),d=n(278);t.exports=r},function(t,e,n){function r(t,e){return t=Object(t),i(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}var i=n(76);t.exports=r},function(t,e,n){function r(t,e){var n={};return i(t,function(t,r){e(t)&&(n[r]=t)}),n}var i=n(206);t.exports=r},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(153);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t,e){return i(e,function(e){return[e,t[e]]})}var i=n(198);t.exports=r},function(t,e,n){function r(t,e,n){var r=-1,f=o,h=t.length,p=!0,d=[],g=d;if(n)p=!1,f=a;else if(h>=l){var v=e?null:u(t);if(v)return c(v);p=!1,f=s,g=new i}else g=e?[]:d;t:for(;++r<h;){var m=t[r],y=e?e(m):m;if(p&&y===y){for(var b=g.length;b--;)if(g[b]===y)continue t;e&&g.push(y),d.push(m)}else f(g,y,n)||(g!==d&&g.push(y),d.push(m))}return d}var i=n(192),o=n(196),a=n(197),s=n(223),u=n(235),c=n(81),l=200;t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;if(i(e)){var r=n.__data__,a="string"==typeof e?r.string:r.hash;return a[e]===o}return n.has(e)}var i=n(16),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=this.__data__;if(i(t)){var n=e.__data__,r="string"==typeof t?n.string:n.hash;r[t]=o}else e.set(t,o)}var i=n(16),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=t.constructor;return o(a(t),i,new e)}var i=n(193),o=n(76),a=n(166);t.exports=r},function(t,e){function n(t){var e=t.constructor,n=new e(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){var e=t.constructor;return o(a(t),i,new e)}var i=n(194),o=n(76),a=n(81);t.exports=r},function(t,e,n){function r(t){return i?Object(a.call(t)):{}}var i=n(74),o=i?i.prototype:void 0,a=i?o.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=t.buffer,r=t.constructor;return new r(e?i(n):n,t.byteOffset,t.length)}var i=n(159);t.exports=r},function(t,e,n){function r(t,e,n,r){n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):t[s];i(n,s,u)}return n}var i=n(144);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(78),o=n(241);t.exports=r},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a="function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=3>o?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,a)}return e})}var i=n(249),o=n(85);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var i=n(38);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}t.exports=n},function(t,e,n){var r=n(141),i=n(271),o=r&&2===new r([1,2]).size?function(t){return new r(t)}:i;t.exports=o},function(t,e,n){function r(t,e,n,r,s,u){var c=-1,l=s&a,f=s&o,h=t.length,p=e.length;if(h!=p&&!(l&&p>h))return!1;var d=u.get(t);if(d)return d==e;var g=!0;for(u.set(t,e);++c<h;){var v=t[c],m=e[c];if(r)var y=l?r(m,v,c,e,t,u):r(v,m,c,t,e,u);if(void 0!==y){if(y)continue;g=!1;break}if(f){if(!i(e,function(t){return v===t||n(v,t,r,s,u)})){g=!1;break}}else if(v!==m&&!n(v,m,r,s,u)){g=!1;break}}return u.delete(t),g}var i=n(200),o=1,a=2;t.exports=r},function(t,e,n){function r(t,e,n,r,w,E){switch(n){case b:return t.byteLength==e.byteLength&&r(new i(t),new i(e))?!0:!1;case l:case f:return+t==+e;case h:return t.name==e.name&&t.message==e.message;case d:return t!=+t?e!=+e:t==+e;case g:case m:return t==e+"";case p:var j=a;case v:var S=E&c;return j||(j=s),(S||t.size==e.size)&&r(j(t),j(e),w,E|u);case y:return!!o&&_.call(t)==_.call(e)}return!1}var i=n(142),o=n(74),a=n(166),s=n(81),u=1,c=2,l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",d="[object Number]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",w=o?o.prototype:void 0,_=o?w.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,u,c){var l=u&s,f=u&a,h=o(t),p=h.length,d=o(e),g=d.length;if(p!=g&&!l)return!1;for(var v=p;v--;){var m=h[v];if(!(l?m in e:i(e,m))||!f&&m!=d[v])return!1}var y=c.get(t);if(y)return y==e;var b=!0;c.set(t,e);for(var w=l;++v<p;){m=h[v];var _=t[m],E=e[m];if(r)var j=l?r(E,_,m,e,t,c):r(_,E,m,t,e,c);if(!(void 0===j?_===E||n(_,E,r,u,c):j)){b=!1;break}w||(w="constructor"==m)}if(b&&!w){var S=t.constructor,A=e.constructor;S!=A&&"constructor"in t&&"constructor"in e&&!("function"==typeof S&&S instanceof S&&"function"==typeof A&&A instanceof A)&&(b=!1)}return c.delete(t),b}var i=n(77),o=n(40),a=1,s=2;t.exports=r},function(t,e,n){var r=n(156),i=r("length");t.exports=i},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;)e[n][2]=i(e[n][1]);return e}var i=n(250),o=n(277);t.exports=r},function(t,e){var n=Object.getOwnPropertySymbols,r=n||function(){return[]};t.exports=r},function(t,e,n){function r(t,e){return i(t,e)&&delete t[e]}var i=n(163);t.exports=r},function(t,e,n){(function(e){function r(t,e){if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(36),o="__lodash_hash_undefined__",a=e.Object.prototype,s=a.hasOwnProperty;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n){t[e]=i&&void 0===n?o:n}var i=n(36),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=n},function(t,e){(function(e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=e.Object.prototype,i=r.hasOwnProperty;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case y:return i(t);case l:case f:return new r(+t);case b:case w:case _:case E:case j:case S:case A:case x:case T:return c(t,n);case h:return o(t);case p:case v:return new r(t);case d:return a(t);case g:return s(t);case m:return u(t)}}var i=n(159),o=n(225),a=n(226),s=n(227),u=n(228),c=n(229),l="[object Boolean]",f="[object Date]",h="[object Map]",p="[object Number]",d="[object RegExp]",g="[object Set]",v="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",x="[object Uint16Array]",T="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t){var e=t.constructor;return i(o(e)?e.prototype:void 0)}var i=n(203),o=n(21);t.exports=r},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)?i(n[e],t):!1}var i=n(30),o=n(38),a=n(35),s=n(6);t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(6);t.exports=r},function(t,e){function n(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}t.exports=n},function(t,e,n){function r(){this.__data__={hash:new i,map:o?new o:[],string:new i}}var i=n(190),o=n(15);t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return s(t)?a("string"==typeof t?e.string:e.hash,t):i?e.map.delete(t):o(e.map,t)}var i=n(15),o=n(145),a=n(242),s=n(16);t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return s(t)?a("string"==typeof t?e.string:e.hash,t):i?e.map.get(t):o(e.map,t)}var i=n(15),o=n(146),a=n(243),s=n(16);t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return s(t)?a("string"==typeof t?e.string:e.hash,t):i?e.map.has(t):o(e.map,t)}var i=n(15),o=n(147),a=n(163),s=n(16);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return s(t)?a("string"==typeof t?n.string:n.hash,t,e):i?n.map.set(t,e):o(n.map,t,e),this}var i=n(15),o=n(148),a=n(244),s=n(16);t.exports=r},function(t,e,n){function r(t,e){return 1==e.length?t:o(t,i(e,0,-1))}var i=n(157),o=n(138);t.exports=r},function(t,e){function n(){this.__data__={array:[],map:null}}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=e.array;return n?i(n,t):e.map.delete(t)}var i=n(145);t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=e.array;return n?i(n,t):e.map.get(t)}var i=n(146);t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=e.array;return n?i(n,t):e.map.has(t)}var i=n(147);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=n.array;r&&(r.length<a-1?o(r,t,e):(n.array=null,n.map=new i(r)));var s=n.map;return s&&s.set(t,e),this}var i=n(140),o=n(148),a=200;t.exports=r},function(t,e,n){function r(t){var e=[];return i(t).replace(o,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e}var i=n(279),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(139);t.exports=r},function(t,e,n){(function(e){function r(t){return null==t?!1:i(t)?h.test(l.call(t)):a(t)&&(o(t)?h:u).test(t)}var i=n(21),o=n(34),a=n(11),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=e.Object.prototype,l=e.Function.prototype.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){if(!o(t)||l.call(t)!=a||i(t))return!1;var e=s;if("function"==typeof t.constructor&&(e=f(t)),null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}var i=n(34),o=n(11),a="[object Object]",s=e.Object.prototype,u=e.Function.prototype.toString,c=u.call(Object),l=s.toString,f=Object.getPrototypeOf;t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){return"symbol"==typeof t||i(t)&&s.call(t)==o}var i=n(11),o="[object Symbol]",a=e.Object.prototype,s=a.toString;t.exports=r}).call(e,function(){return this}())},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){var r=n?n.length:0;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=Array(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function c(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function f(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function p(t,e){return!!t.length&&j(t,e,0)>-1}function d(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function g(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function m(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function w(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===Q?a===a:n(a,s)))var s=a,u=o}return u}function _(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function E(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function j(t,e,n){if(e!==e)return M(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function S(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function x(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==Q&&(n=n===Q?o:n+o)}return n}function T(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function C(t,e){return g(e,function(e){return[e,t[e]]})}function k(t){return function(e){return t(e)}}function R(t,e){return g(e,function(e){return t[e]})}function O(t,e){for(var n=-1,r=t.length;++n<r&&j(e,t[n],0)>-1;);return n}function I(t,e){for(var n=t.length;n--&&j(e,t[n],0)>-1;);return n}function P(t){return t&&t.Object===Object?t:null}function L(t,e){if(t!==e){var n=null===t,r=t===Q,i=t===t,o=null===e,a=e===Q,s=e===e;if(t>e&&!o||!i||n&&!a&&s||r&&s)return 1;if(e>t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function q(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=L(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}function D(t){return yn[t]}function F(t){return bn[t]}function N(t){return"\\"+En[t]}function M(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function B(t,e){return t="number"==typeof t||Ae.test(t)?+t:-1,e=null==e?_t:e,t>-1&&t%1==0&&e>t}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function z(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=Tt,o[++i]=n);return o}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function V(t){if(!t||!ln.test(t))return t.length;for(var e=cn.lastIndex=0;cn.test(t);)e++;return e}function G(t){return t.match(cn)}function K(t){return wn[t]}function Y(t){function e(t){if(ja(t)&&!tl(t)&&!(t instanceof i)){if(t instanceof r)return t;if(Au.call(t,"__wrapped__"))return _i(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Q}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function P(){var t=new i(this.__wrapped__);return t.__actions__=xr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xr(this.__views__),t}function Ht(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,
t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ae(){var t=this.__wrapped__.value(),e=this.__dir__,n=tl(t),r=0>e,i=n?t.length:0,o=ni(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=Ku(u,this.__takeCount__);if(!n||dt>i||i==u&&p==u)return vr(t,this.__actions__);var d=[];t:for(;u--&&p>h;){c+=e;for(var g=-1,v=t[c];++g<f;){var m=l[g],y=m.iteratee,b=m.type,w=y(v);if(b==vt)v=w;else if(!w){if(b==gt)continue t;break t}}d[h++]=v}return d}function ke(){}function Re(t,e){return Ie(t,e)&&delete t[e]}function Oe(t,e){if(ec){var n=t[e];return n===bt?Q:n}return Au.call(t,e)?t[e]:Q}function Ie(t,e){return ec?t[e]!==Q:Au.call(t,e)}function Pe(t,e,n){t[e]=ec&&n===Q?bt:n}function Le(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qe(){this.__data__={hash:new ke,map:Ju?new Ju:[],string:new ke}}function De(t){var e=this.__data__;return li(t)?Re("string"==typeof t?e.string:e.hash,t):Ju?e.map.delete(t):Ye(e.map,t)}function Fe(t){var e=this.__data__;return li(t)?Oe("string"==typeof t?e.string:e.hash,t):Ju?e.map.get(t):Qe(e.map,t)}function Ne(t){var e=this.__data__;return li(t)?Ie("string"==typeof t?e.string:e.hash,t):Ju?e.map.has(t):$e(e.map,t)}function Me(t,e){var n=this.__data__;return li(t)?Pe("string"==typeof t?n.string:n.hash,t,e):Ju?n.map.set(t,e):Ze(n.map,t,e),this}function Ue(t){var e=-1,n=t?t.length:0;for(this.__data__=new Le;++e<n;)this.push(t[e])}function Be(t,e){var n=t.__data__;if(li(e)){var r=n.__data__,i="string"==typeof e?r.string:r.hash;return i[e]===bt}return n.has(e)}function He(t){var e=this.__data__;if(li(t)){var n=e.__data__,r="string"==typeof t?n.string:n.hash;r[t]=bt}else e.set(t,bt)}function We(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ze(){this.__data__={array:[],map:null}}function Xe(t){var e=this.__data__,n=e.array;return n?Ye(n,t):e.map.delete(t)}function Ve(t){var e=this.__data__,n=e.array;return n?Qe(n,t):e.map.get(t)}function Ge(t){var e=this.__data__,n=e.array;return n?$e(n,t):e.map.has(t)}function Ke(t,e){var n=this.__data__,r=n.array;r&&(r.length<dt-1?Ze(r,t,e):(n.array=null,n.map=new Le(r)));var i=n.map;return i&&i.set(t,e),this}function Ye(t,e){var n=Je(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Bu.call(t,n,1),!0}function Qe(t,e){var n=Je(t,e);return 0>n?Q:t[n][1]}function $e(t,e){return Je(t,e)>-1}function Je(t,e){for(var n=t.length;n--;)if(oa(t[n][0],e))return n;return-1}function Ze(t,e,n){var r=Je(t,e);0>r?t.push([e,n]):t[r][1]=n}function tn(t,e,n,r){return t===Q||oa(t,ju[n])&&!Au.call(r,n)?e:t}function en(t,e,n){(n!==Q&&!oa(t[e],n)||"number"==typeof e&&n===Q&&!(e in t))&&(t[e]=n)}function nn(t,e,n){var r=t[e];(!oa(r,n)||oa(r,ju[e])&&!Au.call(t,e)||n===Q&&!(e in t))&&(t[e]=n)}function rn(t,e){return t&&Tr(e,as(e),t)}function on(t,e){for(var n=-1,r=null==t,i=e.length,o=Array(i);++n<i;)o[n]=r?Q:ns(t,e[n]);return o}function an(t,e,n){return t===t&&(n!==Q&&(t=n>=t?t:n),e!==Q&&(t=t>=e?t:e)),t}function sn(t,e,n,r,i,o){var a;if(n&&(a=i?n(t,r,i,o):n(t)),a!==Q)return a;if(!Ea(t))return t;var s=tl(t);if(s){if(a=ii(t),!e)return xr(t,a)}else{var u=ei(t),l=u==Pt||u==Lt;if(u!=Ft&&u!=Ct&&(!l||i))return mn[u]?ai(t,u,e):i?t:{};if(U(t))return i?t:{};if(a=oi(l?{}:t),!e)return kr(t,rn(a,t))}o||(o=new We);var f=o.get(t);return f?f:(o.set(t,a),(s?c:Tn)(t,function(r,i){nn(a,i,sn(r,e,n,i,t,o))}),s?a:kr(t,a))}function cn(t){var e=as(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=e[i],a=t[o],s=r[o];if(s===Q&&!(o in Object(r))||!a(s))return!1}return!0}}function yn(t,e,n){if("function"!=typeof t)throw new _u(yt);return Uu(function(){t.apply(Q,n)},e)}function bn(t,e,n,r){var i=-1,o=p,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=g(e,k(n))),r?(o=d,a=!1):e.length>=dt&&(o=Be,a=!1,e=new Ue(e));t:for(;++i<s;){var l=t[i],f=n?n(l):l;if(a&&f===f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}function wn(t,e){var n=!0;return lc(t,function(t,r,i){return n=!!e(t,r,i)}),n}function _n(t,e,n,r){var i=t.length;for(n=Ba(n),0>n&&(n=-n>i?0:i+n),r=r===Q||r>i?i:Ba(r),0>r&&(r+=i),r=n>r?0:Ha(r);r>n;)t[n++]=e;return t}function En(t,e){var n=[];return lc(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function An(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];la(a)&&(n||tl(a)||ua(a))?e?An(a,e,n,r):v(r,a):n||(r[r.length]=a)}return r}function xn(t,e){return null==t?t:hc(t,e,ss)}function Tn(t,e){return t&&hc(t,e,as)}function Cn(t,e){return t&&pc(t,e,as)}function kn(t,e){return h(e,function(e){return ba(t[e])})}function Rn(t,e){e=ci(e,t)?[e+""]:hr(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:Q}function Pn(t,e){return Au.call(t,e)||"object"==typeof t&&e in t&&null===Du(t)}function Ln(t,e){return e in Object(t)}function qn(t,e,n){return t>=Ku(e,n)&&t<Gu(e,n)}function Dn(t,e,n){for(var r=n?d:p,i=t.length,o=i,a=Array(i),s=[];o--;){var u=t[o];o&&e&&(u=g(u,k(e))),a[o]=!n&&(e||u.length>=120)?new Ue(o&&u):Q}u=t[0];var c=-1,l=u.length,f=a[0];t:for(;++c<l;){var h=u[c],v=e?e(h):h;if(!(f?Be(f,v):r(s,v,n))){for(var o=i;--o;){var m=a[o];if(!(m?Be(m,v):r(t[o],v,n)))continue t}f&&f.push(v),s.push(h)}}return s}function Fn(t,e,n){ci(e,t)||(e=hr(e),t=vi(t,e),e=Mi(e));var r=null==t?t:t[e];return null==r?Q:s(r,t,n)}function Nn(t,e,n,r,i){return t===e?!0:null==t||null==e||!Ea(t)&&!ja(e)?t!==t&&e!==e:Mn(t,e,Nn,n,r,i)}function Mn(t,e,n,r,i,o){var a=tl(t),s=tl(e),u=kt,c=kt;a||(u=ei(t),u==Ct?u=Ft:u!=Ft&&(a=Da(t))),s||(c=ei(e),c==Ct?c=Ft:c!=Ft&&(s=Da(e)));var l=u==Ft&&!U(t),f=c==Ft&&!U(e),h=u==c;if(h&&!a&&!l)return Yr(t,e,u,n,r,i);var p=i&ct;if(!p){var d=l&&Au.call(t,"__wrapped__"),g=f&&Au.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,r,i,o)}return h?(o||(o=new We),(a?Kr:Qr)(t,e,n,r,i,o)):!1}function Un(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===Q&&!(u in t))return!1}else{var f=new We,h=r?r(c,l,u,t,e,f):Q;if(!(h===Q?Nn(l,c,r,ut|ct,f):h))return!1}}return!0}function Bn(t){var e=typeof t;return"function"==e?t:null==t?Ys:"object"==e?tl(t)?Vn(t[0],t[1]):Xn(t):ru(t)}function Hn(t){return Vu(Object(t))}function Wn(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function zn(t,e){var n=-1,r=ca(t)?Array(t.length):[];return lc(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Xn(t){var e=Zr(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==Q||n in Object(t))}}return function(n){return n===t||Un(n,t,e)}}function Vn(t,e){return function(n){var r=ns(n,t);return r===Q&&r===e?is(n,t):Nn(e,r,Q,ut|ct)}}function Gn(t,e,n,r){if(t!==e){var i=tl(e)||Da(e)?Q:ss(e);c(i||e,function(o,a){if(i&&(a=o,o=e[a]),Ea(o))r||(r=new We),Kn(t,e,a,Gn,n,r);else{var s=n?n(t[a],o,a+"",t,e,r):Q;s===Q&&(s=o),en(t,a,s)}})}}function Kn(t,e,n,r,i,o){var a=t[n],s=e[n],u=o.get(s)||o.get(a);if(u)return void en(t,n,u);var c=i?i(a,s,n+"",t,e,o):Q,l=c===Q;l&&(c=s,tl(s)||Da(s)?c=tl(a)?a:la(a)?xr(a):sn(s):Oa(s)||ua(s)?c=ua(a)?za(a):Ea(a)?a:sn(s):l=ba(s)),o.set(s,c),l&&r(c,s,i,o),en(t,n,c)}function Yn(t,e,n){var r=-1,i=Jr();e=g(e.length?e:Array(1),function(t){return i(t)});var o=zn(t,function(t,n,i){var o=g(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return A(o,function(t,e){return q(t,e,n)})}function Qn(t,e){return t=Object(t),m(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function $n(t,e){var n={};return xn(t,function(t,r){e(t)&&(n[r]=t)}),n}function Jn(t){return function(e){return null==e?Q:e[t]}}function Zn(t){return function(e){return Rn(e,t)}}function tr(t,e){return er(t,e)}function er(t,e,n){var r=-1,i=e.length,o=t;for(n&&(o=g(t,function(t){return n(t)}));++r<i;)for(var a=0,s=e[r],u=n?n(s):s;(a=j(o,u,a))>-1;)o!==t&&Bu.call(o,a,1),Bu.call(t,a,1);return t}function nr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(r==n||i!=o){var o=i;if(B(i))Bu.call(t,i,1);else if(ci(i,t))delete t[i];else{var a=hr(i),s=vi(t,a);null!=s&&delete s[Mi(a)]}}}return t}function rr(t,e){return t+Wu(Qu()*(e-t+1))}function ir(t,e,n,r){for(var i=-1,o=Gu(Hu((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function or(t,e,n,r){e=ci(e,t)?[e+""]:hr(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=e[i];if(Ea(s)){var c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):Q,c===Q&&(c=null==l?B(e[i+1])?[]:{}:l)}nn(s,u,c)}s=s[u]}return t}function ar(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function sr(t,e){var n;return lc(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function ur(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&xt>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)&&null!==a?r=o+1:i=o}return i}return cr(t,e,Ys,n)}function cr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=e===Q;o>i;){var c=Wu((i+o)/2),l=n(t[c]),f=l!==Q,h=l===l;if(a)var p=h||r;else p=s?h&&f&&(r||null!=l):u?h&&(r||f):null==l?!1:r?e>=l:e>l;p?i=c+1:o=c}return Ku(o,At)}function lr(t){return fr(t)}function fr(t,e){for(var n=0,r=t.length,i=t[0],o=e?e(i):i,a=o,s=0,u=[i];++n<r;)i=t[n],o=e?e(i):i,oa(o,a)||(a=o,u[++s]=i);return u}function hr(t){return tl(t)?t:yi(t)}function pr(t,e,n){var r=-1,i=p,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(o>=dt){var c=e?null:gc(t);if(c)return X(c);a=!1,i=Be,u=new Ue}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function dr(t,e){e=ci(e,t)?[e+""]:hr(e),t=vi(t,e);var n=Mi(e);return null!=t&&rs(t,n)?delete t[n]:!0}function gr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ar(t,r?0:o,r?o+1:i):ar(t,r?o+1:0,r?i:o)}function vr(t,e){var n=t;return n instanceof i&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function mr(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?v(bn(o,t[r],e,n),bn(t[r],o,e,n)):t[r];return o&&o.length?pr(o,e,n):[]}function yr(t){var e=t.constructor,n=new e(t.byteLength),r=new Pu(n);return r.set(new Pu(t)),n}function br(t){var e=t.constructor;return m(W(t),o,new e)}function wr(t){var e=t.constructor,n=new e(t.source,be.exec(t));return n.lastIndex=t.lastIndex,n}function _r(t){var e=t.constructor;return m(X(t),a,new e)}function Er(t){return Ou?Object(ac.call(t)):{}}function jr(t,e){var n=t.buffer,r=t.constructor;return new r(e?yr(n):n,t.byteOffset,t.length)}function Sr(t,e,n){for(var r=n.length,i=-1,o=Gu(t.length-r,0),a=-1,s=e.length,u=Array(s+o);++a<s;)u[a]=e[a];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[a++]=t[i++];return u}function Ar(t,e,n){for(var r=-1,i=n.length,o=-1,a=Gu(t.length-i,0),s=-1,u=e.length,c=Array(a+u);++o<a;)c[o]=t[o];for(var l=o;++s<u;)c[l+s]=e[s];for(;++r<i;)c[l+n[r]]=t[o++];return c}function xr(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Tr(t,e,n){return Cr(t,e,n)}function Cr(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):t[a];nn(n,a,s)}return n}function kr(t,e){return Tr(t,yc(t),e)}function Rr(t,e){return function(n,r){var i=e?e():{};if(r=Jr(r),tl(n))for(var o=-1,a=n.length;++o<a;){var s=n[o];t(i,s,r(s),n)}else lc(n,function(e,n,o){t(i,e,r(e),o)});return i}}function Or(t){return Qo(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:Q,a=i>2?n[2]:Q;for(o="function"==typeof o?(i--,o):Q,a&&ui(n[0],n[1],a)&&(o=3>i?Q:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,o)}return e})}function Ir(t,e){return function(n,r){if(null==n)return n;if(!ca(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Pr(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function Lr(t,e,n){function r(){var e=this&&this!==On&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&J,o=Fr(t);return r}function qr(t){return function(e){e=Va(e);var n=ln.test(e)?G(e):Q,r=n?n[0]:e.charAt(0),i=n?n.slice(1).join(""):e.slice(1);return r[t]()+i}}function Dr(t){return function(e){return m(Xs(As(e)),t,"")}}function Fr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=cc(t.prototype),r=t.apply(n,e);return Ea(r)?r:n}}function Nr(t,e,n){function r(){for(var o=arguments.length,a=o,u=Array(o),c=this&&this!==On&&this instanceof r?i:t,l=r.placeholder;a--;)u[a]=arguments[a];var f=3>o&&u[0]!==l&&u[o-1]!==l?[]:z(u,l);return o-=f.length,n>o?Xr(t,e,Ur,l,Q,u,f,Q,Q,n-o):s(c,this,u)}var i=Fr(t);return r}function Mr(t){return Qo(function(e){e=An(e);var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new _u(yt);if(o&&!s&&"wrapper"==$r(a))var s=new r([],!0)}for(i=s?i:n;++i<n;){a=e[i];var u=$r(a),c="wrapper"==u?vc(a):Q;s=c&&fi(c[0])&&c[1]==(ot|et|rt|at)&&!c[4].length&&1==c[9]?s[$r(c[0])].apply(s,c[3]):1==a.length&&fi(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&tl(r)&&r.length>=dt)return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ur(t,e,n,r,i,o,a,s,u,c){function l(){for(var y=arguments.length,b=y,w=Array(y);b--;)w[b]=arguments[b];if(r&&(w=Sr(w,r,i)),o&&(w=Ar(w,o,a)),d||g){var _=l.placeholder,E=z(w,_);if(y-=E.length,c>y)return Xr(t,e,Ur,_,n,w,E,s,u,c-y)}var j=h?n:this,S=p?j[t]:t;return s?w=mi(w,s):v&&w.length>1&&w.reverse(),f&&u<w.length&&(w.length=u),this&&this!==On&&this instanceof l&&(S=m||Fr(S)),S.apply(j,w)}var f=e&ot,h=e&J,p=e&Z,d=e&et,g=e&nt,v=e&st,m=p?Q:Fr(t);return l}function Br(t){return Qo(function(e){return e=g(An(e),Jr()),Qo(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function Hr(t,e,n){e=Ba(e);var r=V(t);if(!e||r>=e)return"";var i=e-r;n=n===Q?" ":n+"";var o=Ps(n,Hu(i/V(n)));return ln.test(n)?G(o).slice(0,i).join(""):o.slice(0,i)}function Wr(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,f=Array(l+u),h=this&&this!==On&&this instanceof i?a:t;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++e];return s(h,o?n:this,f)}var o=e&J,a=Fr(t);return i}function zr(t){return function(e,n,r){return r&&"number"!=typeof r&&ui(e,n,r)&&(n=r=Q),e=Wa(e),e=e===e?e:0,n===Q?(n=e,e=0):n=Wa(n)||0,r=r===Q?n>e?1:-1:Wa(r)||0,ir(e,n,r,t)}}function Xr(t,e,n,r,i,o,a,s,u,c){var l=e&et,f=s?xr(s):Q,h=l?a:Q,p=l?Q:a,d=l?o:Q,g=l?Q:o;e|=l?rt:it,e&=~(l?it:rt),e&tt||(e&=~(J|Z));var v=[t,e,i,d,h,g,p,f,u,c],m=n.apply(Q,v);return fi(t)&&bc(m,v),m.placeholder=r,m}function Vr(t){var e=bu[t];return function(t,n){if(t=Wa(t),n=Ba(n)){var r=(Va(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Va(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function Gr(t,e,n,r,i,o,a,s){var u=e&Z;if(!u&&"function"!=typeof t)throw new _u(yt);var c=r?r.length:0;if(c||(e&=~(rt|it),r=i=Q),a=a===Q?a:Gu(Ba(a),0),s=s===Q?s:Ba(s),c-=i?i.length:0,e&it){var l=r,f=i;r=i=Q}var h=u?Q:vc(t),p=[t,e,n,r,i,l,f,o,a,s];if(h&&di(p,h),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=null==p[9]?u?0:t.length:Gu(p[9]-c,0),!s&&e&(et|nt)&&(e&=~(et|nt)),e&&e!=J)d=e==et||e==nt?Nr(t,e,s):e!=rt&&e!=(J|rt)||i.length?Ur.apply(Q,p):Wr(t,e,n,r);else var d=Lr(t,e,n);var g=h?dc:bc;return g(d,p)}function Kr(t,e,n,r,i,o){var a=-1,s=i&ct,u=i&ut,c=t.length,l=e.length;if(c!=l&&!(s&&l>c))return!1;var f=o.get(t);if(f)return f==e;var h=!0;for(o.set(t,e);++a<c;){var p=t[a],d=e[a];if(r)var g=s?r(d,p,a,e,t,o):r(p,d,a,t,e,o);if(g!==Q){if(g)continue;h=!1;break}if(u){if(!b(e,function(t){return p===t||n(p,t,r,i,o)})){h=!1;break}}else if(p!==d&&!n(p,d,r,i,o)){h=!1;break}}return o.delete(t),h}function Yr(t,e,n,r,i,o){switch(n){case Wt:return t.byteLength==e.byteLength&&r(new Pu(t),new Pu(e))?!0:!1;case Rt:case Ot:return+t==+e;case It:return t.name==e.name&&t.message==e.message;case Dt:return t!=+t?e!=+e:t==+e;case Nt:case Ut:return t==e+"";case qt:var a=W;case Mt:var s=o&ct;return a||(a=X),(s||t.size==e.size)&&r(a(t),a(e),i,o|ut);case Bt:return!!Ou&&ac.call(t)==ac.call(e)}return!1}function Qr(t,e,n,r,i,o){var a=i&ct,s=i&ut,u=as(t),c=u.length,l=as(e),f=l.length;if(c!=f&&!a)return!1;for(var h=c;h--;){var p=u[h];if(!(a?p in e:Pn(e,p))||!s&&p!=l[h])return!1}var d=o.get(t);if(d)return d==e;var g=!0;o.set(t,e);for(var v=a;++h<c;){p=u[h];var m=t[p],y=e[p];if(r)var b=a?r(y,m,p,e,t,o):r(m,y,p,t,e,o);if(!(b===Q?m===y||n(m,y,r,i,o):b)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return o.delete(t),g}function $r(t){for(var e=t.name+"",n=uc[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Jr(){var t=e.iteratee||Qs;return t=t===Qs?Bn:t,arguments.length?t(arguments[0],arguments[1]):t}function Zr(t){for(var e=gs(t),n=e.length;n--;)e[n][2]=pi(e[n][1]);return e}function ti(t,e){var n=null==t?Q:t[e];return Ta(n)?n:Q}function ei(t){return Cu.call(t)}function ni(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ku(e,t+a);break;case"takeRight":t=Gu(t,e-a)}}return{start:t,end:e}}function ri(t,e,n){if(null==t)return!1;var r=n(t,e);return r||ci(e)||(e=hr(e),t=vi(t,e),null!=t&&(e=Mi(e),r=n(t,e))),r||_a(t&&t.length)&&B(e,t.length)&&(tl(t)||La(t)||ua(t))}function ii(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Au.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function oi(t){var e=t.constructor;return cc(ba(e)?e.prototype:Q)}function ai(t,e,n){var r=t.constructor;switch(e){case Wt:return yr(t);case Rt:case Ot:return new r(+t);case zt:case Xt:case Vt:case Gt:case Kt:case Yt:case Qt:case $t:case Jt:return jr(t,n);case qt:return br(t);case Dt:case Ut:return new r(t);case Nt:return wr(t);case Mt:return _r(t);case Bt:return Er(t)}}function si(t){var e=t?t.length:Q;return _a(e)&&(tl(t)||La(t)||ua(t))?T(e,String):null}function ui(t,e,n){if(!Ea(n))return!1;var r=typeof e;return("number"==r?ca(n)&&B(e,n.length):"string"==r&&e in n)?oa(n[e],t):!1}function ci(t,e){return"number"==typeof t?!0:!tl(t)&&(le.test(t)||!ce.test(t)||null!=e&&t in Object(e))}function li(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!==t||null==t}function fi(t){var n=$r(t),r=e[n];if("function"!=typeof r||!(n in i.prototype))return!1;if(t===r)return!0;var o=vc(r);return!!o&&t===o[0]}function hi(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ju;return t===n}function pi(t){return t===t&&!Ea(t)}function di(t,e){var n=t[1],r=e[1],i=n|r,o=(J|Z|ot)>i,a=r==ot&&n==et||r==ot&&n==at&&t[7].length<=e[8]||r==(ot|at)&&e[7].length<=e[8]&&n==et;if(!o&&!a)return t;r&J&&(t[2]=e[2],i|=n&J?0:tt);var s=e[3];if(s){var u=t[3];t[3]=u?Sr(u,s,e[4]):xr(s),t[4]=u?z(t[3],Tt):xr(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?Ar(u,s,e[6]):xr(s),t[6]=u?z(t[5],Tt):xr(e[6])),s=e[7],s&&(t[7]=xr(s)),r&ot&&(t[8]=null==t[8]?e[8]:Ku(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function gi(t,e,n,r,i,o){return Ea(t)&&Ea(e)&&(o.set(e,t),Gn(t,e,gi,o)),t===Q?sn(e):t}function vi(t,e){return 1==e.length?t:ns(t,ar(e,0,-1))}function mi(t,e){for(var n=t.length,r=Ku(e.length,n),i=xr(t);r--;){var o=e[r];t[r]=B(o,n)?i[o]:Q}return t}function yi(t){var e=[];return Va(t).replace(fe,function(t,n,r,i){e.push(r?i.replace(me,"$1"):n||t)}),e}function bi(t){return la(t)?t:[]}function wi(t){return"function"==typeof t?t:Ys}function _i(t){if(t instanceof i)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=xr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ei(t,e){e=Gu(Ba(e),0);var n=t?t.length:0;if(!n||1>e)return[];for(var r=0,i=-1,o=Array(Hu(n/e));n>r;)o[++i]=ar(t,r,r+=e);return o}function ji(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function Si(t,e,n){var r=t?t.length:0;return r?(e=n||e===Q?1:Ba(e),ar(t,0>e?0:e,r)):[]}function Ai(t,e,n){var r=t?t.length:0;return r?(e=n||e===Q?1:Ba(e),e=r-e,ar(t,0,0>e?0:e)):[]}function xi(t,e){return t&&t.length?gr(t,Jr(e,3),!0,!0):[]}function Ti(t,e){return t&&t.length?gr(t,Jr(e,3),!0):[]}function Ci(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&ui(t,e,n)&&(n=0,r=i),_n(t,e,n,r)):[]}function ki(t,e){return t&&t.length?E(t,Jr(e,3)):-1}function Ri(t,e){return t&&t.length?E(t,Jr(e,3),!0):-1}function Oi(t,e){var n=t?t.length:0;return n?An(g(t,Jr(e,3))):[]}function Ii(t){var e=t?t.length:0;return e?An(t):[]}function Pi(t){var e=t?t.length:0;return e?An(t,!0):[]}function Li(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];or(r,i[0],i[1])}return r}function qi(t){return t?t[0]:Q}function Di(t,e,n){var r=t?t.length:0;return r?(n=Ba(n),0>n&&(n=Gu(r+n,0)),j(t,e,n)):-1}function Fi(t){return Ai(t,1)}function Ni(t,e){return t?Xu.call(t,e):""}function Mi(t){var e=t?t.length:0;return e?t[e-1]:Q}function Ui(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==Q&&(i=Ba(n),i=(0>i?Gu(r+i,0):Ku(i,r-1))+1),e!==e)return M(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Bi(t,e){return t&&t.length&&e&&e.length?tr(t,e):t}function Hi(t,e,n){return t&&t.length&&e&&e.length?er(t,e,Jr(n)):t}function Wi(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Jr(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return nr(t,i),n}function zi(t){return t?$u.call(t):t}function Xi(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&ui(t,e,n)?(e=0,n=r):(e=null==e?0:Ba(e),n=n===Q?r:Ba(n)),ar(t,e,n)):[]}function Vi(t,e){return ur(t,e)}function Gi(t,e,n){return cr(t,e,Jr(n))}function Ki(t,e){var n=t?t.length:0;if(n){var r=ur(t,e);if(n>r&&oa(t[r],e))return r}return-1}function Yi(t,e){return ur(t,e,!0)}function Qi(t,e,n){return cr(t,e,Jr(n),!0)}function $i(t,e){var n=t?t.length:0;if(n){var r=ur(t,e,!0)-1;if(oa(t[r],e))return r}return-1}function Ji(t){return t&&t.length?lr(t):[]}function Zi(t,e){return t&&t.length?fr(t,Jr(e)):[]}function to(t){return Si(t,1)}function eo(t,e,n){return t&&t.length?(e=n||e===Q?1:Ba(e),ar(t,0,0>e?0:e)):[]}function no(t,e,n){var r=t?t.length:0;return r?(e=n||e===Q?1:Ba(e),e=r-e,ar(t,0>e?0:e,r)):[]}function ro(t,e){return t&&t.length?gr(t,Jr(e,3),!1,!0):[]}function io(t,e){return t&&t.length?gr(t,Jr(e,3)):[]}function oo(t){return t&&t.length?pr(t):[]}function ao(t,e){return t&&t.length?pr(t,Jr(e)):[]}function so(t,e){return t&&t.length?pr(t,Q,e):[]}function uo(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){return la(t)?(e=Gu(t.length,e),!0):void 0}),T(e,function(e){return g(t,Jn(e))})}function co(t,e){if(!t||!t.length)return[];var n=uo(t);return null==e?n:g(n,function(t){return s(e,Q,t)})}function lo(t,e){for(var n=-1,r=t?t.length:0,i=e?e.length:0,o={};++n<r;)or(o,t[n],i>n?e[n]:Q);return o}function fo(t){var n=e(t);return n.__chain__=!0,n}function ho(t,e){return e(t),t}function po(t,e){return e(t)}function go(){return fo(this)}function vo(){return new r(this.value(),this.__chain__)}function mo(t){return this.map(t).flatten()}function yo(){this.__values__===Q&&(this.__values__=Ua(this.value()));var t=this.__index__>=this.__values__.length,e=t?Q:this.__values__[this.__index__++];return{done:t,value:e}}function bo(){return this}function wo(t){for(var e,r=this;r instanceof n;){var i=_i(r);i.__index__=0,i.__values__=Q,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function _o(){var t=this.__wrapped__;if(t instanceof i){var e=t;return this.__actions__.length&&(e=new i(this)),e=e.reverse(),e.__actions__.push({func:po,args:[zi],thisArg:Q}),new r(e,this.__chain__)}return this.thru(zi)}function Eo(){return vr(this.__wrapped__,this.__actions__)}function jo(t,e,n){var r=tl(t)?f:wn;return n&&ui(t,e,n)&&(e=Q),r(t,Jr(e,3))}function So(t,e){var n=tl(t)?h:En;return n(t,Jr(e,3))}function Ao(t,e){if(e=Jr(e,3),tl(t)){var n=E(t,e);return n>-1?t[n]:Q}return _(t,e,lc)}function xo(t,e){if(e=Jr(e,3),tl(t)){var n=E(t,e,!0);return n>-1?t[n]:Q}return _(t,e,fc)}function To(t,e){return"function"==typeof e&&tl(t)?c(t,e):lc(t,wi(e))}function Co(t,e){return"function"==typeof e&&tl(t)?l(t,e):fc(t,wi(e))}function ko(t,e,n,r){t=ca(t)?t:bs(t),n=n&&!r?Ba(n):0;var i=t.length;return 0>n&&(n=Gu(i+n,0)),La(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&j(t,e,n)>-1}function Ro(t,e){var n=tl(t)?g:zn;return n(t,Jr(e,3))}function Oo(t,e,n,r){return null==t?[]:(tl(e)||(e=null==e?[]:[e]),n=r?Q:n,tl(n)||(n=null==n?[]:[n]),Yn(t,e,n))}function Io(t,e,n){var r=tl(t)?m:S,i=arguments.length<3;return r(t,Jr(e,4),n,i,lc)}function Po(t,e,n){var r=tl(t)?y:S,i=arguments.length<3;return r(t,Jr(e,4),n,i,fc)}function Lo(t,e){var n=tl(t)?h:En;return e=Jr(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function qo(t){var e=ca(t)?t:bs(t),n=e.length;return n>0?e[rr(0,n-1)]:Q}function Do(t,e){var n=-1,r=Ua(t),i=r.length,o=i-1;for(e=an(Ba(e),0,i);++n<e;){var a=rr(n,o),s=r[a];r[a]=r[n],r[n]=s}return r.length=e,r}function Fo(t){return Do(t,St)}function No(t){if(null==t)return 0;if(ca(t)){var e=t.length;return e&&La(t)?V(t):e}return as(t).length}function Mo(t,e,n){var r=tl(t)?b:sr;return n&&ui(t,e,n)&&(e=Q),r(t,Jr(e,3))}function Uo(t,e){if("function"!=typeof e)throw new _u(yt);return t=Ba(t),function(){return--t<1?e.apply(this,arguments):void 0}}function Bo(t,e,n){return e=n?Q:e,e=t&&null==e?t.length:e,Gr(t,ot,Q,Q,Q,Q,e)}function Ho(t,e){var n;if("function"!=typeof e)throw new _u(yt);return t=Ba(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Q),n}}function Wo(t,e,n){e=n?Q:e;var r=Gr(t,et,Q,Q,Q,Q,Q,e);return r.placeholder=Wo.placeholder,r}function zo(t,e,n){e=n?Q:e;var r=Gr(t,nt,Q,Q,Q,Q,Q,e);return r.placeholder=zo.placeholder,r}function Xo(t,e,n){function r(){d&&Lu(d),l&&Lu(l),v=0,c=l=p=d=g=Q}function i(e,n){n&&Lu(n),l=d=g=Q,e&&(v=Xc(),f=t.apply(p,c),d||l||(c=p=Q))}function o(){var t=e-(Xc()-h);0>=t||t>e?i(g,l):d=Uu(o,t)}function a(){return(d&&g||l&&b)&&(f=t.apply(p,c)),r(),f}function s(){i(b,d)}function u(){if(c=arguments,h=Xc(),p=this,g=b&&(d||!m),y===!1)var n=m&&!d;else{l||m||(v=h);var r=y-(h-v),i=0>=r||r>y;i?(l&&(l=Lu(l)),v=h,f=t.apply(p,c)):l||(l=Uu(s,r))}return i&&d?d=Lu(d):d||e===y||(d=Uu(o,e)),n&&(i=!0,f=t.apply(p,c)),!i||d||l||(c=p=Q),f}var c,l,f,h,p,d,g,v=0,m=!1,y=!1,b=!0;if("function"!=typeof t)throw new _u(yt);return e=Wa(e)||0,Ea(n)&&(m=!!n.leading,y="maxWait"in n&&Gu(Wa(n.maxWait)||0,e),b="trailing"in n?!!n.trailing:b),u.cancel=r,u.flush=a,u}function Vo(t){return Gr(t,st)}function Go(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new _u(yt);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new Go.Cache,n}function Ko(t){if("function"!=typeof t)throw new _u(yt);return function(){return!t.apply(this,arguments)}}function Yo(t){return Ho(2,t)}function Qo(t,e){if("function"!=typeof t)throw new _u(yt);return e=Gu(e===Q?t.length-1:Ba(e),0),function(){for(var n=arguments,r=-1,i=Gu(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,s(t,this,a)}}function $o(t){if("function"!=typeof t)throw new _u(yt);return function(e){return s(t,this,e)}}function Jo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new _u(yt);return Ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Xo(t,e,{leading:r,maxWait:e,trailing:i})}function Zo(t){return Bo(t,1)}function ta(t,e){return e=null==e?Ys:e,$c(e,t)}function ea(t){return sn(t)}function na(t,e){return sn(t,!1,e)}function ra(t){return sn(t,!0)}function ia(t,e){return sn(t,!0,e)}function oa(t,e){return t===e||t!==t&&e!==e}function aa(t,e){return t>e}function sa(t,e){return t>=e}function ua(t){return la(t)&&Au.call(t,"callee")&&(!Mu.call(t,"callee")||Cu.call(t)==Ct)}function ca(t){return null!=t&&!("function"==typeof t&&ba(t))&&_a(mc(t))}function la(t){return ja(t)&&ca(t)}function fa(t){return t===!0||t===!1||ja(t)&&Cu.call(t)==Rt}function ha(t){return ja(t)&&Cu.call(t)==Ot}function pa(t){return!!t&&1===t.nodeType&&ja(t)&&!Oa(t)}function da(t){return!ja(t)||ba(t.splice)?!No(t):!as(t).length}function ga(t,e){return Nn(t,e)}function va(t,e,n){n="function"==typeof n?n:Q;var r=n?n(t,e):Q;return r===Q?Nn(t,e,n):!!r}function ma(t){return ja(t)&&"string"==typeof t.message&&Cu.call(t)==It}function ya(t){return"number"==typeof t&&zu(t)}function ba(t){var e=Ea(t)?Cu.call(t):"";return e==Pt||e==Lt}function wa(t){return"number"==typeof t&&t==Ba(t)}function _a(t){return"number"==typeof t&&t>-1&&t%1==0&&_t>=t}function Ea(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ja(t){return!!t&&"object"==typeof t}function Sa(t,e){return t===e||Un(t,e,Zr(e))}function Aa(t,e,n){return n="function"==typeof n?n:Q,Un(t,e,Zr(e),n)}function xa(t){return Ra(t)&&t!=+t}function Ta(t){return null==t?!1:ba(t)?Ru.test(Su.call(t)):ja(t)&&(U(t)?Ru:je).test(t)}function Ca(t){return null===t}function ka(t){return null==t}function Ra(t){return"number"==typeof t||ja(t)&&Cu.call(t)==Dt}function Oa(t){if(!ja(t)||Cu.call(t)!=Ft||U(t))return!1;var e=ju;if("function"==typeof t.constructor&&(e=Du(t)),null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&Su.call(n)==Tu}function Ia(t){return Ea(t)&&Cu.call(t)==Nt}function Pa(t){return wa(t)&&t>=-_t&&_t>=t}function La(t){return"string"==typeof t||!tl(t)&&ja(t)&&Cu.call(t)==Ut}function qa(t){return"symbol"==typeof t||ja(t)&&Cu.call(t)==Bt}function Da(t){return ja(t)&&_a(t.length)&&!!vn[Cu.call(t)]}function Fa(t){return t===Q}function Na(t,e){return e>t}function Ma(t,e){return e>=t}function Ua(t){if(!t)return[];if(ca(t))return La(t)?G(t):xr(t);if(Nu&&t[Nu])return H(t[Nu]());var e=ei(t),n=e==qt?W:e==Mt?X:bs;return n(t)}function Ba(t){if(!t)return 0===t?t:0;if(t=Wa(t),t===wt||t===-wt){var e=0>t?-1:1;return e*Et}var n=t%1;return t===t?n?t-n:t:0}function Ha(t){return t?an(Ba(t),0,St):0}function Wa(t){if(Ea(t)){var e=ba(t.valueOf)?t.valueOf():t;t=Ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(de,"");var n=Ee.test(t);return n||Se.test(t)?Sn(t.slice(2),n?2:8):_e.test(t)?jt:+t}function za(t){return Tr(t,ss(t))}function Xa(t){return an(Ba(t),-_t,_t)}function Va(t){if("string"==typeof t)return t;if(null==t)return"";if(qa(t))return Ou?sc.call(t):"";var e=t+"";return"0"==e&&1/t==-wt?"-0":e}function Ga(t,e){var n=cc(t);return e?rn(n,e):n}function Ka(t,e){return _(t,Jr(e,3),Tn,!0)}function Ya(t,e){return _(t,Jr(e,3),Cn,!0)}function Qa(t,e){return null==t?t:hc(t,wi(e),ss)}function $a(t,e){return null==t?t:pc(t,wi(e),ss)}function Ja(t,e){return t&&Tn(t,wi(e))}function Za(t,e){return t&&Cn(t,wi(e))}function ts(t){return null==t?[]:kn(t,as(t))}function es(t){return null==t?[]:kn(t,ss(t))}function ns(t,e,n){var r=null==t?Q:Rn(t,e);return r===Q?n:r}function rs(t,e){return ri(t,e,Pn)}function is(t,e){return ri(t,e,Ln)}function os(t,e,n){return m(as(t),function(r,i){var o=t[i];return e&&!n?Au.call(r,o)?r[o].push(i):r[o]=[i]:r[o]=i,r},{})}function as(t){var e=hi(t);if(!e&&!ca(t))return Hn(t);var n=si(t),r=!!n,i=n||[],o=i.length;for(var a in t)!Pn(t,a)||r&&("length"==a||B(a,o))||e&&"constructor"==a||i.push(a);return i}function ss(t){for(var e=-1,n=hi(t),r=Wn(t),i=r.length,o=si(t),a=!!o,s=o||[],u=s.length;++e<i;){var c=r[e];a&&("length"==c||B(c,u))||"constructor"==c&&(n||!Au.call(t,c))||s.push(c)}return s}function us(t,e){var n={};return e=Jr(e,3),Tn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function cs(t,e){var n={};return e=Jr(e,3),Tn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function ls(t,e){return e=Jr(e),$n(t,function(t){return!e(t)})}function fs(t,e){
return null==t?{}:$n(t,Jr(e))}function hs(t,e,n){if(ci(e,t))r=null==t?Q:t[e];else{e=hr(e);var r=ns(t,e);t=vi(t,e)}return r===Q&&(r=n),ba(r)?r.call(t):r}function ps(t,e,n){return null==t?t:or(t,e,n)}function ds(t,e,n,r){return r="function"==typeof r?r:Q,null==t?t:or(t,e,n,r)}function gs(t){return C(t,as(t))}function vs(t){return C(t,ss(t))}function ms(t,e,n){var r=tl(t)||Da(t);if(e=Jr(e,4),null==n)if(r||Ea(t)){var i=t.constructor;n=r?tl(t)?new i:[]:cc(ba(i)?i.prototype:Q)}else n={};return(r?c:Tn)(t,function(t,r,i){return e(n,t,r,i)}),n}function ys(t,e){return null==t?!0:dr(t,e)}function bs(t){return t?R(t,as(t)):[]}function ws(t){return null==t?R(t,ss(t)):[]}function _s(t,e,n){return n===Q&&(n=e,e=Q),n!==Q&&(n=Wa(n),n=n===n?n:0),e!==Q&&(e=Wa(e),e=e===e?e:0),an(Wa(t),e,n)}function Es(t,e,n){return e=Wa(e)||0,n===Q?(n=e,e=0):n=Wa(n)||0,t=Wa(t),qn(t,e,n)}function js(t,e,n){if(n&&"boolean"!=typeof n&&ui(t,e,n)&&(e=n=Q),n===Q&&("boolean"==typeof e?(n=e,e=Q):"boolean"==typeof t&&(n=t,t=Q)),t===Q&&e===Q?(t=0,e=1):(t=Wa(t)||0,e===Q?(e=t,t=0):e=Wa(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Qu();return Ku(t+i*(e-t+jn("1e-"+((i+"").length-1))),e)}return rr(t,e)}function Ss(t){return ml(Va(t).toLowerCase())}function As(t){return t=Va(t),t&&t.replace(xe,D).replace(un,"")}function xs(t,e,n){t=Va(t),e="string"==typeof e?e:e+"";var r=t.length;return n=n===Q?r:an(Ba(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function Ts(t){return t=Va(t),t&&oe.test(t)?t.replace(re,F):t}function Cs(t){return t=Va(t),t&&pe.test(t)?t.replace(he,"\\$&"):t}function ks(t,e,n){t=Va(t),e=Ba(e);var r=V(t);if(!e||r>=e)return t;var i=(e-r)/2,o=Wu(i),a=Hu(i);return Hr("",o,n)+t+Hr("",a,n)}function Rs(t,e,n){return t=Va(t),t+Hr(t,e,n)}function Os(t,e,n){return t=Va(t),Hr(t,e,n)+t}function Is(t,e,n){return n||null==e?e=0:e&&(e=+e),t=Va(t).replace(de,""),Yu(t,e||(we.test(t)?16:10))}function Ps(t,e){t=Va(t),e=Ba(e);var n="";if(!t||1>e||e>_t)return n;do e%2&&(n+=t),e=Wu(e/2),t+=t;while(e);return n}function Ls(){var t=arguments,e=Va(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function qs(t,e,n){return Va(t).split(e,n)}function Ds(t,e,n){return t=Va(t),n=an(Ba(n),0,t.length),t.lastIndexOf(e,n)==n}function Fs(t,n,r){var i=e.templateSettings;r&&ui(t,n,r)&&(n=Q),t=Va(t),n=rl({},n,i,tn);var o,a,s=rl({},n.imports,i.imports,tn),u=as(s),c=R(s,u),l=0,f=n.interpolate||Te,h="__p += '",p=wu((n.escape||Te).source+"|"+f.source+"|"+(f===ue?ye:Te).source+"|"+(n.evaluate||Te).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++gn+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(l,u).replace(Ce,N),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var g=n.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(Zt,""):h).replace(te,"$1").replace(ee,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=_l(function(){return Function(u,d+"return "+h).apply(Q,c)});if(v.source=h,ma(v))throw v;return v}function Ns(t){return Va(t).toLowerCase()}function Ms(t){return Va(t).toUpperCase()}function Us(t,e,n){if(t=Va(t),!t)return t;if(n||e===Q)return t.replace(de,"");if(e+="",!e)return t;var r=G(t),i=G(e);return r.slice(O(r,i),I(r,i)+1).join("")}function Bs(t,e,n){if(t=Va(t),!t)return t;if(n||e===Q)return t.replace(ve,"");if(e+="",!e)return t;var r=G(t);return r.slice(0,I(r,G(e))+1).join("")}function Hs(t,e,n){if(t=Va(t),!t)return t;if(n||e===Q)return t.replace(ge,"");if(e+="",!e)return t;var r=G(t);return r.slice(O(r,G(e))).join("")}function Ws(t,e){var n=lt,r=ft;if(Ea(e)){var i="separator"in e?e.separator:i;n="length"in e?Ba(e.length):n,r="omission"in e?Va(e.omission):r}t=Va(t);var o=t.length;if(ln.test(t)){var a=G(t);o=a.length}if(n>=o)return t;var s=n-V(r);if(1>s)return r;var u=a?a.slice(0,s).join(""):t.slice(0,s);if(i===Q)return u+r;if(a&&(s+=u.length-s),Ia(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=wu(i.source,Va(be.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===Q?s:f)}}else if(t.indexOf(i,s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function zs(t){return t=Va(t),t&&ie.test(t)?t.replace(ne,K):t}function Xs(t,e,n){return t=Va(t),e=n?Q:e,e===Q&&(e=pn.test(t)?hn:fn),t.match(e)||[]}function Vs(t){var e=t?t.length:0,n=Jr();return t=e?g(t,function(t){if("function"!=typeof t[1])throw new _u(yt);return[n(t[0]),t[1]]}):[],Qo(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Gs(t){return cn(sn(t,!0))}function Ks(t){return function(){return t}}function Ys(t){return t}function Qs(t){return ja(t)&&!tl(t)?$s(t):Bn(t)}function $s(t){return Xn(sn(t,!0))}function Js(t,e){return Vn(t,sn(e,!0))}function Zs(t,e,n){var r=as(e),i=kn(e,r);null!=n||Ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=kn(e,as(e)));var o=Ea(n)&&"chain"in n?n.chain:!0,a=ba(t);return c(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=xr(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,v([this.value()],arguments))})}),t}function tu(){return On._=ku,this}function eu(){}function nu(t){return t=Ba(t),function(){return arguments[t]}}function ru(t){return ci(t)?Jn(t):Zn(t)}function iu(t){return function(e){return null==t?Q:Rn(t,e)}}function ou(t,e){if(t=Ba(t),1>t||t>_t)return[];var n=St,r=Ku(t,St);e=wi(e),t-=St;for(var i=T(r,e);++n<t;)e(n);return i}function au(t){return tl(t)?g(t,String):yi(t)}function su(t){var e=++xu;return Va(t)+e}function uu(t,e){var n;return t!==Q&&(n=t),e!==Q&&(n=n===Q?e:n+e),n}function cu(t){return t&&t.length?w(t,Ys,aa):Q}function lu(t,e){return t&&t.length?w(t,Jr(e),aa):Q}function fu(t){return gu(t)/(t?t.length:0)}function hu(t){return t&&t.length?w(t,Ys,Na):Q}function pu(t,e){return t&&t.length?w(t,Jr(e),Na):Q}function du(t,e){var n;return t!==Q&&(n=t),e!==Q&&(n=n===Q?e:n-e),n}function gu(t){return t&&t.length?x(t,Ys):Q}function vu(t,e){return t&&t.length?x(t,Jr(e)):Q}t=t?In.defaults({},t,In.pick(On,dn)):On;var mu=t.Date,yu=t.Error,bu=t.Math,wu=t.RegExp,_u=t.TypeError,Eu=t.Array.prototype,ju=t.Object.prototype,Su=t.Function.prototype.toString,Au=ju.hasOwnProperty,xu=0,Tu=Su.call(Object),Cu=ju.toString,ku=On._,Ru=wu("^"+Su.call(Au).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ou=t.Symbol,Iu=t.Reflect,Pu=t.Uint8Array,Lu=t.clearTimeout,qu=Iu?Iu.enumerate:Q,Du=Object.getPrototypeOf,Fu=Object.getOwnPropertySymbols,Nu="symbol"==typeof(Nu=Ou&&Ou.iterator)?Nu:Q,Mu=ju.propertyIsEnumerable,Uu=t.setTimeout,Bu=Eu.splice,Hu=bu.ceil,Wu=bu.floor,zu=t.isFinite,Xu=Eu.join,Vu=Object.keys,Gu=bu.max,Ku=bu.min,Yu=t.parseInt,Qu=bu.random,$u=Eu.reverse,Ju=ti(t,"Map"),Zu=ti(t,"Set"),tc=ti(t,"WeakMap"),ec=ti(Object,"create"),nc=tc&&new tc,rc=Ju?Su.call(Ju):"",ic=Zu?Su.call(Zu):"",oc=Ou?Ou.prototype:Q,ac=Ou?oc.valueOf:Q,sc=Ou?oc.toString:Q,uc={};e.templateSettings={escape:ae,evaluate:se,interpolate:ue,variable:"",imports:{_:e}};var cc=function(){function t(){}return function(e){if(Ea(e)){t.prototype=e;var n=new t;t.prototype=Q}return n||{}}}(),lc=Ir(Tn),fc=Ir(Cn,!0),hc=Pr(),pc=Pr(!0);qu&&!Mu.call({valueOf:1},"valueOf")&&(Wn=function(t){return H(qu(t))});var dc=nc?function(t,e){return nc.set(t,e),t}:Ys,gc=Zu&&2===new Zu([1,2]).size?function(t){return new Zu(t)}:eu,vc=nc?function(t){return nc.get(t)}:eu,mc=Jn("length"),yc=Fu||function(){return[]};(Ju&&ei(new Ju)!=qt||Zu&&ei(new Zu)!=Mt)&&(ei=function(t){var e=Cu.call(t),n=e==Ft?t.constructor:null,r="function"==typeof n?Su.call(n):"";if(r){if(r==rc)return qt;if(r==ic)return Mt}return e});var bc=function(){var t=0,e=0;return function(n,r){var i=Xc(),o=pt-(i-e);if(e=i,o>0){if(++t>=ht)return n}else t=0;return dc(n,r)}}(),wc=Qo(function(t,e){return e=An(e),u(tl(t)?t:[Object(t)],e)}),_c=Qo(function(t,e){return la(t)?bn(t,An(e,!1,!0)):[]}),Ec=Qo(function(t,e){var n=Mi(e);return la(n)&&(n=Q),la(t)?bn(t,An(e,!1,!0),Jr(n)):[]}),jc=Qo(function(t,e){var n=Mi(e);return la(n)&&(n=Q),la(t)?bn(t,An(e,!1,!0),Q,n):[]}),Sc=Qo(function(t){var e=g(t,bi);return e.length&&e[0]===t[0]?Dn(e):[]}),Ac=Qo(function(t){var e=Mi(t),n=g(t,bi);return e===Mi(n)?e=Q:n.pop(),n.length&&n[0]===t[0]?Dn(n,Jr(e)):[]}),xc=Qo(function(t){var e=Mi(t),n=g(t,bi);return e===Mi(n)?e=Q:n.pop(),n.length&&n[0]===t[0]?Dn(n,Q,e):[]}),Tc=Qo(Bi),Cc=Qo(function(t,e){e=g(An(e),String);var n=on(t,e);return nr(t,e.sort(L)),n}),kc=Qo(function(t){return pr(An(t,!1,!0))}),Rc=Qo(function(t){var e=Mi(t);return la(e)&&(e=Q),pr(An(t,!1,!0),Jr(e))}),Oc=Qo(function(t){var e=Mi(t);return la(e)&&(e=Q),pr(An(t,!1,!0),Q,e)}),Ic=Qo(function(t,e){return la(t)?bn(t,e):[]}),Pc=Qo(function(t){return mr(h(t,la))}),Lc=Qo(function(t){var e=Mi(t);return la(e)&&(e=Q),mr(h(t,la),Jr(e))}),qc=Qo(function(t){var e=Mi(t);return la(e)&&(e=Q),mr(h(t,la),Q,e)}),Dc=Qo(uo),Fc=Qo(function(t){var e=t.length,n=e>1?t[e-1]:Q;return n="function"==typeof n?(t.pop(),n):Q,co(t,n)}),Nc=Qo(function(t){t=An(t);var e=t.length,n=e?t[0]:0,o=this.__wrapped__,a=function(e){return on(e,t)};return!(e>1||this.__actions__.length)&&o instanceof i&&B(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:po,args:[a],thisArg:Q}),new r(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Q),t})):this.thru(a)}),Mc=Rr(function(t,e,n){Au.call(t,n)?++t[n]:t[n]=1}),Uc=Rr(function(t,e,n){Au.call(t,n)?t[n].push(e):t[n]=[e]}),Bc=Qo(function(t,e,n){var r=-1,i="function"==typeof e,o=ci(e),a=ca(t)?Array(t.length):[];return lc(t,function(t){var u=i?e:o&&null!=t?t[e]:Q;a[++r]=u?s(u,t,n):Fn(t,e,n)}),a}),Hc=Rr(function(t,e,n){t[n]=e}),Wc=Rr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),zc=Qo(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ui(t,e[0],e[1])?e=[]:n>2&&ui(e[0],e[1],e[2])&&(e.length=1),Yn(t,An(e),[])}),Xc=mu.now,Vc=Qo(function(t,e,n){var r=J;if(n.length){var i=z(n,Vc.placeholder);r|=rt}return Gr(t,r,e,n,i)}),Gc=Qo(function(t,e,n){var r=J|Z;if(n.length){var i=z(n,Gc.placeholder);r|=rt}return Gr(e,r,t,n,i)}),Kc=Qo(function(t,e){return yn(t,1,e)}),Yc=Qo(function(t,e,n){return yn(t,Wa(e)||0,n)}),Qc=Qo(function(t,e){e=g(An(e),Jr());var n=e.length;return Qo(function(r){for(var i=-1,o=Ku(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),$c=Qo(function(t,e){var n=z(e,$c.placeholder);return Gr(t,rt,Q,e,n)}),Jc=Qo(function(t,e){var n=z(e,Jc.placeholder);return Gr(t,it,Q,e,n)}),Zc=Qo(function(t,e){return Gr(t,at,Q,Q,Q,An(e))}),tl=Array.isArray,el=Or(function(t,e){Tr(e,as(e),t)}),nl=Or(function(t,e){Tr(e,ss(e),t)}),rl=Or(function(t,e,n){Cr(e,ss(e),t,n)}),il=Or(function(t,e,n){Cr(e,as(e),t,n)}),ol=Qo(function(t,e){return on(t,An(e))}),al=Qo(function(t){return t.push(Q,tn),s(rl,Q,t)}),sl=Qo(function(t){return t.push(Q,gi),s(ll,Q,t)}),ul=Qo(Fn),cl=Or(function(t,e){Gn(t,e)}),ll=Or(function(t,e,n){Gn(t,e,n)}),fl=Qo(function(t,e){return null==t?{}:(e=g(An(e),String),Qn(t,bn(ss(t),e)))}),hl=Qo(function(t,e){return null==t?{}:Qn(t,An(e))}),pl=Dr(function(t,e,n){return e=e.toLowerCase(),t+(n?Ss(e):e)}),dl=Dr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),gl=Dr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),vl=qr("toLowerCase"),ml=qr("toUpperCase"),yl=Dr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),bl=Dr(function(t,e,n){return t+(n?" ":"")+Ss(e)}),wl=Dr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),_l=Qo(function(t,e){try{return s(t,Q,e)}catch(n){return ma(n)?n:new yu(n)}}),El=Qo(function(t,e){return c(An(e),function(e){t[e]=Vc(t[e],t)}),t}),jl=Mr(),Sl=Mr(!0),Al=Qo(function(t,e){return function(n){return Fn(n,t,e)}}),xl=Qo(function(t,e){return function(n){return Fn(t,n,e)}}),Tl=Br(g),Cl=Br(f),kl=Br(b),Rl=zr(),Ol=zr(!0),Il=Vr("ceil"),Pl=Vr("floor"),Ll=Vr("round");return e.prototype=n.prototype,r.prototype=cc(n.prototype),r.prototype.constructor=r,i.prototype=cc(n.prototype),i.prototype.constructor=i,ke.prototype=ec?ec(null):ju,Le.prototype.clear=qe,Le.prototype.delete=De,Le.prototype.get=Fe,Le.prototype.has=Ne,Le.prototype.set=Me,Ue.prototype.push=He,We.prototype.clear=ze,We.prototype.delete=Xe,We.prototype.get=Ve,We.prototype.has=Ge,We.prototype.set=Ke,Go.Cache=Le,e.after=Uo,e.ary=Bo,e.assign=el,e.assignIn=nl,e.assignInWith=rl,e.assignWith=il,e.at=ol,e.before=Ho,e.bind=Vc,e.bindAll=El,e.bindKey=Gc,e.chain=fo,e.chunk=Ei,e.compact=ji,e.concat=wc,e.cond=Vs,e.conforms=Gs,e.constant=Ks,e.countBy=Mc,e.create=Ga,e.curry=Wo,e.curryRight=zo,e.debounce=Xo,e.defaults=al,e.defaultsDeep=sl,e.defer=Kc,e.delay=Yc,e.difference=_c,e.differenceBy=Ec,e.differenceWith=jc,e.drop=Si,e.dropRight=Ai,e.dropRightWhile=xi,e.dropWhile=Ti,e.fill=Ci,e.filter=So,e.flatMap=Oi,e.flatten=Ii,e.flattenDeep=Pi,e.flip=Vo,e.flow=jl,e.flowRight=Sl,e.fromPairs=Li,e.functions=ts,e.functionsIn=es,e.groupBy=Uc,e.initial=Fi,e.intersection=Sc,e.intersectionBy=Ac,e.intersectionWith=xc,e.invert=os,e.invokeMap=Bc,e.iteratee=Qs,e.keyBy=Hc,e.keys=as,e.keysIn=ss,e.map=Ro,e.mapKeys=us,e.mapValues=cs,e.matches=$s,e.matchesProperty=Js,e.memoize=Go,e.merge=cl,e.mergeWith=ll,e.method=Al,e.methodOf=xl,e.mixin=Zs,e.negate=Ko,e.nthArg=nu,e.omit=fl,e.omitBy=ls,e.once=Yo,e.orderBy=Oo,e.over=Tl,e.overArgs=Qc,e.overEvery=Cl,e.overSome=kl,e.partial=$c,e.partialRight=Jc,e.partition=Wc,e.pick=hl,e.pickBy=fs,e.property=ru,e.propertyOf=iu,e.pull=Tc,e.pullAll=Bi,e.pullAllBy=Hi,e.pullAt=Cc,e.range=Rl,e.rangeRight=Ol,e.rearg=Zc,e.reject=Lo,e.remove=Wi,e.rest=Qo,e.reverse=zi,e.sampleSize=Do,e.set=ps,e.setWith=ds,e.shuffle=Fo,e.slice=Xi,e.sortBy=zc,e.sortedUniq=Ji,e.sortedUniqBy=Zi,e.split=qs,e.spread=$o,e.tail=to,e.take=eo,e.takeRight=no,e.takeRightWhile=ro,e.takeWhile=io,e.tap=ho,e.throttle=Jo,e.thru=po,e.toArray=Ua,e.toPairs=gs,e.toPairsIn=vs,e.toPath=au,e.toPlainObject=za,e.transform=ms,e.unary=Zo,e.union=kc,e.unionBy=Rc,e.unionWith=Oc,e.uniq=oo,e.uniqBy=ao,e.uniqWith=so,e.unset=ys,e.unzip=uo,e.unzipWith=co,e.values=bs,e.valuesIn=ws,e.without=Ic,e.words=Xs,e.wrap=ta,e.xor=Pc,e.xorBy=Lc,e.xorWith=qc,e.zip=Dc,e.zipObject=lo,e.zipWith=Fc,e.each=To,e.eachRight=Co,e.extend=nl,e.extendWith=rl,Zs(e,e),e.add=uu,e.attempt=_l,e.camelCase=pl,e.capitalize=Ss,e.ceil=Il,e.clamp=_s,e.clone=ea,e.cloneDeep=ra,e.cloneDeepWith=ia,e.cloneWith=na,e.deburr=As,e.endsWith=xs,e.eq=oa,e.escape=Ts,e.escapeRegExp=Cs,e.every=jo,e.find=Ao,e.findIndex=ki,e.findKey=Ka,e.findLast=xo,e.findLastIndex=Ri,e.findLastKey=Ya,e.floor=Pl,e.forEach=To,e.forEachRight=Co,e.forIn=Qa,e.forInRight=$a,e.forOwn=Ja,e.forOwnRight=Za,e.get=ns,e.gt=aa,e.gte=sa,e.has=rs,e.hasIn=is,e.head=qi,e.identity=Ys,e.includes=ko,e.indexOf=Di,e.inRange=Es,e.invoke=ul,e.isArguments=ua,e.isArray=tl,e.isArrayLike=ca,e.isArrayLikeObject=la,e.isBoolean=fa,e.isDate=ha,e.isElement=pa,e.isEmpty=da,e.isEqual=ga,e.isEqualWith=va,e.isError=ma,e.isFinite=ya,e.isFunction=ba,e.isInteger=wa,e.isLength=_a,e.isMatch=Sa,e.isMatchWith=Aa,e.isNaN=xa,e.isNative=Ta,e.isNil=ka,e.isNull=Ca,e.isNumber=Ra,e.isObject=Ea,e.isObjectLike=ja,e.isPlainObject=Oa,e.isRegExp=Ia,e.isSafeInteger=Pa,e.isString=La,e.isSymbol=qa,e.isTypedArray=Da,e.isUndefined=Fa,e.join=Ni,e.kebabCase=dl,e.last=Mi,e.lastIndexOf=Ui,e.lowerCase=gl,e.lowerFirst=vl,e.lt=Na,e.lte=Ma,e.max=cu,e.maxBy=lu,e.mean=fu,e.min=hu,e.minBy=pu,e.noConflict=tu,e.noop=eu,e.now=Xc,e.pad=ks,e.padEnd=Rs,e.padStart=Os,e.parseInt=Is,e.random=js,e.reduce=Io,e.reduceRight=Po,e.repeat=Ps,e.replace=Ls,e.result=hs,e.round=Ll,e.runInContext=Y,e.sample=qo,e.size=No,e.snakeCase=yl,e.some=Mo,e.sortedIndex=Vi,e.sortedIndexBy=Gi,e.sortedIndexOf=Ki,e.sortedLastIndex=Yi,e.sortedLastIndexBy=Qi,e.sortedLastIndexOf=$i,e.startCase=bl,e.startsWith=Ds,e.subtract=du,e.sum=gu,e.sumBy=vu,e.template=Fs,e.times=ou,e.toInteger=Ba,e.toLength=Ha,e.toLower=Ns,e.toNumber=Wa,e.toSafeInteger=Xa,e.toString=Va,e.toUpper=Ms,e.trim=Us,e.trimEnd=Bs,e.trimStart=Hs,e.truncate=Ws,e.unescape=zs,e.uniqueId=su,e.upperCase=wl,e.upperFirst=ml,e.first=qi,Zs(e,function(){var t={};return Tn(e,function(n,r){Au.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=$,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),c(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=n===Q?1:Gu(Ba(n),0);var o=this.clone();return r?o.__takeCount__=Ku(n,o.__takeCount__):o.__views__.push({size:Ku(n,St),type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==gt||n==mt;i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Jr(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),c(["head","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),i.prototype.compact=function(){return this.filter(Ys)},i.prototype.find=function(t){return this.filter(t).head()},i.prototype.findLast=function(t){return this.reverse().find(t)},i.prototype.invokeMap=Qo(function(t,e){return"function"==typeof t?new i(this):this.map(function(n){return Fn(n,t,e)})}),i.prototype.reject=function(t){return t=Jr(t,3),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=Ba(t);var n=this;return n.__filtered__&&(t>0||0>e)?new i(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Q&&(e=Ba(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},i.prototype.toArray=function(){return this.take(St)},Tn(i.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=e[a?"take"+("last"==n?"Right":""):n],u=a||/^find/.test(n);s&&(e.prototype[n]=function(){var n=this.__wrapped__,c=a?[1]:arguments,l=n instanceof i,f=c[0],h=l||tl(n),p=function(t){var n=s.apply(e,v([t],c));return a&&d?n[0]:n};h&&o&&"function"==typeof f&&1!=f.length&&(l=h=!1);var d=this.__chain__,g=!!this.__actions__.length,m=u&&!d,y=l&&!g;if(!u&&h){n=y?n:new i(this);var b=t.apply(n,c);return b.__actions__.push({func:po,args:[p],thisArg:Q}),new r(b,d)}return m&&y?t.apply(this,c):(b=this.thru(p),m?a?b.value()[0]:b.value():b)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var n=Eu[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Tn(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=uc[i]||(uc[i]=[]);o.push({name:n,func:r})}}),uc[Ur(Q,Z).name]=[{name:"wrapper",func:Q}],i.prototype.clone=P,i.prototype.reverse=Ht,i.prototype.value=Ae,e.prototype.at=Nc,e.prototype.chain=go,e.prototype.commit=vo,e.prototype.flatMap=mo,e.prototype.next=yo,e.prototype.plant=wo,e.prototype.reverse=_o,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Eo,Nu&&(e.prototype[Nu]=bo),e}var Q,$="4.0.0",J=1,Z=2,tt=4,et=8,nt=16,rt=32,it=64,ot=128,at=256,st=512,ut=1,ct=2,lt=30,ft="...",ht=150,pt=16,dt=200,gt=1,vt=2,mt=3,yt="Expected a function",bt="__lodash_hash_undefined__",wt=1/0,_t=9007199254740991,Et=1.7976931348623157e308,jt=NaN,St=4294967295,At=St-1,xt=St>>>1,Tt="__lodash_placeholder__",Ct="[object Arguments]",kt="[object Array]",Rt="[object Boolean]",Ot="[object Date]",It="[object Error]",Pt="[object Function]",Lt="[object GeneratorFunction]",qt="[object Map]",Dt="[object Number]",Ft="[object Object]",Nt="[object RegExp]",Mt="[object Set]",Ut="[object String]",Bt="[object Symbol]",Ht="[object WeakMap]",Wt="[object ArrayBuffer]",zt="[object Float32Array]",Xt="[object Float64Array]",Vt="[object Int8Array]",Gt="[object Int16Array]",Kt="[object Int32Array]",Yt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",$t="[object Uint16Array]",Jt="[object Uint32Array]",Zt=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39|#96);/g,re=/[&<>"'`]/g,ie=RegExp(ne.source),oe=RegExp(re.source),ae=/<%-([\s\S]+?)%>/g,se=/<%([\s\S]+?)%>/g,ue=/<%=([\s\S]+?)%>/g,ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,he=/[\\^$.*+?()[\]{}|]/g,pe=RegExp(he.source),de=/^\s+|\s+$/g,ge=/^\s+/,ve=/\s+$/,me=/\\(\\)?/g,ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,be=/\w*$/,we=/^0x/i,_e=/^[-+]0x[0-9a-f]+$/i,Ee=/^0b[01]+$/i,je=/^\[object .+?Constructor\]$/,Se=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Te=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Re="\\u0300-\\u036f\\ufe20-\\ufe23",Oe="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="\\xac\\xb1\\xd7\\xf7",Le="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qe="\\u2018\\u2019\\u201c\\u201d",De=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ne="\\ufe0e\\ufe0f",Me=Pe+Le+qe+De,Ue="["+ke+"]",Be="["+Me+"]",He="["+Re+"]",We="\\d+",ze="["+Oe+"]",Xe="["+Ie+"]",Ve="[^"+ke+Me+We+Oe+Ie+Fe+"]",Ge="(?:\\ud83c[\\udffb-\\udfff])",Ke="[^"+ke+"]",Ye="(?:\\ud83c[\\udde6-\\uddff]){2}",Qe="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+Fe+"]",Je="\\u200d",Ze="(?:"+Xe+"|"+Ve+")",tn="(?:"+$e+"|"+Ve+")",en=Ge+"?",nn="["+Ne+"]?",rn="(?:"+Je+"(?:"+[Ke,Ye,Qe].join("|")+")"+nn+en+")*",on=nn+en+rn,an="(?:"+[ze,Ye,Qe].join("|")+")"+on,sn="(?:"+[Ke+He+"?",He,Ye,Qe,Ue].join("|")+")",un=RegExp(He,"g"),cn=RegExp(sn+on,"g"),ln=RegExp("["+Je+ke+Re+Ne+"]"),fn=/[a-zA-Z0-9]+/g,hn=RegExp([$e+"?"+Xe+"+(?="+[Be,$e,"$"].join("|")+")",tn+"+(?="+[Be,$e+Ze,"$"].join("|")+")",$e+"?"+Ze+"+",We+"(?:"+Ze+"+)?",an].join("|"),"g"),pn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dn=["Array","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gn=-1,vn={};vn[zt]=vn[Xt]=vn[Vt]=vn[Gt]=vn[Kt]=vn[Yt]=vn[Qt]=vn[$t]=vn[Jt]=!0,vn[Ct]=vn[kt]=vn[Wt]=vn[Rt]=vn[Ot]=vn[It]=vn[Pt]=vn[qt]=vn[Dt]=vn[Ft]=vn[Nt]=vn[Mt]=vn[Ut]=vn[Ht]=!1;var mn={};mn[Ct]=mn[kt]=mn[Wt]=mn[Rt]=mn[Ot]=mn[zt]=mn[Xt]=mn[Vt]=mn[Gt]=mn[Kt]=mn[qt]=mn[Dt]=mn[Ft]=mn[Nt]=mn[Mt]=mn[Ut]=mn[Bt]=mn[Yt]=mn[Qt]=mn[$t]=mn[Jt]=!0,mn[It]=mn[Pt]=mn[Ht]=!1;var yn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},wn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},_n={"function":!0,object:!0},En={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jn=parseFloat,Sn=parseInt,An=_n[typeof e]&&e&&!e.nodeType?e:null,xn=_n[typeof t]&&t&&!t.nodeType?t:null,Tn=P(An&&xn&&"object"==typeof i&&i),Cn=P(_n[typeof self]&&self),kn=P(_n[typeof window]&&window),Rn=(xn&&xn.exports===An?An:null,P(_n[typeof this]&&this)),On=Tn||kn!==(Rn&&Rn.window)&&kn||Cn||Rn||Function("return this")(),In=Y();(kn||Cn||{})._=In,r=function(){return In}.call(e,n,e,t),!(r!==Q&&(t.exports=r))}).call(this)}).call(e,n(171)(t),function(){return this}())},function(t,e,n){var r=n(215),i=n(232),o=i(function(t,e){r(t,e)});t.exports=o},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t,e){return e=i(e),o(t,function(t){return!e(t)})}var i=n(155),o=n(218);t.exports=r},function(t,e,n){var r=n(150),i=n(217),o=n(85),a=o(function(t,e){return null==t?{}:i(t,r(e))});t.exports=a},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(156),o=n(219),a=n(80);t.exports=r},function(t,e,n){function r(t,e,n){return t&&t.length?(e=n||void 0===e?1:o(e),i(t,0,0>e?0:e)):[]}var i=n(157),o=n(168);t.exports=r},function(t,e,n){function r(t){if(o(t)){var e=i(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(21),o=n(6),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(221),o=n(40);t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(78),o=n(84);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(null==t)return"";if(o(t))return i?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var i=n(74),o=n(267),a=1/0,s=i?i.prototype:void 0,u=i?s.toString:void 0;t.exports=r},function(t,e,n){var r=n(150),i=n(222),o=n(85),a=o(function(t){return i(r(t,!1,!0))});t.exports=a},function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){return t===Object(t)}function a(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&s(e,n,t[n]);return e.join("&")}function s(t,e,n){return Array.isArray(n)?n.forEach(function(n){s(t,e,n)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function u(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;a>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function c(t){var e,n,r,i,o=t.split(/\r?\n/),a={};o.pop();for(var s=0,u=o.length;u>s;++s)n=o[s],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=w(n.slice(e+1)),a[r]=i;return a}function l(t){return/[\/+]json\b/.test(t)}function f(t){return t.split(/ *; */).shift()}function h(t){return b(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function p(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var n=this;y.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new p(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(i,e)})}function g(t,e){return"function"==typeof e?new d("GET",t).end(e):1==arguments.length?new d("GET",t):new d(t,e)}function v(t,e){var n=g("DELETE",t);return e&&n.end(e),n}var m,y=n(282),b=n(283);m="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,g.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var w="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=a,g.parseString=u,g.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},p.prototype.get=function(t){return this.header[t.toLowerCase()]},p.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=f(e);var n=h(e);for(var r in n)this[r]=n[r]},p.prototype.parseBody=function(t){var e=g.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},p.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},p.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},g.Response=p,y(d.prototype),d.prototype.use=function(t){return t(this),this},d.prototype.timeout=function(t){return this._timeout=t,this},d.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},d.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},d.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},d.prototype.type=function(t){return this.set("Content-Type",g.types[t]||t),this},d.prototype.parse=function(t){return this._parser=t,this},d.prototype.accept=function(t){return this.set("Accept",g.types[t]||t),this},d.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},d.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},d.prototype.field=function(t,e){return this._formData||(this._formData=new m.FormData),this._formData.append(t,e),this},d.prototype.attach=function(t,e,n){return this._formData||(this._formData=new m.FormData),this._formData.append(t,e,n||e.name),this},d.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||i(t)?this:(n||this.type("json"),this)},d.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,n=this.xhr=g.getXHR(),o=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=t||r,
n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(c){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),o&&(o=g.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!i(s)){var f=this.getHeader("Content-Type"),h=this._parser||g.serialize[f?f.split(";")[0]:""];!h&&l(f)&&(h=g.serialize["application/json"]),h&&(s=h(s))}for(var p in this.header)null!=this.header[p]&&n.setRequestHeader(p,this.header[p]);return this.emit("request",this),n.send("undefined"!=typeof s?s:null),this},d.prototype.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},g.Request=d,g.get=function(t,e,n){var r=g("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},g.head=function(t,e,n){var r=g("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},g.del=v,g.delete=v,g.patch=function(t,e,n){var r=g("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},g.post=function(t,e,n){var r=g("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},g.put=function(t,e,n){var r=g("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},t.exports=g},function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},function(t,e,n){!function(t){function e(n,r){if(!(this instanceof e))return new e(n,r);var o=this;i(o),o.q=o.c="",o.bufferCheckPosition=t.MAX_BUFFER_LENGTH,o.opt=r||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!n,o.noscript=!(!n&&!o.opt.noscript),o.state=H.BEGIN,o.ENTITIES=Object.create(t.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(M)),o.trackPosition=o.opt.position!==!1,o.trackPosition&&(o.position=o.line=o.column=0),f(o,"onready")}function r(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,i=0,o=A.length;o>i;i++){var a=e[A[i]].length;if(a>n)switch(A[i]){case"textNode":p(e);break;case"cdata":h(e,"oncdata",e.cdata),e.cdata="";break;case"script":h(e,"onscript",e.script),e.script="";break;default:g(e,"Max buffer length exceeded: "+A[i])}r=Math.max(r,a)}e.bufferCheckPosition=t.MAX_BUFFER_LENGTH-r+e.position}function i(t){for(var e=0,n=A.length;n>e;e++)t[A[e]]=""}function o(t,e){return new a(t,e)}function a(t,n){if(!(this instanceof a))return new a(t,n);x.apply(this),this._parser=new e(t,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},C.forEach(function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){return e?void r.on(t,e):(r.removeAllListeners(t),r._parser["on"+t]=e)},enumerable:!0,configurable:!1})})}function s(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function u(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function c(t,e){return u(t)?!!e.match(t):t[e]}function l(t,e){return!c(t,e)}function f(t,e,n){t[e]&&t[e](n)}function h(t,e,n){t.textNode&&p(t),f(t,e,n)}function p(t){t.textNode=d(t.opt,t.textNode),t.textNode&&f(t,"ontext",t.textNode),t.textNode=""}function d(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function g(t,e){return p(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,f(t,"onerror",e),t}function v(t){return t.closedRoot||m(t,"Unclosed root tag"),t.state!==H.TEXT&&g(t,"Unexpected end"),p(t),t.c="",t.closed=!0,f(t,"onend"),e.call(t,t.strict,t.opt),t}function m(t,n){if("object"!=typeof t||!(t instanceof e))throw new Error("bad call to strictFail");t.strict&&g(t,n)}function y(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0}function b(t){var e=t.indexOf(":"),n=0>e?["",t]:t.split(":"),r=n[0],i=n[1];return"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function w(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";if(t.opt.xmlns){var e=b(t.attribName),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==F)m(t,"xml: prefix must be bound to "+F+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==N)m(t,"xmlns: prefix must be bound to "+N+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,h(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function _(t,e){if(t.opt.xmlns){var n=t.tag,r=b(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||r.prefix,n.prefix&&!n.uri&&m(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName));var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){h(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,a=t.attribList.length;a>o;o++){var s=t.attribList[o],u=s[0],c=s[1],l=b(u),f=l.prefix,p=l.local,d=""==f?"":n.ns[f]||"",g={name:u,value:c,prefix:f,local:p,uri:d};f&&"xmlns"!=f&&!d&&(m(t,"Unbound namespace prefix: "+JSON.stringify(f)),g.uri=f),t.tag.attributes[u]=g,h(t,"onattribute",g)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),h(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=H.TEXT:t.state=H.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function E(t){if(!t.tagName)return m(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=H.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=H.SCRIPT);h(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){var i=t.tags[e];if(i.name===r)break;m(t,"Unexpected close tag")}if(0>e)return m(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=H.TEXT);t.tagName=n;for(var o=t.tags.length;o-- >e;){var a=t.tag=t.tags.pop();t.tagName=t.tag.name,h(t,"onclosetag",t.tagName);var s={};for(var u in a.ns)s[u]=a.ns[u];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&a.ns!==c.ns&&Object.keys(a.ns).forEach(function(e){var n=a.ns[e];h(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=H.TEXT}function j(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),e=parseInt(n,16),i=e.toString(16)):(n=n.slice(1),e=parseInt(n,10),i=e.toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(m(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCharCode(e))}function S(t){var e=this;if(this.error)throw this.error;if(e.closed)return g(e,"Cannot write after close. Assign an onready handler.");if(null===t)return v(e);for(var n=0,i="";e.c=i=t.charAt(n++);)switch(e.trackPosition&&(e.position++,"\n"===i?(e.line++,e.column=0):e.column++),e.state){case H.BEGIN:"<"===i?(e.state=H.OPEN_WAKA,e.startTagPosition=e.position):l(k,i)&&(m(e,"Non-whitespace before first tag."),e.textNode=i,e.state=H.TEXT);continue;case H.TEXT:if(e.sawRoot&&!e.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)i=t.charAt(n++),i&&e.trackPosition&&(e.position++,"\n"===i?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(o,n-1)}"<"===i?(e.state=H.OPEN_WAKA,e.startTagPosition=e.position):(!l(k,i)||e.sawRoot&&!e.closedRoot||m(e,"Text data outside of root node."),"&"===i?e.state=H.TEXT_ENTITY:e.textNode+=i);continue;case H.SCRIPT:"<"===i?e.state=H.SCRIPT_ENDING:e.script+=i;continue;case H.SCRIPT_ENDING:"/"===i?e.state=H.CLOSE_TAG:(e.script+="<"+i,e.state=H.SCRIPT);continue;case H.OPEN_WAKA:if("!"===i)e.state=H.SGML_DECL,e.sgmlDecl="";else if(c(k,i));else if(c(U,i))e.state=H.OPEN_TAG,e.tagName=i;else if("/"===i)e.state=H.CLOSE_TAG,e.tagName="";else if("?"===i)e.state=H.PROC_INST,e.procInstName=e.procInstBody="";else{if(m(e,"Unencoded <"),e.startTagPosition+1<e.position){var a=e.position-e.startTagPosition;i=new Array(a).join(" ")+i}e.textNode+="<"+i,e.state=H.TEXT}continue;case H.SGML_DECL:(e.sgmlDecl+i).toUpperCase()===q?(h(e,"onopencdata"),e.state=H.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+i==="--"?(e.state=H.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+i).toUpperCase()===D?(e.state=H.DOCTYPE,(e.doctype||e.sawRoot)&&m(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===i?(h(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=H.TEXT):c(I,i)?(e.state=H.SGML_DECL_QUOTED,e.sgmlDecl+=i):e.sgmlDecl+=i;continue;case H.SGML_DECL_QUOTED:i===e.q&&(e.state=H.SGML_DECL,e.q=""),e.sgmlDecl+=i;continue;case H.DOCTYPE:">"===i?(e.state=H.TEXT,h(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=i,"["===i?e.state=H.DOCTYPE_DTD:c(I,i)&&(e.state=H.DOCTYPE_QUOTED,e.q=i));continue;case H.DOCTYPE_QUOTED:e.doctype+=i,i===e.q&&(e.q="",e.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:e.doctype+=i,"]"===i?e.state=H.DOCTYPE:c(I,i)&&(e.state=H.DOCTYPE_DTD_QUOTED,e.q=i);continue;case H.DOCTYPE_DTD_QUOTED:e.doctype+=i,i===e.q&&(e.state=H.DOCTYPE_DTD,e.q="");continue;case H.COMMENT:"-"===i?e.state=H.COMMENT_ENDING:e.comment+=i;continue;case H.COMMENT_ENDING:"-"===i?(e.state=H.COMMENT_ENDED,e.comment=d(e.opt,e.comment),e.comment&&h(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+i,e.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==i?(m(e,"Malformed comment"),e.comment+="--"+i,e.state=H.COMMENT):e.state=H.TEXT;continue;case H.CDATA:"]"===i?e.state=H.CDATA_ENDING:e.cdata+=i;continue;case H.CDATA_ENDING:"]"===i?e.state=H.CDATA_ENDING_2:(e.cdata+="]"+i,e.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===i?(e.cdata&&h(e,"oncdata",e.cdata),h(e,"onclosecdata"),e.cdata="",e.state=H.TEXT):"]"===i?e.cdata+="]":(e.cdata+="]]"+i,e.state=H.CDATA);continue;case H.PROC_INST:"?"===i?e.state=H.PROC_INST_ENDING:c(k,i)?e.state=H.PROC_INST_BODY:e.procInstName+=i;continue;case H.PROC_INST_BODY:if(!e.procInstBody&&c(k,i))continue;"?"===i?e.state=H.PROC_INST_ENDING:e.procInstBody+=i;continue;case H.PROC_INST_ENDING:">"===i?(h(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=H.TEXT):(e.procInstBody+="?"+i,e.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:c(B,i)?e.tagName+=i:(y(e),">"===i?_(e):"/"===i?e.state=H.OPEN_TAG_SLASH:(l(k,i)&&m(e,"Invalid character in tag name"),e.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===i?(_(e,!0),E(e)):(m(e,"Forward-slash in opening tag not followed by >"),e.state=H.ATTRIB);continue;case H.ATTRIB:if(c(k,i))continue;">"===i?_(e):"/"===i?e.state=H.OPEN_TAG_SLASH:c(U,i)?(e.attribName=i,e.attribValue="",e.state=H.ATTRIB_NAME):m(e,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===i?e.state=H.ATTRIB_VALUE:">"===i?(m(e,"Attribute without value"),e.attribValue=e.attribName,w(e),_(e)):c(k,i)?e.state=H.ATTRIB_NAME_SAW_WHITE:c(B,i)?e.attribName+=i:m(e,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===i)e.state=H.ATTRIB_VALUE;else{if(c(k,i))continue;m(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",h(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===i?_(e):c(U,i)?(e.attribName=i,e.state=H.ATTRIB_NAME):(m(e,"Invalid attribute name"),e.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(c(k,i))continue;c(I,i)?(e.q=i,e.state=H.ATTRIB_VALUE_QUOTED):(m(e,"Unquoted attribute value"),e.state=H.ATTRIB_VALUE_UNQUOTED,e.attribValue=i);continue;case H.ATTRIB_VALUE_QUOTED:if(i!==e.q){"&"===i?e.state=H.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=i;continue}w(e),e.q="",e.state=H.ATTRIB;continue;case H.ATTRIB_VALUE_UNQUOTED:if(l(L,i)){"&"===i?e.state=H.ATTRIB_VALUE_ENTITY_U:e.attribValue+=i;continue}w(e),">"===i?_(e):e.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(e.tagName)">"===i?E(e):c(B,i)?e.tagName+=i:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=H.SCRIPT):(l(k,i)&&m(e,"Invalid tagname in closing tag"),e.state=H.CLOSE_TAG_SAW_WHITE);else{if(c(k,i))continue;l(U,i)?e.script?(e.script+="</"+i,e.state=H.SCRIPT):m(e,"Invalid tagname in closing tag."):e.tagName=i}continue;case H.CLOSE_TAG_SAW_WHITE:if(c(k,i))continue;">"===i?E(e):m(e,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:switch(e.state){case H.TEXT_ENTITY:var s=H.TEXT,u="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:var s=H.ATTRIB_VALUE_QUOTED,u="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:var s=H.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===i?(e[u]+=j(e),e.entity="",e.state=s):c(P,i)?e.entity+=i:(m(e,"Invalid character entity"),e[u]+="&"+e.entity+i,e.entity="",e.state=s);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&r(e),e}t.parser=function(t,n){return new e(t,n)},t.SAXParser=e,t.SAXStream=a,t.createStream=o,t.MAX_BUFFER_LENGTH=65536;var A=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),e.prototype={end:function(){v(this)},write:S,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{var x=n(20).Stream}catch(T){var x=function(){}}var C=t.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});a.prototype=Object.create(x.prototype,{constructor:{value:a}}),a.prototype.write=function(t){return this._parser.write(t.toString()),this.emit("data",t),!0},a.prototype.end=function(t){return t&&t.length&&this._parser.write(t.toString()),this._parser.end(),!0},a.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===C.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),x.prototype.on.call(n,t,e)};var k="\r\n	 ",R="0124356789",O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I="'\"",P=R+O+"#",L=k+">",q="[CDATA[",D="DOCTYPE",F="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",M={xml:F,xmlns:N};k=s(k),R=s(R),O=s(O);var U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;I=s(I),P=s(P),L=s(L);var H=0;t.STATE={BEGIN:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r});for(var H in t.STATE)t.STATE[t.STATE[H]]=H;H=t.STATE}(e)},function(t,e,n){(function(t){(function(){var r,i,o,a={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u=function(t,e){return function(){return t.apply(e,arguments)}};o=n(284),r=n(25),i=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,async:!1,strict:!0},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,childkey:"$$",charsAsChildren:!1,async:!1,strict:!0}},e.ValidationError=function(t){function e(t){this.message=t}return s(e,t),e}(Error),e.Parser=function(n){function r(t){this.parseString=u(this.parseString,this),this.reset=u(this.reset,this);var n,r,i;if(!(this instanceof e.Parser))return new e.Parser(t);this.options={},i=e.defaults[.2];for(n in i)a.call(i,n)&&(r=i[n],this.options[n]=r);for(n in t)a.call(t,n)&&(r=t[n],this.options[n]=r);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.reset()}return s(r,n),r.prototype.reset=function(){var t,e,n,r,s,u=this;return this.removeAllListeners(),this.saxParser=o.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),n=!1,this.saxParser.onerror=function(t){return n?void 0:(n=!0,u.emit("error",t))},this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,s=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){var r,i,o;if(i={},i[e]="",!u.options.ignoreAttrs){o=n.attributes;for(r in o)a.call(o,r)&&(t in i||u.options.mergeAttrs||(i[t]={}),u.options.mergeAttrs?i[r]=n.attributes[r]:i[t][r]=n.attributes[r])}return i["#name"]=u.options.normalizeTags?n.name.toLowerCase():n.name,u.options.xmlns&&(i[u.options.xmlnskey]={uri:n.uri,local:n.local}),s.push(i)},this.saxParser.onclosetag=function(){var t,r,o,a,c,l,f,h;if(c=s.pop(),a=c["#name"],delete c["#name"],t=c.cdata,delete c.cdata,f=s[s.length-1],c[e].match(/^\s*$/)&&!t?(r=c[e],delete c[e]):(u.options.trim&&(c[e]=c[e].trim()),u.options.normalize&&(c[e]=c[e].replace(/\s{2,}/g," ").trim()),1===Object.keys(c).length&&e in c&&!u.EXPLICIT_CHARKEY&&(c=c[e])),i(c)&&(c=void 0!==u.options.emptyTag?u.options.emptyTag:r),null!=u.options.validator){h="/"+function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)o=s[t],n.push(o["#name"]);return n}().concat(a).join("/");try{c=u.options.validator(h,f&&f[a],c)}catch(p){n=p,u.emit("error",n)}}return u.options.explicitChildren&&!u.options.mergeAttrs&&"object"==typeof c&&(o={},u.options.attrkey in c&&(o[u.options.attrkey]=c[u.options.attrkey],delete c[u.options.attrkey]),!u.options.charsAsChildren&&u.options.charkey in c&&(o[u.options.charkey]=c[u.options.charkey],delete c[u.options.charkey]),Object.getOwnPropertyNames(c).length>0&&(o[u.options.childkey]=c),c=o),s.length>0?u.options.explicitArray?(f[a]instanceof Array||(f[a]=[]),f[a].push(c)):a in f?f[a]instanceof Array?f[a].push(c):(l=f[a],f[a]=[l],f[a].push(c)):f[a]=c:(u.options.explicitRoot&&(l=c,c={},c[a]=l),u.resultObject=c,u.emit("end",u.resultObject))},r=function(t){var n;return n=s[s.length-1],n?(n[e]+=t,n):void 0},this.saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;return e=r(t),e?e.cdata=!0:void 0}},r.prototype.parseString=function(e,n){return null!=n&&"function"==typeof n&&(this.on("end",function(e){return this.reset(),this.options.async?t.nextTick(function(){return n(null,e)}):n(null,e)}),this.on("error",function(e){return this.reset(),this.options.async?t.nextTick(function(){return n(e)}):n(e)})),""===e.toString().trim()?(this.emit("end",null),!0):this.saxParser.write(e.toString())},r}(r.EventEmitter),e.parseString=function(t,n,r){var i,o,a;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),a=new e.Parser(o),a.parseString(t,i)}}).call(this)}).call(e,n(5))},function(t,e,n){(function(){var e,r;r=n(287),e=function(){function t(t,e,n){var i,o,a;if(this.children=[],this.rootObject=null,this.is(t,"Object")&&(a=[t,e],e=a[0],n=a[1],t=null),null!=t&&(t=""+t||"",null==e&&(e={version:"1.0"})),null!=e&&null==e.version)throw new Error("Version number is required");if(null!=e){if(e.version=""+e.version||"",!e.version.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e.version);if(i={version:e.version},null!=e.encoding){if(e.encoding=""+e.encoding||"",!e.encoding.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/))throw new Error("Invalid encoding: "+e.encoding);i.encoding=e.encoding}null!=e.standalone&&(i.standalone=e.standalone?"yes":"no"),o=new r(this,"?xml",i),this.children.push(o)}null!=n&&(i={},null!=t&&(i.name=t),null!=n.ext&&(n.ext=""+n.ext||"",i.ext=n.ext),o=new r(this,"!DOCTYPE",i),this.children.push(o)),null!=t&&this.begin(t)}return t.prototype.begin=function(e,n,i){var o,a;if(null==e)throw new Error("Root element needs a name");return this.rootObject&&(this.children=[],this.rootObject=null),null!=n?(o=new t(e,n,i),o.root()):(e=""+e||"",a=new r(this,e,{}),a.isRoot=!0,a.documentObject=this,this.children.push(a),this.rootObject=a,a)},t.prototype.root=function(){return this.rootObject},t.prototype.end=function(t){return toString(t)},t.prototype.toString=function(t){var e,n,r,i,o;for(n="",o=this.children,r=0,i=o.length;i>r;r++)e=o[r],n+=e.toString(t);return n},t.prototype.is=function(t,e){var n;return n=Object.prototype.toString.call(t).slice(8,-1),null!=t&&n===e},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n={}.hasOwnProperty;e=function(){function t(t,e,n,r){this.isRoot=!1,this.documentObject=null,this.parent=t,this.name=e,this.attributes=n,this.value=r,this.children=[]}return t.prototype.element=function(e,r,i){var o,a,s,u,c;if(null==e)throw new Error("Missing element name");e=""+e||"",this.assertLegalChar(e),null==r&&(r={}),this.is(r,"String")&&this.is(i,"Object")?(u=[i,r],r=u[0],i=u[1]):this.is(r,"String")&&(c=[{},r],r=c[0],i=c[1]);for(a in r)n.call(r,a)&&(s=r[a],s=""+s||"",r[a]=this.escape(s));return o=new t(this,e,r),null!=i&&(i=""+i||"",i=this.escape(i),this.assertLegalChar(i),o.raw(i)),this.children.push(o),o},t.prototype.insertBefore=function(e,r,i){var o,a,s,u,c,l;if(this.isRoot)throw new Error("Cannot insert elements at root level");if(null==e)throw new Error("Missing element name");e=""+e||"",this.assertLegalChar(e),null==r&&(r={}),this.is(r,"String")&&this.is(i,"Object")?(c=[i,r],r=c[0],i=c[1]):this.is(r,"String")&&(l=[{},r],r=l[0],i=l[1]);for(s in r)n.call(r,s)&&(u=r[s],u=""+u||"",r[s]=this.escape(u));return o=new t(this.parent,e,r),null!=i&&(i=""+i||"",i=this.escape(i),this.assertLegalChar(i),o.raw(i)),a=this.parent.children.indexOf(this),this.parent.children.splice(a,0,o),o},t.prototype.insertAfter=function(e,r,i){var o,a,s,u,c,l;if(this.isRoot)throw new Error("Cannot insert elements at root level");if(null==e)throw new Error("Missing element name");e=""+e||"",this.assertLegalChar(e),null==r&&(r={}),this.is(r,"String")&&this.is(i,"Object")?(c=[i,r],r=c[0],i=c[1]):this.is(r,"String")&&(l=[{},r],r=l[0],i=l[1]);for(s in r)n.call(r,s)&&(u=r[s],u=""+u||"",r[s]=this.escape(u));return o=new t(this.parent,e,r),null!=i&&(i=""+i||"",i=this.escape(i),this.assertLegalChar(i),o.raw(i)),a=this.parent.children.indexOf(this),this.parent.children.splice(a+1,0,o),o},t.prototype.remove=function(){var t,e;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat(e=[])),e,this.parent},t.prototype.text=function(e){var n;if(null==e)throw new Error("Missing element text");return e=""+e||"",e=this.escape(e),this.assertLegalChar(e),n=new t(this,"",{},e),this.children.push(n),this},t.prototype.cdata=function(e){var n;if(null==e)throw new Error("Missing CDATA text");if(e=""+e||"",this.assertLegalChar(e),e.match(/]]>/))throw new Error("Invalid CDATA text: "+e);return n=new t(this,"",{},"<![CDATA["+e+"]]>"),this.children.push(n),this},t.prototype.comment=function(e){var n;if(null==e)throw new Error("Missing comment text");if(e=""+e||"",e=this.escape(e),this.assertLegalChar(e),e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return n=new t(this,"",{},"<!-- "+e+" -->"),this.children.push(n),this},t.prototype.raw=function(e){var n;if(null==e)throw new Error("Missing raw text");return e=""+e||"",n=new t(this,"",{},e),this.children.push(n),this},t.prototype.up=function(){if(this.isRoot)throw new Error("This node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;if(this.isRoot)return this;for(t=this.parent;!t.isRoot;)t=t.parent;return t},t.prototype.document=function(){return this.root().documentObject},t.prototype.end=function(t){return this.document().toString(t)},t.prototype.prev=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(t=this.parent.children.indexOf(this),1>t)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(t=this.parent.children.indexOf(this),-1===t||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.clone=function(e){var n;return n=new t(this.parent,this.name,this.attributes,this.value),e&&this.children.forEach(function(t){var r;return r=t.clone(e),r.parent=n,n.children.push(r)}),n},t.prototype.importXMLBuilder=function(t){var e;return e=t.root().clone(!0),e.parent=this,this.children.push(e),e.isRoot=!1,this},t.prototype.attribute=function(t,e){var n;if(null==t)throw new Error("Missing attribute name");if(null==e)throw new Error("Missing attribute value");return t=""+t||"",e=""+e||"",null==(n=this.attributes)&&(this.attributes={}),this.attributes[t]=this.escape(e),this},t.prototype.removeAttribute=function(t){if(null==t)throw new Error("Missing attribute name");return t=""+t||"",delete this.attributes[t],this},t.prototype.toString=function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p;s=null!=t&&t.pretty||!1,o=null!=t&&t.indent||"  ",a=null!=t&&t.newline||"\n",e||(e=0),c=new Array(e+1).join(o),u="",s&&(u+=c),u+=null==this.value?"<"+this.name:""+this.value,h=this.attributes;for(n in h)r=h[n],u+="!DOCTYPE"===this.name?" "+r:" "+n+'="'+r+'"';if(0===this.children.length)null==this.value&&(u+="?xml"===this.name?"?>":"!DOCTYPE"===this.name?">":"/>"),s&&(u+=a);else if(s&&1===this.children.length&&this.children[0].value)u+=">",u+=this.children[0].value,u+="</"+this.name+">",u+=a;else{for(u+=">",s&&(u+=a),p=this.children,l=0,f=p.length;f>l;l++)i=p[l],u+=i.toString(t,e+1);s&&(u+=c),u+="</"+this.name+">",s&&(u+=a)}return u},t.prototype.escape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},t.prototype.assertLegalChar=function(t){var e,n;if(e=/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t)},t.prototype.is=function(t,e){var n;return n=Object.prototype.toString.call(t).slice(8,-1),null!=t&&n===e},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.att=function(t,e){return this.attribute(t,e)},
t.prototype.com=function(t){return this.comment(t)},t.prototype.doc=function(){return this.document()},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.a=function(t,e){return this.attribute(t,e)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.u=function(){return this.up()},t}(),t.exports=e}).call(this)},function(t,e,n){(function(){var e;e=n(286),t.exports.create=function(t,n,r){return null!=t?new e(t,n,r).root():new e}}).call(this)},function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===f?62:e===s||e===h?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function n(t){function n(t){c[f++]=t}var r,i,a,s,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===u&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}(e)},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);this._opad=u,this._alg=t;var a="sha512"===t?128:64;n=this._key=e.isBuffer(n)?n:new e(n),n.length>a?n=i(t).update(n).digest():n.length<a&&(n=e.concat([n,o],a));for(var s=this._ipad=new e(a),u=this._opad=new e(a),c=0;a>c;c++)s[c]=54^n[c],u[c]=92^n[c];this._hash=i(t).update(s)}var i=n(172),o=new e(128);o.fill(0),t.exports=r,r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(3).Buffer)},function(t,e,n){(function(e){function n(t,n){if(t.length%o!==0){var r=t.length+(o-t.length%o);t=e.concat([t,a],r)}for(var i=[],s=n?t.readInt32BE:t.readInt32LE,u=0;u<t.length;u+=o)i.push(s.call(t,u));return i}function r(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)o.call(i,t[a],4*a,!0);return i}function i(t,i,o,a){e.isBuffer(t)||(t=new e(t));var u=i(n(t,a),t.length*s);return r(u,o,a)}var o=4,a=new e(o);a.fill(0);var s=8;t.exports={hash:i}}).call(e,n(3).Buffer)},function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,f=0;f<t.length;f+=16){var h=n,p=r,d=i,g=l;n=o(n,r,i,l,t[f+0],7,-680876936),l=o(l,n,r,i,t[f+1],12,-389564586),i=o(i,l,n,r,t[f+2],17,606105819),r=o(r,i,l,n,t[f+3],22,-1044525330),n=o(n,r,i,l,t[f+4],7,-176418897),l=o(l,n,r,i,t[f+5],12,1200080426),i=o(i,l,n,r,t[f+6],17,-1473231341),r=o(r,i,l,n,t[f+7],22,-45705983),n=o(n,r,i,l,t[f+8],7,1770035416),l=o(l,n,r,i,t[f+9],12,-1958414417),i=o(i,l,n,r,t[f+10],17,-42063),r=o(r,i,l,n,t[f+11],22,-1990404162),n=o(n,r,i,l,t[f+12],7,1804603682),l=o(l,n,r,i,t[f+13],12,-40341101),i=o(i,l,n,r,t[f+14],17,-1502002290),r=o(r,i,l,n,t[f+15],22,1236535329),n=a(n,r,i,l,t[f+1],5,-165796510),l=a(l,n,r,i,t[f+6],9,-1069501632),i=a(i,l,n,r,t[f+11],14,643717713),r=a(r,i,l,n,t[f+0],20,-373897302),n=a(n,r,i,l,t[f+5],5,-701558691),l=a(l,n,r,i,t[f+10],9,38016083),i=a(i,l,n,r,t[f+15],14,-660478335),r=a(r,i,l,n,t[f+4],20,-405537848),n=a(n,r,i,l,t[f+9],5,568446438),l=a(l,n,r,i,t[f+14],9,-1019803690),i=a(i,l,n,r,t[f+3],14,-187363961),r=a(r,i,l,n,t[f+8],20,1163531501),n=a(n,r,i,l,t[f+13],5,-1444681467),l=a(l,n,r,i,t[f+2],9,-51403784),i=a(i,l,n,r,t[f+7],14,1735328473),r=a(r,i,l,n,t[f+12],20,-1926607734),n=s(n,r,i,l,t[f+5],4,-378558),l=s(l,n,r,i,t[f+8],11,-2022574463),i=s(i,l,n,r,t[f+11],16,1839030562),r=s(r,i,l,n,t[f+14],23,-35309556),n=s(n,r,i,l,t[f+1],4,-1530992060),l=s(l,n,r,i,t[f+4],11,1272893353),i=s(i,l,n,r,t[f+7],16,-155497632),r=s(r,i,l,n,t[f+10],23,-1094730640),n=s(n,r,i,l,t[f+13],4,681279174),l=s(l,n,r,i,t[f+0],11,-358537222),i=s(i,l,n,r,t[f+3],16,-722521979),r=s(r,i,l,n,t[f+6],23,76029189),n=s(n,r,i,l,t[f+9],4,-640364487),l=s(l,n,r,i,t[f+12],11,-421815835),i=s(i,l,n,r,t[f+15],16,530742520),r=s(r,i,l,n,t[f+2],23,-995338651),n=u(n,r,i,l,t[f+0],6,-198630844),l=u(l,n,r,i,t[f+7],10,1126891415),i=u(i,l,n,r,t[f+14],15,-1416354905),r=u(r,i,l,n,t[f+5],21,-57434055),n=u(n,r,i,l,t[f+12],6,1700485571),l=u(l,n,r,i,t[f+3],10,-1894986606),i=u(i,l,n,r,t[f+10],15,-1051523),r=u(r,i,l,n,t[f+1],21,-2054922799),n=u(n,r,i,l,t[f+8],6,1873313359),l=u(l,n,r,i,t[f+15],10,-30611744),i=u(i,l,n,r,t[f+6],15,-1560198380),r=u(r,i,l,n,t[f+13],21,1309151649),n=u(n,r,i,l,t[f+4],6,-145523070),l=u(l,n,r,i,t[f+11],10,-1120210379),i=u(i,l,n,r,t[f+2],15,718787259),r=u(r,i,l,n,t[f+9],21,-343485551),n=c(n,h),r=c(r,p),i=c(i,d),l=c(l,g)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,a,s){return i(e&n|~e&r,t,e,o,a,s)}function a(t,e,n,r,o,a,s){return i(e&r|n&~r,t,e,o,a,s)}function s(t,e,n,r,o,a,s){return i(e^n^r,t,e,o,a,s)}function u(t,e,n,r,o,a,s){return i(n^(e|~r),t,e,o,a,s)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var f=n(293);t.exports=function(t){return f.hash(t,r,16)}},function(t,e,n){(function(e){t.exports=function(t){function n(t,e,n,i,o,a){if("function"==typeof o&&(a=o,o=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var s;try{s=r(t,e,n,i,o)}catch(u){return a(u)}a(void 0,s)})}function r(n,r,i,o,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(0>i)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(0>o)throw new TypeError("Bad key length");a=a||"sha1",e.isBuffer(n)||(n=new e(n)),e.isBuffer(r)||(r=new e(r));var s,u,c,l=1,f=new e(o),h=new e(r.length+4);r.copy(h,0,0,r.length);for(var p=1;l>=p;p++){h.writeUInt32BE(p,r.length);var d=t.createHmac(a,n).update(h).digest();if(!s&&(s=d.length,c=new e(s),l=Math.ceil(o/s),u=o-(l-1)*s,o>(Math.pow(2,32)-1)*s))throw new TypeError("keylen exceeds maximum length");d.copy(c,0,0,s);for(var g=1;i>g;g++){d=t.createHmac(a,n).update(d).digest();for(var v=0;s>v;v++)c[v]^=d[v]}var m=(p-1)*s,y=p==l?u:s;c.copy(f,m,0,y)}return f}return{pbkdf2:n,pbkdf2Sync:r}}}).call(e,n(3).Buffer)},function(t,e,n){(function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function a(t,e,n){return t^(e|~n)}function s(t,e){return t<<e|t>>>32-e}function u(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=g(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var a=0;a<r.length;a+=16)m(n,r,a);for(var a=0;5>a;a++){var s=n[a];n[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var u=v(n);return new e(u)}t.exports=u;/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0],g=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},v=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},m=function(t,e,u){for(var g=0;16>g;g++){var v=u+g,m=e[v];e[v]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var y,b,w,_,E,j,S,A,x,T;j=y=t[0],S=b=t[1],A=w=t[2],x=_=t[3],T=E=t[4];for(var C,g=0;80>g;g+=1)C=y+e[u+c[g]]|0,C+=16>g?n(b,w,_)+p[0]:32>g?r(b,w,_)+p[1]:48>g?i(b,w,_)+p[2]:64>g?o(b,w,_)+p[3]:a(b,w,_)+p[4],C=0|C,C=s(C,f[g]),C=C+E|0,y=E,E=_,_=s(w,10),w=b,b=C,C=j+e[u+l[g]]|0,C+=16>g?a(S,A,x)+d[0]:32>g?o(S,A,x)+d[1]:48>g?i(S,A,x)+d[2]:64>g?r(S,A,x)+d[3]:n(S,A,x)+d[4],C=0|C,C=s(C,h[g]),C=C+T|0,j=T,T=x,x=s(A,10),A=S,S=C;C=t[1]+w+x|0,t[1]=t[2]+_+T|0,t[2]=t[3]+E+j|0,t[3]=t[4]+y+S|0,t[4]=t[0]+b+A|0,t[0]=C}}).call(e,n(3).Buffer)},function(t,e){t.exports=function(t){function e(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var r=this._len+=e.length,i=this._s=this._s||0,o=0,a=this._block;r>i;){for(var s=Math.min(e.length,o+this._blockSize-i%this._blockSize),u=s-o,c=0;u>c;c++)a[i%this._blockSize+c]=e[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(a)}return this._s=i,this},e.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},r=n(3).Buffer,i=n(297)(r);e.sha1=n(299)(r,i),e.sha256=n(300)(r,i),e.sha512=n(301)(r,i)},function(t,e,n){var r=n(28).inherits;t.exports=function(t,e){function n(){return d.length?d.pop().init():this instanceof n?(this._w=p,e.call(this,64,56),this._h=null,void this.init()):new n}function i(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function o(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function a(t,e){return t+e|0}function s(t,e){return t<<e|t>>>32-e}var u=0,c=4,l=8,f=12,h=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),d=[];return r(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},n.prototype._POOL=d,n.prototype._update=function(t){var e,n,r,u,c,l,f,h,p,d;e=l=this._a,n=f=this._b,r=h=this._c,u=p=this._d,c=d=this._e;for(var g=this._w,v=0;80>v;v++){var m=g[v]=16>v?t.readInt32BE(4*v):s(g[v-3]^g[v-8]^g[v-14]^g[v-16],1),y=a(a(s(e,5),i(v,n,r,u)),a(a(c,m),o(v)));c=u,u=r,r=s(n,30),n=e,e=y}this._a=a(e,l),this._b=a(n,f),this._c=a(r,h),this._d=a(u,p),this._e=a(c,d)},n.prototype._hash=function(){d.length<100&&d.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,u),e.writeInt32BE(0|this._b,c),e.writeInt32BE(0|this._c,l),e.writeInt32BE(0|this._d,f),e.writeInt32BE(0|this._e,h),e},n}},function(t,e,n){var r=n(28).inherits;t.exports=function(t,e){function n(){this.init(),this._w=p,e.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function a(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function f(t){return i(t,17)^i(t,19)^o(t,10)}var h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,i,o,p,d,g,v,m,y=this._w;e=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,p=0|this._f,d=0|this._g,g=0|this._h;for(var b=0;64>b;b++){var w=y[b]=16>b?t.readInt32BE(4*b):f(y[b-2])+y[b-7]+l(y[b-15])+y[b-16];v=g+c(o)+a(o,p,d)+h[b]+w,m=u(e)+s(e,n,r),g=d,d=p,p=o,o=i+v,i=r,r=n,n=e,e=v+m}this._a=e+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=p+this._f|0,this._g=d+this._g|0,this._h=g+this._h|0},n.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},n}},function(t,e,n){var r=n(28).inherits;t.exports=function(t,e){function n(){this.init(),this._w=u,e.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}var s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,u,c,l,f,h,p,d,g,v,m,y,b,w,_=this._w;e=0|this._a,n=0|this._b,r=0|this._c,u=0|this._d,c=0|this._e,l=0|this._f,f=0|this._g,h=0|this._h,p=0|this._al,d=0|this._bl,g=0|this._cl,v=0|this._dl,m=0|this._el,y=0|this._fl,b=0|this._gl,w=0|this._hl;for(var E=0;80>E;E++){var j,S,A=2*E;if(16>E)j=_[A]=t.readInt32BE(4*A),S=_[A+1]=t.readInt32BE(4*A+4);else{var x=_[A-30],T=_[A-30+1],C=i(x,T,1)^i(x,T,8)^x>>>7,k=i(T,x,1)^i(T,x,8)^i(T,x,7);x=_[A-4],T=_[A-4+1];var R=i(x,T,19)^i(T,x,29)^x>>>6,O=i(T,x,19)^i(x,T,29)^i(T,x,6),I=_[A-14],P=_[A-14+1],L=_[A-32],q=_[A-32+1];S=k+P,j=C+I+(k>>>0>S>>>0?1:0),S+=O,j=j+R+(O>>>0>S>>>0?1:0),S+=q,j=j+L+(q>>>0>S>>>0?1:0),_[A]=j,_[A+1]=S}var D=a(e,n,r),F=a(p,d,g),N=i(e,p,28)^i(p,e,2)^i(p,e,7),M=i(p,e,28)^i(e,p,2)^i(e,p,7),U=i(c,m,14)^i(c,m,18)^i(m,c,9),B=i(m,c,14)^i(m,c,18)^i(c,m,9),H=s[A],W=s[A+1],z=o(c,l,f),X=o(m,y,b),V=w+B,G=h+U+(w>>>0>V>>>0?1:0);V+=X,G=G+z+(X>>>0>V>>>0?1:0),V+=W,G=G+H+(W>>>0>V>>>0?1:0),V+=S,G=G+j+(S>>>0>V>>>0?1:0);var K=M+F,Y=N+D+(M>>>0>K>>>0?1:0);h=f,w=b,f=l,b=y,l=c,y=m,m=v+V|0,c=u+G+(v>>>0>m>>>0?1:0)|0,u=r,v=g,r=n,g=d,n=e,d=p,p=V+K|0,e=G+Y+(V>>>0>p>>>0?1:0)|0}this._al=this._al+p|0,this._bl=this._bl+d|0,this._cl=this._cl+g|0,this._dl=this._dl+v|0,this._el=this._el+m|0,this._fl=this._fl+y|0,this._gl=this._gl+b|0,this._hl=this._hl+w|0,this._a=this._a+e+(this._al>>>0<p>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<d>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<g>>>0?1:0)|0,this._d=this._d+u+(this._dl>>>0<v>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<m>>>0?1:0)|0,this._f=this._f+l+(this._fl>>>0<y>>>0?1:0)|0,this._g=this._g+f+(this._gl>>>0<b>>>0?1:0)|0,this._h=this._h+h+(this._hl>>>0<w>>>0?1:0)|0},n.prototype._hash=function(){function e(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),n},n}},function(t,e,n){var r=n(295);t.exports=function(t,e){e=e||{};var n=r(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},function(t,e,n){(function(e,r){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||n(324),t.exports=function(t){if(_crypto.getRandomValues){var e=new r(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),n(3).Buffer)},function(t,e,n){var r=n(20),i=n(305),o=n(306),a=n(307),s=t.exports=function(t,e){var n=this;n.writable=!0,n.xhr=t,n.body=[],n.uri=(e.protocol||"http:")+"//"+e.host+(e.port?":"+e.port:"")+(e.path||"/"),"undefined"==typeof e.withCredentials&&(e.withCredentials=!0);try{t.withCredentials=e.withCredentials}catch(r){}if(e.responseType)try{t.responseType=e.responseType}catch(r){}if(t.open(e.method||"GET",n.uri,!0),t.onerror=function(t){n.emit("error",new Error("Network error"))},n._headers={},e.headers)for(var a=u(e.headers),s=0;s<a.length;s++){var c=a[s];if(n.isSafeRequestHeader(c)){var l=e.headers[c];n.setHeader(c,l)}}e.auth&&this.setHeader("Authorization","Basic "+o.btoa(e.auth));var f=new i;f.on("close",function(){n.emit("close")}),f.on("ready",function(){n.emit("response",f)}),f.on("error",function(t){n.emit("error",t)}),t.onreadystatechange=function(){t.__aborted||f.handle(t)}};a(s,r),s.prototype.setHeader=function(t,e){this._headers[t.toLowerCase()]=e},s.prototype.getHeader=function(t){return this._headers[t.toLowerCase()]},s.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},s.prototype.write=function(t){this.body.push(t)},s.prototype.destroy=function(t){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},s.prototype.end=function(t){void 0!==t&&this.body.push(t);for(var e=u(this._headers),n=0;n<e.length;n++){var r=e[n],i=this._headers[r];if(c(i))for(var o=0;o<i.length;o++)this.xhr.setRequestHeader(r,i[o]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(c(this.body[0])){for(var a=[],n=0;n<this.body.length;n++)a.push.apply(a,this.body[n]);this.xhr.send(a)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var s=0,n=0;n<this.body.length;n++)s+=this.body[n].length;for(var a=new this.body[0].constructor(s),l=0,n=0;n<this.body.length;n++)for(var h=this.body[n],o=0;o<h.length;o++)a[l++]=h[o];this.xhr.send(a)}else if(f(this.body[0]))this.xhr.send(this.body[0]);else{for(var a="",n=0;n<this.body.length;n++)a+=this.body[n].toString();this.xhr.send(a)}},s.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],s.prototype.isSafeRequestHeader=function(t){return t?-1===l(s.unsafeHeaders,t.toLowerCase()):!1};var u=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},f=function(t){return"undefined"!=typeof Blob&&t instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&t instanceof FormData?!0:void 0}},function(t,e,n){function r(t){for(var e=t.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<e.length;r++){var i=e[r];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var a=o[1].toLowerCase(),s=o[2];void 0!==n[a]?u(n[a])?n[a].push(s):n[a]=[n[a],s]:n[a]=s}else n[i]=!0}}return n}var i=n(20),o=n(28),a=t.exports=function(t){this.offset=0,this.readable=!0};o.inherits(a,i);var s={streaming:!0,status2:!0};a.prototype.getResponse=function(t){var e=String(t.responseType).toLowerCase();return"blob"===e?t.responseBlob||t.response:"arraybuffer"===e?t.response:t.responseText},a.prototype.getHeader=function(t){return this.headers[t.toLowerCase()]},a.prototype.handle=function(t){if(2===t.readyState&&s.status2){try{this.statusCode=t.status,this.headers=r(t)}catch(e){s.status2=!1}s.status2&&this.emit("ready")}else if(s.streaming&&3===t.readyState){try{this.statusCode||(this.statusCode=t.status,this.headers=r(t),this.emit("ready"))}catch(e){}try{this._emitData(t)}catch(e){s.streaming=!1}}else 4===t.readyState&&(this.statusCode||(this.statusCode=t.status,this.emit("ready")),this._emitData(t),t.error?this.emit("error",this.getResponse(t)):this.emit("end"),this.emit("close"))},a.prototype._emitData=function(t){var e=this.getResponse(t);return e.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(e,this.offset)),void(this.offset=e.byteLength)):void(e.length>this.offset&&(this.emit("data",e.slice(this.offset)),this.offset=e.length))};var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){!function(){function t(t){this.message=t}var n=e,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",n.btoa||(n.btoa=function(e){for(var n,i,o=0,a=r,s="";e.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&n>>8-o%1*8)){if(i=e.charCodeAt(o+=.75),i>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return s}),n.atob||(n.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,a=0,s="";i=e.charAt(a++);~i&&(n=o%4?64*n+i:i,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return s})}()},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,o){e=e||"&",i=i||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var f,h,p,d,g=t[l].replace(s,"%20"),v=g.indexOf(i);v>=0?(f=g.substr(0,v),h=g.substr(v+1)):(f=g,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),n(a,p)?r(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,a,s){return e=e||"&",a=a||"=",null===t&&(t=void 0),"object"==typeof t?n(o(t),function(o){var s=encodeURIComponent(r(o))+a;return i(t[o])?n(t[o],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[o]))}).join(e):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";e.decode=e.parse=n(308),e.encode=e.stringify=n(309)},function(t,e,n){t.exports=n(12)},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){t.exports=n(176)},function(t,e,n){e=t.exports=n(177),e.Stream=n(20),e.Readable=e,e.Writable=n(125),e.Duplex=n(12),e.Transform=n(124),e.PassThrough=n(176)},function(t,e,n){t.exports=n(124)},function(t,e,n){t.exports=n(125)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r;(function(t,i){!function(o){function a(t){throw RangeError(I[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(O,".");var i=t.split("."),o=s(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=q(t>>>10&1023|55296),t=56320|1023&t),e+=q(t)}).join("")}function f(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:_}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?L(t/A):t>>1,t+=L(t/e);t>P*j>>1;r+=_)t=L(t/P);return L(r+(P+1)*t/(t+S))}function d(t){var e,n,r,i,o,s,u,c,h,d,g=[],v=t.length,m=0,y=T,b=x;for(n=t.lastIndexOf(C),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&a("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;v>i;){for(o=m,s=1,u=_;i>=v&&a("invalid-input"),c=f(t.charCodeAt(i++)),(c>=_||c>L((w-m)/s))&&a("overflow"),m+=c*s,h=b>=u?E:u>=b+j?j:u-b,!(h>c);u+=_)d=_-h,s>L(w/d)&&a("overflow"),s*=d;e=g.length+1,b=p(m-o,e,0==o),L(m/e)>w-y&&a("overflow"),y+=L(m/e),m%=e,g.splice(m++,0,y)}return l(g)}function g(t){var e,n,r,i,o,s,u,l,f,d,g,v,m,y,b,S=[];for(t=c(t),v=t.length,e=T,n=0,o=x,s=0;v>s;++s)g=t[s],128>g&&S.push(q(g));for(r=i=S.length,i&&S.push(C);v>r;){for(u=w,s=0;v>s;++s)g=t[s],g>=e&&u>g&&(u=g);for(m=r+1,u-e>L((w-n)/m)&&a("overflow"),n+=(u-e)*m,e=u,s=0;v>s;++s)if(g=t[s],e>g&&++n>w&&a("overflow"),g==e){for(l=n,f=_;d=o>=f?E:f>=o+j?j:f-o,!(d>l);f+=_)b=l-d,y=_-d,S.push(q(h(d+b%y,0))),l=L(b/y);S.push(q(h(l,0))),o=p(n,m,r==i),n=0,++r}++n,++e}return S.join("")}function v(t){return u(t,function(t){return k.test(t)?d(t.slice(4).toLowerCase()):t})}function m(t){return u(t,function(t){return R.test(t)?"xn--"+g(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(y.global===y||y.window===y||y.self===y)&&(o=y);var b,w=2147483647,_=36,E=1,j=26,S=38,A=700,x=72,T=128,C="-",k=/^xn--/,R=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=_-E,L=Math.floor,q=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:g,toASCII:m,toUnicode:v},r=function(){return b}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(171)(t),function(){return this}())},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;u>c;++c){var l,f,h,p,d=t[c].replace(a,"%20"),g=d.indexOf(r);g>=0?(l=d.substr(0,g),f=d.substr(g+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),n(o,h)?Array.isArray(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(319),e.encode=e.stringify=n(320)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){},function(t,e){}])});