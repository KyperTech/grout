!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Grout=e():t.Grout=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(21),t.exports=n(21)},function(t,e,n){var r={util:n(2)},i={};i.toString(),t.exports=r,r.util.update(r,{VERSION:"2.2.16",Signers:{},Protocol:{Json:n(13),Query:n(32),Rest:n(8),RestJson:n(33),RestXml:n(34)},XML:{Builder:n(77),Parser:null},JSON:{Builder:n(11),Parser:n(12)},Model:{Api:n(27),Operation:n(29),Shape:n(7),Paginator:n(30),ResourceWaiter:n(31)},util:n(2),apiLoader:function(){throw new Error("No API loader set")}}),n(68),n(24),n(25),n(58),n(59),n(56),n(57),n(55),n(26),n(35),n(60),n(65),n(67),n(66),n(70),n(62),r.events=new r.SequentialExecutor},function(t,e,n){(function(e){var r,i=n(86),o=n(5).Buffer,a={engine:function(){return a.isBrowser()&&"undefined"!=typeof navigator?navigator.userAgent:e.platform+"/"+e.version},userAgent:function(){var t=a.isBrowser()?"js":"nodejs",e="aws-sdk-"+t+"/"+n(1).VERSION;return"nodejs"===t&&(e+=" "+a.engine()),e},isBrowser:function(){return e&&e.browser},isNode:function(){return!a.isBrowser()},nodeRequire:function(t){return a.isNode()?!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}():void 0},multiRequire:function(t,e){return!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}()},uriEscape:function(t){var e=encodeURIComponent(t);return e=e.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),e=e.replace(/[*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(t){var e=[];return a.arrayEach(t.split("/"),function(t){e.push(a.uriEscape(t))}),e.join("/")},urlParse:function(t){return n(39).parse(t)},urlFormat:function(t){return n(39).format(t)},queryStringParse:function(t){return n(101).parse(t)},queryParamsToString:function(t){var e=[],n=a.uriEscape,r=Object.keys(t).sort();return a.arrayEach(r,function(r){var i=t[r],o=n(r),s=o+"=";if(Array.isArray(i)){var u=[];a.arrayEach(i,function(t){u.push(n(t))}),s=o+"="+u.sort().join("&"+o+"=")}else void 0!==i&&null!==i&&(s=o+"="+n(i));e.push(s)}),e.join("&")},readFileSync:function(t){return"undefined"!=typeof window?null:a.nodeRequire("fs").readFileSync(t,"utf-8")},base64:{encode:function(t){return new o(t).toString("base64")},decode:function(t){return new o(t,"base64")}},Buffer:o,buffer:{toStream:function(t){a.Buffer.isBuffer(t)||(t=new a.Buffer(t));var e=new(a.nodeRequire("stream").Readable),n=0;return e._read=function(r){if(n>=t.length)return e.push(null);var i=n+r;i>t.length&&(i=t.length),e.push(t.slice(n,i)),n=i},e},concat:function(t){var e,n=0,r=0,i=null;for(e=0;e<t.length;e++)n+=t[e].length;for(i=new o(n),e=0;e<t.length;e++)t[e].copy(i,r),r+=t[e].length;return i}},string:{byteLength:function(t){if(null===t||void 0===t)return 0;if("string"==typeof t&&(t=new o(t)),"number"==typeof t.byteLength)return t.byteLength;if("number"==typeof t.length)return t.length;if("number"==typeof t.size)return t.size;if("string"==typeof t.path)return a.nodeRequire("fs").lstatSync(t.path).size;throw a.error(new Error("Cannot determine length of "+t),{object:t})},upperFirst:function(t){return t[0].toUpperCase()+t.substr(1)},lowerFirst:function(t){return t[0].toLowerCase()+t.substr(1)}},ini:{parse:function(t){var e,n={};return a.arrayEach(t.split(/\r?\n/),function(t){t=t.split(/(^|\s);/)[0];var r=t.match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)e=r[1];else if(e){var i=t.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(n[e]=n[e]||{},n[e][i[1]]=i[2])}}),n}},fn:{noop:function(){},makeAsync:function(t,e){return e&&e<=t.length?t:function(){var e=Array.prototype.slice.call(arguments,0),n=e.pop(),r=t.apply(null,e);n(r)}}},jamespath:{query:function(t,e){if(!e)return[];var n=[],r=t.split(/\s+\|\|\s+/);return a.arrayEach.call(this,r,function(t){var r=[e],i=t.split(".");return a.arrayEach.call(this,i,function(t){var e=t.match("^(.+?)(?:\\[(-?\\d+|\\*|)\\])?$"),n=[];return a.arrayEach.call(this,r,function(t){"*"===e[1]?a.arrayEach.call(this,t,function(t){n.push(t)}):t.hasOwnProperty(e[1])&&n.push(t[e[1]])}),r=n,void 0!==e[2]&&(n=[],a.arrayEach.call(this,r,function(t){if(Array.isArray(t))if("*"===e[2]||""===e[2])n=n.concat(t);else{var r=parseInt(e[2],10);0>r&&(r=t.length+r),n.push(t[r])}}),r=n),0===r.length?a.abort:void 0}),r.length>0?(n=r,a.abort):void 0}),n},find:function(t,e){return a.jamespath.query(t,e)[0]}},date:{getDate:function(){return r||(r=n(1)),r.config.systemClockOffset?new Date((new Date).getTime()+r.config.systemClockOffset):new Date},iso8601:function(t){return void 0===t&&(t=a.date.getDate()),t.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(t){return void 0===t&&(t=a.date.getDate()),t.toUTCString()},unixTimestamp:function(t){return void 0===t&&(t=a.date.getDate()),t.getTime()/1e3},from:function(t){return"number"==typeof t?new Date(1e3*t):new Date(t)},format:function(t,e){return e||(e="iso8601"),a.date[e](a.date.from(t))},parseTimestamp:function(t){if("number"==typeof t)return new Date(1e3*t);if(t.match(/^\d+$/))return new Date(1e3*t);if(t.match(/^\d{4}/))return new Date(t);if(t.match(/^\w{3},/))return new Date(t);throw a.error(new Error("unhandled timestamp format: "+t),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(t){var e=a.crypto.crc32Table,n=-1;"string"==typeof t&&(t=new o(t));for(var r=0;r<t.length;r++){var i=t.readUInt8(r);n=n>>>8^e[255&(n^i)]}return(-1^n)>>>0},hmac:function(t,e,n,r){return n||(n="binary"),"buffer"===n&&(n=void 0),r||(r="sha256"),"string"==typeof e&&(e=new o(e)),i.createHmac(r,t).update(e).digest(n)},md5:function(t,e,n){return a.crypto.hash("md5",t,e,n)},sha256:function(t,e,n){return a.crypto.hash("sha256",t,e,n)},hash:function(t,e,n,r){var i=a.crypto.createHash(t);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof e&&(e=new o(e));var s=a.arraySliceFn(e),u=o.isBuffer(e);if(a.isBrowser()&&e&&e.buffer instanceof ArrayBuffer&&(u=!0),r&&"object"==typeof e&&"function"==typeof e.on&&!u)e.on("data",function(t){i.update(t)}),e.on("error",function(t){r(t)}),e.on("end",function(){r(null,i.digest(n))});else{if(!r||!s||u||"undefined"==typeof FileReader){a.isBrowser()&&"object"==typeof e&&!u&&(e=new o(new Uint8Array(e)));var c=i.update(e).digest(n);return r&&r(null,c),c}var l=0,h=524288,f=new FileReader;f.onerror=function(){r(new Error("Failed to read data."))},f.onload=function(){var t=new o(new Uint8Array(f.result));i.update(t),l+=t.length,f._continueReading()},f._continueReading=function(){if(l>=e.size)return void r(null,i.digest(n));var t=l+h;t>e.size&&(t=e.size),f.readAsArrayBuffer(s.call(e,l,t))},f._continueReading()}},toHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push(("0"+t.charCodeAt(n).toString(16)).substr(-2,2));return e.join("")},createHash:function(t){return i.createHash(t)}},abort:{},each:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=e.call(this,n,t[n]);if(r===a.abort)break}},arrayEach:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=e.call(this,t[n],parseInt(n,10));if(r===a.abort)break}},update:function(t,e){return a.each(e,function(e,n){t[e]=n}),t},merge:function(t,e){return a.update(a.copy(t),e)},copy:function(t){if(null===t||void 0===t)return t;var e={};for(var n in t)e[n]=t[n];return e},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},arraySliceFn:function(t){var e=t.slice||t.webkitSlice||t.mozSlice;return"function"==typeof e?e:null},isType:function(t,e){return"function"==typeof e&&(e=a.typeName(e)),Object.prototype.toString.call(t)==="[object "+e+"]"},typeName:function(t){if(t.hasOwnProperty("name"))return t.name;var e=t.toString(),n=e.match(/^\s*function (.+)\(/);return n?n[1]:e},error:function(t,e){var n=null;return"string"==typeof t.message&&""!==t.message&&("string"==typeof e||e&&e.message)&&(n=a.copy(t),n.message=t.message),t.message=t.message||null,"string"==typeof e?t.message=e:"object"==typeof e&&null!==e&&(a.update(t,e),e.message&&(t.message=e.message),(e.code||e.name)&&(t.code=e.code||e.name),e.stack&&(t.stack=e.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(t,"name",{writable:!0,enumerable:!1}),Object.defineProperty(t,"message",{enumerable:!0})),t.name=e&&e.name||t.name||t.code||"Error",t.time=new Date,n&&(t.originalError=n),t},inherit:function(t,e){var n=null;if(void 0===e)e=t,t=Object,n={};else{var r=function(){};r.prototype=t.prototype,n=new r}return e.constructor===Object&&(e.constructor=function(){return t!==Object?t.apply(this,arguments):void 0}),e.constructor.prototype=n,a.update(e.constructor.prototype,e),e.constructor.__super__=t,e.constructor},mixin:function(){for(var t=arguments[0],e=1;e<arguments.length;e++)for(var n in arguments[e].prototype){var r=arguments[e].prototype[n];"constructor"!==n&&(t.prototype[n]=r)}return t},hideProperties:function(t,e){"function"==typeof Object.defineProperty&&a.arrayEach(e,function(e){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0})})},property:function(t,e,n,r,i){var o={configurable:!0,enumerable:void 0!==r?r:!0};"function"!=typeof n||i?(o.value=n,o.writable=!0):o.get=n,Object.defineProperty(t,e,o)},memoizedProperty:function(t,e,n,r){var i=null;a.property(t,e,function(){return null===i&&(i=n()),i},r)},hoistPayloadMember:function(t){var e=t.request,n=e.operation,r=e.service.api.operations[n].output;if(r.payload){var i=r.members[r.payload],o=t.data[r.payload];"structure"===i.type&&a.each(o,function(e,n){a.property(t.data,e,n,!1)})}},computeSha256:function(t,e){if(a.isNode()){var n=a.nodeRequire("stream").Stream,r=a.nodeRequire("fs");if(t instanceof n){if("string"!=typeof t.path)return e(new Error("Non-file stream objects are not supported with SigV4"));t=r.createReadStream(t.path)}}a.crypto.sha256(t,"hex",function(t,n){t?e(t):e(null,n)})},isClockSkewed:function(t){return t?(a.property(r.config,"isClockSkewed",Math.abs((new Date).getTime()-t)>=3e5,!1),r.config.isClockSkewed):void 0},applyClockOffset:function(t){t&&(r.config.systemClockOffset=t-(new Date).getTime())},extractRequestId:function(t){var e=t.httpResponse.headers["x-amz-request-id"]||t.httpResponse.headers["x-amzn-requestid"];!e&&t.data&&t.data.ResponseMetadata&&(e=t.data.ResponseMetadata.RequestId),e&&(t.requestId=e)}};t.exports=a}).call(e,n(14))},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=r(i),a=n(22),s=r(a),u=new s.default(o.default.appName,o.default.matterOptions);e.default=u,t.exports=e.default},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){if(t!==e){var n=null===t,r=t===k,i=t===t,o=null===e,a=e===k,s=e===e;if(t>e&&!o||!i||n&&!a&&s||r&&s)return 1;if(e>t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function a(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return m(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function u(t){return"function"==typeof t||!1}function c(t){return null==t?"":t+""}function l(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,u=n.length;++r<s;){var c=o(i[r],a[r]);if(c){if(r>=u)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return t.index-e.index}function d(t){return Vt[t]}function g(t){return zt[t]}function v(t,e,n){return e?t=Yt[t]:n&&(t=Jt[t]),"\\"+t}function y(t){return"\\"+Jt[t]}function m(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function b(t){return!!t&&"object"==typeof t}function w(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function E(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=V,o[++i]=n);return o}function _(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}function A(t){for(var e=-1,n=t.length;++e<n&&w(t.charCodeAt(e)););return e}function S(t){for(var e=t.length;e--&&w(t.charCodeAt(e)););return e}function x(t){return Qt[t]}function j(t){function e(t){if(b(t)&&!Rs(t)&&!(t instanceof i)){if(t instanceof r)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return pr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ta,this.__views__=[]}function w(){var t=new i(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Z(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function rt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Rs(t),r=0>e,i=n?t.length:0,o=Vn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,p=Aa(u,this.__takeCount__);if(!n||H>i||i==u&&p==u)return nn(r&&n?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&p>f;){c+=e;for(var g=-1,v=t[c];++g<h;){var y=l[g],m=y.iteratee,b=y.type,w=m(v);if(b==W)v=w;else if(!w){if(b==K)continue t;break t}}d[f++]=v}return d}function ot(){this.__data__={}}function Vt(t){return this.has(t)&&delete this.__data__[t]}function zt(t){return"__proto__"==t?k:this.__data__[t]}function Qt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Xt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Yt(t){var e=t?t.length:0;for(this.data={hash:ya(null),set:new ha};e--;)this.push(t[e])}function Jt(t,e){var n=t.data,r="string"==typeof e||qi(e)?n.set.has(e):n.hash[e];return r?0:-1}function $t(t){var e=this.data;"string"==typeof t||qi(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=Bo(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function te(t,e){var n=-1,r=t.length;for(e||(e=Bo(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e,n,r){for(var i=-1,o=t.length,a=r,s=a;++i<o;){var u=t[i],c=+e(u);n(c,a)&&(a=c,s=u)}return s}function se(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function ue(t,e){for(var n=-1,r=t.length,i=Bo(r);++n<r;)i[n]=e(t[n],n,t);return i}function ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function le(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function fe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function de(t,e){return t===k?e:t}function ge(t,e,n,r){return t!==k&&ea.call(r,n)?t:e}function ve(t,e,n){for(var r=-1,i=Ns(e),o=i.length;++r<o;){var a=i[r],s=t[a],u=n(s,e[a],a,t,e);(u===u?u===s:s!==s)&&(s!==k||a in t)||(t[a]=u)}return t}function ye(t,e){return null==e?t:be(e,Ns(e),t)}function me(t,e){for(var n=-1,r=null==t,i=!r&&Jn(t),o=i?t.length:0,a=e.length,s=Bo(a);++n<a;){var u=e[n];i?s[n]=$n(u,o)?t[u]:k:s[n]=r?k:t[u]}return s}function be(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function we(t,e,n){var r=typeof t;return"function"==r?e===k?t:an(t,e,n):null==t?To:"object"==r?Me(t):e===k?qo(t):Ne(t,e)}function Ee(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),s!==k)return s;if(!qi(t))return t;var u=Rs(t);if(u){if(s=zn(t),!e)return te(t,s)}else{var c=ra.call(t),l=c==$;if(c!=et&&c!=z&&(!l||i))return Gt[c]?Xn(t,c,e):i?t:{};if(s=Qn(l?{}:t),!e)return ye(s,t)}o||(o=[]),a||(a=[]);for(var h=o.length;h--;)if(o[h]==t)return a[h];return o.push(t),a.push(s),(u?ee:Pe)(t,function(r,i){s[i]=Ee(r,e,n,i,t,o,a)}),s}function _e(t,e,n){if("function"!=typeof t)throw new Yo(G);return fa(function(){t.apply(k,n)},e)}function Ae(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Kn(),a=o==s,u=a&&e.length>=H?gn(e):null,c=e.length;u&&(o=Jt,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var h=c;h--;)if(e[h]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function Se(t,e){var n=!0;return La(t,function(t,r,i){return n=!!e(t,r,i)}),n}function xe(t,e,n,r){var i=r,o=i;return La(t,function(t,a,s){var u=+e(t,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}function je(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===k||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function ke(t,e){var n=[];return La(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Te(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function Re(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];b(a)&&Jn(a)&&(n||Rs(a)||xi(a))?e?Re(a,e,n,r):ce(r,a):n||(r[r.length]=a)}return r}function Ce(t,e){return Ua(t,e,to)}function Pe(t,e){return Ua(t,e,Ns)}function Ie(t,e){return Ma(t,e,Ns)}function Oe(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Oi(t[a])&&(o[++i]=a)}return o}function qe(t,e,n){if(null!=t){n!==k&&n in hr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&i>r;)t=t[e[r++]];return r&&r==i?t:k}}function De(t,e,n,r,i,o){return t===e?!0:null==t||null==e||!qi(t)&&!b(e)?t!==t&&e!==e:Le(t,e,De,n,r,i,o)}function Le(t,e,n,r,i,o,a){var s=Rs(t),u=Rs(e),c=Q,l=Q;s||(c=ra.call(t),c==z?c=et:c!=et&&(s=Ki(t))),u||(l=ra.call(e),l==z?l=et:l!=et&&(u=Ki(e)));var h=c==et,f=l==et,p=c==l;if(p&&!s&&!h)return Mn(t,e,c);if(!i){var d=h&&ea.call(t,"__wrapped__"),g=f&&ea.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==t)return a[v]==e;o.push(t),a.push(e);var y=(s?Un:Nn)(t,e,n,r,i,o,a);return o.pop(),a.pop(),y}function Fe(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=hr(t);r--;){var a=e[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=e[r];var s=a[0],u=t[s],c=a[1];if(o&&a[2]){if(u===k&&!(s in t))return!1}else{var l=n?n(u,c,s):k;if(!(l===k?De(c,u,n,!0):l))return!1}}return!0}function Ue(t,e){var n=-1,r=Jn(t)?Bo(t.length):[];return La(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Me(t){var e=Wn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==k||n in hr(t))}}return function(t){return Fe(t,e)}}function Ne(t,e){var n=Rs(t),r=tr(t)&&rr(e),i=t+"";return t=fr(t),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(o=1==t.length?o:qe(o,Qe(t,0,-1)),null==o)return!1;a=jr(t),o=hr(o)}return o[a]===e?e!==k||a in o:De(e,o[a],k,!0)}}function Be(t,e,n,r,i){if(!qi(t))return t;var o=Jn(e)&&(Rs(e)||Ki(e)),a=o?k:Ns(e);return ee(a||e,function(s,u){if(a&&(u=s,s=e[u]),b(s))r||(r=[]),i||(i=[]),He(t,e,u,Be,n,r,i);else{var c=t[u],l=n?n(c,s,u,t,e):k,h=l===k;h&&(l=s),l===k&&(!o||u in t)||!h&&(l===l?l===c:c!==c)||(t[u]=l)}}),t}function He(t,e,n,r,i,o,a){for(var s=o.length,u=e[n];s--;)if(o[s]==u)return void(t[n]=a[s]);var c=t[n],l=i?i(c,u,n,t,e):k,h=l===k;h&&(l=u,Jn(u)&&(Rs(u)||Ki(u))?l=Rs(c)?c:Jn(c)?te(c):[]:Ni(u)||xi(u)?l=xi(c)?Qi(c):Ni(c)?c:{}:h=!1),o.push(u),a.push(l),h?t[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(t[n]=l)}function Ke(t){return function(e){return null==e?k:e[t]}}function We(t){var e=t+"";return t=fr(t),function(n){return qe(n,t,e)}}function Ge(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&$n(r)){var i=r;pa.call(t,r,1)}}return t}function Ve(t,e){return t+ma(ja()*(e-t+1))}function ze(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Qe(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===k||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Bo(i);++r<i;)o[r]=t[r+e];return o}function Xe(t,e){var n;return La(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Ye(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Je(t,e,n){var r=Bn(),i=-1;e=ue(e,function(t){return r(t)});var o=Ue(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Ye(o,function(t,e){return p(t,e,n)})}function $e(t,e){var n=0;return La(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Ze(t,e){var n=-1,r=Kn(),i=t.length,o=r==s,a=o&&i>=H,u=a?gn():null,c=[];u?(r=Jt,o=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],h=e?e(l,n,t):l;if(o&&l===l){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),c.push(l)}else r(u,h,0)<0&&((e||a)&&u.push(h),c.push(l))}return c}function tn(t,e){for(var n=-1,r=e.length,i=Bo(r);++n<r;)i[n]=t[e[n]];return i}function en(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Qe(t,r?0:o,r?o+1:i):Qe(t,r?o+1:0,r?i:o)}function nn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var a=e[r];n=a.func.apply(a.thisArg,ce([n],a.args))}return n}function rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Pa>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)&&null!==a?r=o+1:i=o}return i}return on(t,e,To,n)}function on(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=e===k;o>i;){var c=ma((i+o)/2),l=n(t[c]),h=l!==k,f=l===l;if(a)var p=f||r;else p=s?f&&h&&(r||null!=l):u?f&&(r||h):null==l?!1:r?e>=l:e>l;p?i=c+1:o=c}return Aa(o,Ca)}function an(t,e,n){if("function"!=typeof t)return To;if(e===k)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new aa(t.byteLength),n=new da(e);return n.set(new da(t)),e}function un(t,e,n){for(var r=n.length,i=-1,o=_a(t.length-r,0),a=-1,s=e.length,u=Bo(s+o);++a<s;)u[a]=e[a];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[a++]=t[i++];return u}function cn(t,e,n){for(var r=-1,i=n.length,o=-1,a=_a(t.length-i,0),s=-1,u=e.length,c=Bo(a+u);++o<a;)c[o]=t[o];for(var l=o;++s<u;)c[l+s]=e[s];for(;++r<i;)c[l+n[r]]=t[o++];return c}function ln(t,e){return function(n,r,i){var o=e?e():{};if(r=Bn(r,i,3),Rs(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else La(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function hn(t){return yi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:k,a=i>2?n[2]:k,s=i>1?n[i-1]:k;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:k,i-=o?1:0),a&&Zn(n[0],n[1],a)&&(o=3>i?k:o,i=1);++r<i;){var u=n[r];u&&t(e,u,o)}return e})}function fn(t,e){return function(n,r){var i=n?Ha(n):0;if(!nr(i))return t(n,r);for(var o=e?i:-1,a=hr(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function pn(t){return function(e,n,r){for(var i=hr(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return e}}function dn(t,e){function n(){var i=this&&this!==re&&this instanceof n?r:t;return i.apply(e,arguments)}var r=yn(t);return n}function gn(t){return ya&&ha?new Yt(t):null}function vn(t){return function(e){for(var n=-1,r=xo(lo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function yn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Da(t.prototype),r=t.apply(n,e);return qi(r)?r:n}}function mn(t){function e(n,r,i){i&&Zn(n,r,i)&&(r=k);var o=Fn(n,t,k,k,k,k,k,r);return o.placeholder=e.placeholder,o}return e}function bn(t,e){return yi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(k,n))})}function wn(t,e){return function(n,r,i){if(i&&Zn(n,r,i)&&(r=k),r=Bn(r,i,3),1==r.length){n=Rs(n)?n:lr(n);var o=ae(n,r,t,e);if(!n.length||o!==e)return o}return xe(n,r,t,e)}}function En(t,e){return function(n,r,i){if(r=Bn(r,i,3),Rs(n)){var o=a(n,r,e);return o>-1?n[o]:k}return Te(n,r,t)}}function _n(t){return function(e,n,r){return e&&e.length?(n=Bn(n,r,3),a(e,n,t)):-1}}function An(t){return function(e,n,r){return n=Bn(n,r,3),Te(e,n,t,!0)}}function Sn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,o=0,a=Bo(n);t?i--:++i<n;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new Yo(G);!e&&r.prototype.thru&&"wrapper"==Hn(s)&&(e=new r([],!0))}for(i=e?-1:n;++i<n;){s=a[i];var u=Hn(s),c="wrapper"==u?Ba(s):k;e=c&&er(c[0])&&c[1]==(L|I|q|F)&&!c[4].length&&1==c[9]?e[Hn(c[0])].apply(e,c[3]):1==s.length&&er(s)?e[u]():e.thru(s)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Rs(r)&&r.length>=H)return e.plant(r).value();for(var i=0,o=n?a[i].apply(this,t):r;++i<n;)o=a[i].call(this,o);return o}}}function xn(t,e){return function(n,r,i){return"function"==typeof r&&i===k&&Rs(n)?t(n,r):e(n,an(r,i,3))}}function jn(t){return function(e,n,r){return("function"!=typeof n||r!==k)&&(n=an(n,r,3)),t(e,n,to)}}function kn(t){return function(e,n,r){return("function"!=typeof n||r!==k)&&(n=an(n,r,3)),t(e,n)}}function Tn(t){return function(e,n,r){var i={};return n=Bn(n,r,3),Pe(e,function(e,r,o){var a=n(e,r,o);r=t?a:r,e=t?e:a,i[r]=e}),i}}function Rn(t){return function(e,n,r){return e=c(e),(t?e:"")+On(e,n,r)+(t?"":e)}}function Cn(t){var e=yi(function(n,r){var i=E(r,e.placeholder);return Fn(n,t,k,r,i)});return e}function Pn(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===k&&Rs(n)?t(n,r,i,a):ze(n,Bn(r,o,4),i,a,e)}}function In(t,e,n,r,i,o,a,s,u,c){function l(){for(var m=arguments.length,b=m,w=Bo(m);b--;)w[b]=arguments[b];if(r&&(w=un(w,r,i)),o&&(w=cn(w,o,a)),d||v){var _=l.placeholder,A=E(w,_);if(m-=A.length,c>m){var S=s?te(s):k,x=_a(c-m,0),j=d?A:k,T=d?k:A,P=d?w:k,I=d?k:w;e|=d?q:D,e&=~(d?D:q),g||(e&=~(R|C));var O=[t,e,n,P,j,I,T,S,u,x],L=In.apply(k,O);return er(t)&&Ka(L,O),L.placeholder=_,L}}var F=f?n:this,U=p?F[t]:t;return s&&(w=ur(w,s)),h&&u<w.length&&(w.length=u),this&&this!==re&&this instanceof l&&(U=y||yn(t)),U.apply(F,w)}var h=e&L,f=e&R,p=e&C,d=e&I,g=e&P,v=e&O,y=p?k:yn(t);return l}function On(t,e,n){var r=t.length;if(e=+e,r>=e||!wa(e))return"";var i=e-r;return n=null==n?" ":n+"",yo(n,va(i/n.length)).slice(0,i)}function qn(t,e,n,r){function i(){for(var e=-1,s=arguments.length,u=-1,c=r.length,l=Bo(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++e];var h=this&&this!==re&&this instanceof i?a:t;return h.apply(o?n:this,l)}var o=e&R,a=yn(t);return i}function Dn(t){var e=Go[t];return function(t,n){return n=n===k?0:+n||0,n?(n=ca(10,n),e(t*n)/n):e(t)}}function Ln(t){return function(e,n,r,i){var o=Bn(r);return null==r&&o===we?rn(e,n,t):on(e,n,o(r,i,1),t)}}function Fn(t,e,n,r,i,o,a,s){var u=e&C;if(!u&&"function"!=typeof t)throw new Yo(G);var c=r?r.length:0;if(c||(e&=~(q|D),r=i=k),c-=i?i.length:0,e&D){var l=r,h=i;r=i=k}var f=u?k:Ba(t),p=[t,e,n,r,i,l,h,o,a,s];if(f&&(ir(p,f),e=p[1],s=p[9]),p[9]=null==s?u?0:t.length:_a(s-c,0)||0,e==R)var d=dn(p[0],p[2]);else d=e!=q&&e!=(R|q)||p[4].length?In.apply(k,p):qn.apply(k,p);var g=f?Na:Ka;return g(d,p)}function Un(t,e,n,r,i,o,a){var s=-1,u=t.length,c=e.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=t[s],h=e[s],f=r?r(i?h:l,i?l:h,s):k;if(f!==k){if(f)continue;return!1}if(i){if(!fe(e,function(t){return l===t||n(l,t,r,i,o,a)}))return!1}else if(l!==h&&!n(l,h,r,i,o,a))return!1}return!0}function Mn(t,e,n){switch(n){case X:case Y:return+t==+e;case J:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case it:return t==e+""}return!1}function Nn(t,e,n,r,i,o,a){var s=Ns(t),u=s.length,c=Ns(e),l=c.length;if(u!=l&&!i)return!1;for(var h=u;h--;){var f=s[h];if(!(i?f in e:ea.call(e,f)))return!1}for(var p=i;++h<u;){f=s[h];var d=t[f],g=e[f],v=r?r(i?g:d,i?d:g,f):k;if(!(v===k?n(d,g,r,i,o,a):v))return!1;p||(p="constructor"==f)}if(!p){var y=t.constructor,m=e.constructor;if(y!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function Bn(t,n,r){var i=e.callback||jo;return i=i===jo?we:i,r?i(t,n,r):i}function Hn(t){for(var e=t.name,n=qa[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Kn(t,n,r){var i=e.indexOf||Sr;return i=i===Sr?s:i,t?i(t,n,r):i}function Wn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function Gn(t,e){var n=null==t?k:t[e];return Fi(n)?n:k}function Vn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Aa(e,t+a);break;case"takeRight":t=_a(t,e-a)}}return{start:t,end:e}}function zn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(n.index=t.index,
n.input=t.input),n}function Qn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=zo),new e}function Xn(t,e,n){var r=t.constructor;switch(e){case at:return sn(t);case X:case Y:return new r(+t);case st:case ut:case ct:case lt:case ht:case ft:case pt:case dt:case gt:var i=t.buffer;return new r(n?sn(i):i,t.byteOffset,t.length);case tt:case it:return new r(t);case nt:var o=new r(t.source,qt.exec(t));o.lastIndex=t.lastIndex}return o}function Yn(t,e,n){null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:qe(t,Qe(e,0,-1)),e=jr(e));var r=null==t?t:t[e];return null==r?k:r.apply(t,n)}function Jn(t){return null!=t&&nr(Ha(t))}function $n(t,e){return t="number"==typeof t||Ft.test(t)?+t:-1,e=null==e?Ia:e,t>-1&&t%1==0&&e>t}function Zn(t,e,n){if(!qi(n))return!1;var r=typeof e;if("number"==r?Jn(n)&&$n(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function tr(t,e){var n=typeof t;if("string"==n&&kt.test(t)||"number"==n)return!0;if(Rs(t))return!1;var r=!jt.test(t);return r||null!=e&&t in hr(e)}function er(t){var n=Hn(t);if(!(n in i.prototype))return!1;var r=e[n];if(t===r)return!0;var o=Ba(r);return!!o&&t===o[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&Ia>=t}function rr(t){return t===t&&!qi(t)}function ir(t,e){var n=t[1],r=e[1],i=n|r,o=L>i,a=r==L&&n==I||r==L&&n==F&&t[7].length<=e[8]||r==(L|F)&&n==I;if(!o&&!a)return t;r&R&&(t[2]=e[2],i|=n&R?0:P);var s=e[3];if(s){var u=t[3];t[3]=u?un(u,s,e[4]):te(s),t[4]=u?E(t[3],V):te(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?cn(u,s,e[6]):te(s),t[6]=u?E(t[5],V):te(e[6])),s=e[7],s&&(t[7]=te(s)),r&L&&(t[8]=null==t[8]?e[8]:Aa(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function or(t,e){return t===k?e:Cs(t,e,or)}function ar(t,e){t=hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function sr(t,e){var n={};return Ce(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function ur(t,e){for(var n=t.length,r=Aa(e.length,n),i=te(t);r--;){var o=e[r];t[r]=$n(o,n)?i[o]:k}return t}function cr(t){for(var e=to(t),n=e.length,r=n&&t.length,i=!!r&&nr(r)&&(Rs(t)||xi(t)),o=-1,a=[];++o<n;){var s=e[o];(i&&$n(s,r)||ea.call(t,s))&&a.push(s)}return a}function lr(t){return null==t?[]:Jn(t)?qi(t)?t:zo(t):oo(t)}function hr(t){return qi(t)?t:zo(t)}function fr(t){if(Rs(t))return t;var e=[];return c(t).replace(Tt,function(t,n,r,i){e.push(r?i.replace(It,"$1"):n||t)}),e}function pr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,te(t.__actions__))}function dr(t,e,n){e=(n?Zn(t,e,n):null==e)?1:_a(ma(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=Bo(va(i/e));i>r;)a[++o]=Qe(t,r,r+=e);return a}function gr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function vr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),Qe(t,0>e?0:e)):[]}function yr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Qe(t,0,0>e?0:e)):[]}function mr(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!0,!0):[]}function br(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!0):[]}function wr(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zn(t,e,n)&&(n=0,r=i),je(t,e,n,r)):[]}function Er(t){return t?t[0]:k}function _r(t,e,n){var r=t?t.length:0;return n&&Zn(t,e,n)&&(e=!1),r?Re(t,e):[]}function Ar(t){var e=t?t.length:0;return e?Re(t,!0):[]}function Sr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?_a(r+n,0):n;else if(n){var i=rn(t,e);return r>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return s(t,e,n||0)}function xr(t){return yr(t,1)}function jr(t){var e=t?t.length:0;return e?t[e-1]:k}function kr(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?_a(r+n,0):Aa(n||0,r-1))+1;else if(n){i=rn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return m(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Tr(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Kn(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)pa.call(e,o,1);return e}function Rr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=Bn(e,n,3);++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return Ge(t,o),r}function Cr(t){return vr(t,1)}function Pr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Zn(t,e,n)&&(e=0,n=r),Qe(t,e,n)):[]}function Ir(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),Qe(t,0,0>e?0:e)):[]}function Or(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Qe(t,0>e?0:e)):[]}function qr(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!1,!0):[]}function Dr(t,e,n){return t&&t.length?en(t,Bn(e,n,3)):[]}function Lr(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Zn(t,e,r)?k:e,e=!1);var o=Bn();return(null!=n||o!==we)&&(n=o(n,r,3)),e&&Kn()==s?_(t,n):Ze(t,n)}function Fr(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){return Jn(t)?(n=_a(t.length,n),!0):void 0});for(var r=Bo(n);++e<n;)r[e]=ue(t,Ke(e));return r}function Ur(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Fr(t);return null==e?i:(e=an(e,n,4),ue(i,function(t){return le(t,e,k,!0)}))}function Mr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Jn(n))var r=r?ce(Ae(r,n),Ae(n,r)):n}return r?Ze(r):[]}function Nr(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Rs(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Br(t){var n=e(t);return n.__chain__=!0,n}function Hr(t,e,n){return e.call(n,t),t}function Kr(t,e,n){return e.call(n,t)}function Wr(){return Br(this)}function Gr(){return new r(this.value(),this.__chain__)}function Vr(t){for(var e,r=this;r instanceof n;){var i=pr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function zr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof i){var n=t;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Kr,args:[e],thisArg:k}),new r(n,this.__chain__)}return this.thru(e)}function Qr(){return this.value()+""}function Xr(){return nn(this.__wrapped__,this.__actions__)}function Yr(t,e,n){var r=Rs(t)?oe:Se;return n&&Zn(t,e,n)&&(e=k),("function"!=typeof e||n!==k)&&(e=Bn(e,n,3)),r(t,e)}function Jr(t,e,n){var r=Rs(t)?se:ke;return e=Bn(e,n,3),r(t,e)}function $r(t,e){return is(t,Me(e))}function Zr(t,e,n,r){var i=t?Ha(t):0;return nr(i)||(t=oo(t),i=t.length),n="number"!=typeof n||r&&Zn(e,n,r)?0:0>n?_a(i+n,0):n||0,"string"==typeof t||!Rs(t)&&Hi(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&Kn(t,e,n)>-1}function ti(t,e,n){var r=Rs(t)?ue:Ue;return e=Bn(e,n,3),r(t,e)}function ei(t,e){return ti(t,qo(e))}function ni(t,e,n){var r=Rs(t)?se:ke;return e=Bn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ri(t,e,n){if(n?Zn(t,e,n):null==e){t=lr(t);var r=t.length;return r>0?t[Ve(0,r-1)]:k}var i=-1,o=zi(t),r=o.length,a=r-1;for(e=Aa(0>e?0:+e||0,r);++i<e;){var s=Ve(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=e,o}function ii(t){return ri(t,Ta)}function oi(t){var e=t?Ha(t):0;return nr(e)?e:Ns(t).length}function ai(t,e,n){var r=Rs(t)?fe:Xe;return n&&Zn(t,e,n)&&(e=k),("function"!=typeof e||n!==k)&&(e=Bn(e,n,3)),r(t,e)}function si(t,e,n){if(null==t)return[];n&&Zn(t,e,n)&&(e=k);var r=-1;e=Bn(e,n,3);var i=Ue(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Ye(i,f)}function ui(t,e,n,r){return null==t?[]:(r&&Zn(e,n,r)&&(n=k),Rs(e)||(e=null==e?[]:[e]),Rs(n)||(n=null==n?[]:[n]),Je(t,e,n))}function ci(t,e){return Jr(t,Me(e))}function li(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Yo(G);var n=t;t=e,e=n}return t=wa(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function hi(t,e,n){return n&&Zn(t,e,n)&&(e=k),e=t&&null==e?t.length:_a(+e||0,0),Fn(t,L,k,k,k,k,e)}function fi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Yo(G);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=k),n}}function pi(t,e,n){function r(){p&&sa(p),c&&sa(c),g=0,c=p=d=k}function i(e,n){n&&sa(n),c=p=d=k,e&&(g=gs(),l=t.apply(f,u),p||c||(u=f=k))}function o(){var t=e-(gs()-h);0>=t||t>e?i(d,c):p=fa(o,t)}function a(){i(y,p)}function s(){if(u=arguments,h=gs(),f=this,d=y&&(p||!m),v===!1)var n=m&&!p;else{c||m||(g=h);var r=v-(h-g),i=0>=r||r>v;i?(c&&(c=sa(c)),g=h,l=t.apply(f,u)):c||(c=fa(a,r))}return i&&p?p=sa(p):p||e===v||(p=fa(o,e)),n&&(i=!0,l=t.apply(f,u)),!i||p||c||(u=f=k),l}var u,c,l,h,f,p,d,g=0,v=!1,y=!0;if("function"!=typeof t)throw new Yo(G);if(e=0>e?0:+e||0,n===!0){var m=!0;y=!1}else qi(n)&&(m=!!n.leading,v="maxWait"in n&&_a(+n.maxWait||0,e),y="trailing"in n?!!n.trailing:y);return s.cancel=r,s}function di(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Yo(G);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new di.Cache,n}function gi(t){if("function"!=typeof t)throw new Yo(G);return function(){return!t.apply(this,arguments)}}function vi(t){return fi(2,t)}function yi(t,e){if("function"!=typeof t)throw new Yo(G);return e=_a(e===k?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=_a(n.length-e,0),o=Bo(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Bo(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function mi(t){if("function"!=typeof t)throw new Yo(G);return function(e){return t.apply(this,e)}}function bi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Yo(G);return n===!1?r=!1:qi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(t,e,{leading:r,maxWait:+e,trailing:i})}function wi(t,e){return e=null==e?To:e,Fn(e,q,k,[t],[])}function Ei(t,e,n,r){return e&&"boolean"!=typeof e&&Zn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?Ee(t,e,an(n,r,1)):Ee(t,e)}function _i(t,e,n){return"function"==typeof e?Ee(t,!0,an(e,n,1)):Ee(t,!0)}function Ai(t,e){return t>e}function Si(t,e){return t>=e}function xi(t){return b(t)&&Jn(t)&&ea.call(t,"callee")&&!la.call(t,"callee")}function ji(t){return t===!0||t===!1||b(t)&&ra.call(t)==X}function ki(t){return b(t)&&ra.call(t)==Y}function Ti(t){return!!t&&1===t.nodeType&&b(t)&&!Ni(t)}function Ri(t){return null==t?!0:Jn(t)&&(Rs(t)||Hi(t)||xi(t)||b(t)&&Oi(t.splice))?!t.length:!Ns(t).length}function Ci(t,e,n,r){n="function"==typeof n?an(n,r,3):k;var i=n?n(t,e):k;return i===k?De(t,e,n):!!i}function Pi(t){return b(t)&&"string"==typeof t.message&&ra.call(t)==J}function Ii(t){return"number"==typeof t&&wa(t)}function Oi(t){return qi(t)&&ra.call(t)==$}function qi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Di(t,e,n,r){return n="function"==typeof n?an(n,r,3):k,Fe(t,Wn(e),n)}function Li(t){return Mi(t)&&t!=+t}function Fi(t){return null==t?!1:Oi(t)?oa.test(ta.call(t)):b(t)&&Lt.test(t)}function Ui(t){return null===t}function Mi(t){return"number"==typeof t||b(t)&&ra.call(t)==tt}function Ni(t){var e;if(!b(t)||ra.call(t)!=et||xi(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ce(t,function(t,e){n=e}),n===k||ea.call(t,n)}function Bi(t){return qi(t)&&ra.call(t)==nt}function Hi(t){return"string"==typeof t||b(t)&&ra.call(t)==it}function Ki(t){return b(t)&&nr(t.length)&&!!Wt[ra.call(t)]}function Wi(t){return t===k}function Gi(t,e){return e>t}function Vi(t,e){return e>=t}function zi(t){var e=t?Ha(t):0;return nr(e)?e?te(t):[]:oo(t)}function Qi(t){return be(t,to(t))}function Xi(t,e,n){var r=Da(t);return n&&Zn(t,e,n)&&(e=k),e?ye(r,e):r}function Yi(t){return Oe(t,to(t))}function Ji(t,e,n){var r=null==t?k:qe(t,fr(e),e+"");return r===k?n:r}function $i(t,e){if(null==t)return!1;var n=ea.call(t,e);if(!n&&!tr(e)){if(e=fr(e),t=1==e.length?t:qe(t,Qe(e,0,-1)),null==t)return!1;e=jr(e),n=ea.call(t,e)}return n||nr(t.length)&&$n(e,t.length)&&(Rs(t)||xi(t))}function Zi(t,e,n){n&&Zn(t,e,n)&&(e=k);for(var r=-1,i=Ns(t),o=i.length,a={};++r<o;){var s=i[r],u=t[s];e?ea.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function to(t){if(null==t)return[];qi(t)||(t=zo(t));var e=t.length;e=e&&nr(e)&&(Rs(t)||xi(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Bo(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&$n(s,e)||"constructor"==s&&(i||!ea.call(t,s))||o.push(s);return o}function eo(t){t=hr(t);for(var e=-1,n=Ns(t),r=n.length,i=Bo(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function no(t,e,n){var r=null==t?k:t[e];return r===k&&(null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:qe(t,Qe(e,0,-1)),r=null==t?k:t[jr(e)]),r=r===k?n:r),Oi(r)?r.call(t):r}function ro(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:fr(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=e[i];qi(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=$n(e[i+1])?[]:{})),s=s[u]}return t}function io(t,e,n,r){var i=Rs(t)||Ki(t);if(e=Bn(e,r,4),null==n)if(i||qi(t)){var o=t.constructor;n=i?Rs(t)?new o:[]:Da(Oi(o)?o.prototype:k)}else n={};return(i?ee:Pe)(t,function(t,r,i){return e(n,t,r,i)}),n}function oo(t){return tn(t,Ns(t))}function ao(t){return tn(t,to(t))}function so(t,e,n){return e=+e||0,n===k?(n=e,e=0):n=+n||0,t>=Aa(e,n)&&t<_a(e,n)}function uo(t,e,n){n&&Zn(t,e,n)&&(e=n=k);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=ja();return Aa(t+o*(e-t+ua("1e-"+((o+"").length-1))),e)}return Ve(t,e)}function co(t){return t=c(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lo(t){return t=c(t),t&&t.replace(Ut,d).replace(Pt,"")}function ho(t,e,n){t=c(t),e+="";var r=t.length;return n=n===k?r:Aa(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=c(t),t&&_t.test(t)?t.replace(wt,g):t}function po(t){return t=c(t),t&&Ct.test(t)?t.replace(Rt,v):t||"(?:)"}function go(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!wa(e))return t;var i=(e-r)/2,o=ma(i),a=va(i);return n=On("",a,n),n.slice(0,o)+t+n}function vo(t,e,n){return(n?Zn(t,e,n):null==e)?e=0:e&&(e=+e),t=wo(t),xa(t,e||(Dt.test(t)?16:10))}function yo(t,e){var n="";if(t=c(t),e=+e,1>e||!t||!wa(e))return n;do e%2&&(n+=t),e=ma(e/2),t+=t;while(e);return n}function mo(t,e,n){return t=c(t),n=null==n?0:Aa(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function bo(t,n,r){var i=e.templateSettings;r&&Zn(t,n,r)&&(n=r=k),t=c(t),n=ve(ye({},r||n),i,ge);var o,a,s=ve(ye({},n.imports),i.imports,ge),u=Ns(s),l=tn(s,u),h=0,f=n.interpolate||Mt,p="__p += '",d=Qo((n.escape||Mt).source+"|"+f.source+"|"+(f===xt?Ot:Mt).source+"|"+(n.evaluate||Mt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Kt+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),p+=t.slice(h,u).replace(Nt,y),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),p+="';\n";var v=n.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(vt,""):p).replace(yt,"$1").replace(mt,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Js(function(){return Wo(u,g+"return "+p).apply(k,l)});if(m.source=p,Pi(m))throw m;return m}function wo(t,e,n){var r=t;return(t=c(t))?(n?Zn(r,e,n):null==e)?t.slice(A(t),S(t)+1):(e+="",t.slice(l(t,e),h(t,e)+1)):t}function Eo(t,e,n){var r=t;return t=c(t),t?(n?Zn(r,e,n):null==e)?t.slice(A(t)):t.slice(l(t,e+"")):t}function _o(t,e,n){var r=t;return t=c(t),t?(n?Zn(r,e,n):null==e)?t.slice(0,S(t)+1):t.slice(0,h(t,e+"")+1):t}function Ao(t,e,n){n&&Zn(t,e,n)&&(e=k);var r=U,i=M;if(null!=e)if(qi(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?c(e.omission):i}else r=+e||0;if(t=c(t),r>=t.length)return t;var a=r-i.length;if(1>a)return i;var s=t.slice(0,a);if(null==o)return s+i;if(Bi(o)){if(t.slice(a).search(o)){var u,l,h=t.slice(0,a);for(o.global||(o=Qo(o.source,(qt.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(t.indexOf(o,a)!=a){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+i}function So(t){return t=c(t),t&&Et.test(t)?t.replace(bt,x):t}function xo(t,e,n){return n&&Zn(t,e,n)&&(e=k),t=c(t),t.match(e||Bt)||[]}function jo(t,e,n){return n&&Zn(t,e,n)&&(e=k),b(t)?Ro(t):we(t,e)}function ko(t){return function(){return t}}function To(t){return t}function Ro(t){return Me(Ee(t,!0))}function Co(t,e){return Ne(t,Ee(e,!0))}function Po(t,e,n){if(null==n){var r=qi(e),i=r?Ns(e):k,o=i&&i.length?Oe(e,i):k;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Oe(e,Ns(e)));var a=!0,s=-1,u=Oi(t),c=o.length;n===!1?a=!1:qi(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],h=e[l];t[l]=h,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),i=r.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,ce([this.value()],arguments))}}(h))}return t}function Io(){return re._=ia,this}function Oo(){}function qo(t){return tr(t)?Ke(t):We(t)}function Do(t){return function(e){return qe(t,fr(e),e+"")}}function Lo(t,e,n){n&&Zn(t,e,n)&&(e=n=k),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=_a(va((e-t)/(n||1)),0),o=Bo(i);++r<i;)o[r]=t,t+=n;return o}function Fo(t,e,n){if(t=ma(t),1>t||!wa(t))return[];var r=-1,i=Bo(Aa(t,Ra));for(e=an(e,n,1);++r<t;)Ra>r?i[r]=e(r):e(r);return i}function Uo(t){var e=++na;return c(t)+e}function Mo(t,e){return(+t||0)+(+e||0)}function No(t,e,n){return n&&Zn(t,e,n)&&(e=k),e=Bn(e,n,3),1==e.length?pe(Rs(t)?t:lr(t),e):$e(t,e)}t=t?ie.defaults(re.Object(),t,ie.pick(re,Ht)):re;var Bo=t.Array,Ho=t.Date,Ko=t.Error,Wo=t.Function,Go=t.Math,Vo=t.Number,zo=t.Object,Qo=t.RegExp,Xo=t.String,Yo=t.TypeError,Jo=Bo.prototype,$o=zo.prototype,Zo=Xo.prototype,ta=Wo.prototype.toString,ea=$o.hasOwnProperty,na=0,ra=$o.toString,ia=re._,oa=Qo("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,sa=t.clearTimeout,ua=t.parseFloat,ca=Go.pow,la=$o.propertyIsEnumerable,ha=Gn(t,"Set"),fa=t.setTimeout,pa=Jo.splice,da=t.Uint8Array,ga=Gn(t,"WeakMap"),va=Go.ceil,ya=Gn(zo,"create"),ma=Go.floor,ba=Gn(Bo,"isArray"),wa=t.isFinite,Ea=Gn(zo,"keys"),_a=Go.max,Aa=Go.min,Sa=Gn(Ho,"now"),xa=t.parseInt,ja=Go.random,ka=Vo.NEGATIVE_INFINITY,Ta=Vo.POSITIVE_INFINITY,Ra=4294967295,Ca=Ra-1,Pa=Ra>>>1,Ia=9007199254740991,Oa=ga&&new ga,qa={};e.support={};e.templateSettings={escape:At,evaluate:St,interpolate:xt,variable:"",imports:{_:e}};var Da=function(){function t(){}return function(e){if(qi(e)){t.prototype=e;var n=new t;t.prototype=k}return n||{}}}(),La=fn(Pe),Fa=fn(Ie,!0),Ua=pn(),Ma=pn(!0),Na=Oa?function(t,e){return Oa.set(t,e),t}:To,Ba=Oa?function(t){return Oa.get(t)}:Oo,Ha=Ke("length"),Ka=function(){var t=0,e=0;return function(n,r){var i=gs(),o=B-(i-e);if(e=i,o>0){if(++t>=N)return n}else t=0;return Na(n,r)}}(),Wa=yi(function(t,e){return b(t)&&Jn(t)?Ae(t,Re(e,!1,!0)):[]}),Ga=_n(),Va=_n(!0),za=yi(function(t){for(var e=t.length,n=e,r=Bo(h),i=Kn(),o=i==s,a=[];n--;){var u=t[n]=Jn(u=t[n])?u:[];r[n]=o&&u.length>=120?gn(n&&u):null}var c=t[0],l=-1,h=c?c.length:0,f=r[0];t:for(;++l<h;)if(u=c[l],(f?Jt(f,u):i(a,u,0))<0){for(var n=e;--n;){var p=r[n];if((p?Jt(p,u):i(t[n],u,0))<0)continue t}f&&f.push(u),a.push(u)}return a}),Qa=yi(function(t,e){e=Re(e);var n=me(t,e);return Ge(t,e.sort(o)),n}),Xa=Ln(),Ya=Ln(!0),Ja=yi(function(t){return Ze(Re(t,!1,!0))}),$a=yi(function(t,e){return Jn(t)?Ae(t,e):[]}),Za=yi(Fr),ts=yi(function(t){var e=t.length,n=e>2?t[e-2]:k,r=e>1?t[e-1]:k;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):k,r=k),t.length=e,Ur(t,n,r)}),es=yi(function(t){return t=Re(t),this.thru(function(e){return Zt(Rs(e)?e:[hr(e)],t)})}),ns=yi(function(t,e){return me(t,Re(e))}),rs=ln(function(t,e,n){ea.call(t,n)?++t[n]:t[n]=1}),is=En(La),os=En(Fa,!0),as=xn(ee,La),ss=xn(ne,Fa),us=ln(function(t,e,n){ea.call(t,n)?t[n].push(e):t[n]=[e]}),cs=ln(function(t,e,n){t[n]=e}),ls=yi(function(t,e,n){var r=-1,i="function"==typeof e,o=tr(e),a=Jn(t)?Bo(t.length):[];return La(t,function(t){var s=i?e:o&&null!=t?t[e]:k;a[++r]=s?s.apply(t,n):Yn(t,e,n)}),a}),hs=ln(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fs=Pn(le,La),ps=Pn(he,Fa),ds=yi(function(t,e){if(null==t)return[];var n=e[2];return n&&Zn(e[0],e[1],n)&&(e.length=1),Je(t,Re(e),[])}),gs=Sa||function(){return(new Ho).getTime()},vs=yi(function(t,e,n){var r=R;if(n.length){var i=E(n,vs.placeholder);r|=q}return Fn(t,r,e,n,i)}),ys=yi(function(t,e){e=e.length?Re(e):Yi(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Fn(t[i],R,t)}return t}),ms=yi(function(t,e,n){var r=R|C;if(n.length){var i=E(n,ms.placeholder);r|=q}return Fn(e,r,t,n,i)}),bs=mn(I),ws=mn(O),Es=yi(function(t,e){return _e(t,1,e)}),_s=yi(function(t,e,n){return _e(t,e,n)}),As=Sn(),Ss=Sn(!0),xs=yi(function(t,e){if(e=Re(e),"function"!=typeof t||!oe(e,u))throw new Yo(G);var n=e.length;return yi(function(r){for(var i=Aa(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),js=Cn(q),ks=Cn(D),Ts=yi(function(t,e){return Fn(t,F,k,k,k,Re(e))}),Rs=ba||function(t){return b(t)&&nr(t.length)&&ra.call(t)==Q},Cs=hn(Be),Ps=hn(function(t,e,n){return n?ve(t,e,n):ye(t,e)}),Is=bn(Ps,de),Os=bn(Cs,or),qs=An(Pe),Ds=An(Ie),Ls=jn(Ua),Fs=jn(Ma),Us=kn(Pe),Ms=kn(Ie),Ns=Ea?function(t){var e=null==t?k:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Jn(t)?cr(t):qi(t)?Ea(t):[]}:cr,Bs=Tn(!0),Hs=Tn(),Ks=yi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(Re(e),Xo);return ar(t,Ae(to(t),e))}var n=an(e[0],e[1],3);return sr(t,function(t,e,r){return!n(t,e,r)})}),Ws=yi(function(t,e){return null==t?{}:"function"==typeof e[0]?sr(t,an(e[0],e[1],3)):ar(t,Re(e))}),Gs=vn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Vs=vn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),zs=Rn(),Qs=Rn(!0),Xs=vn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ys=vn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Js=yi(function(t,e){try{return t.apply(k,e)}catch(n){return Pi(n)?n:new Ko(n)}}),$s=yi(function(t,e){return function(n){return Yn(n,t,e)}}),Zs=yi(function(t,e){return function(n){return Yn(t,n,e)}}),tu=Dn("ceil"),eu=Dn("floor"),nu=wn(Ai,ka),ru=wn(Gi,Ta),iu=Dn("round");return e.prototype=n.prototype,r.prototype=Da(n.prototype),r.prototype.constructor=r,i.prototype=Da(n.prototype),i.prototype.constructor=i,ot.prototype.delete=Vt,ot.prototype.get=zt,ot.prototype.has=Qt,ot.prototype.set=Xt,Yt.prototype.push=$t,di.Cache=ot,e.after=li,e.ary=hi,e.assign=Ps,e.at=ns,e.before=fi,e.bind=vs,e.bindAll=ys,e.bindKey=ms,e.callback=jo,e.chain=Br,e.chunk=dr,e.compact=gr,e.constant=ko,e.countBy=rs,e.create=Xi,e.curry=bs,e.curryRight=ws,e.debounce=pi,e.defaults=Is,e.defaultsDeep=Os,e.defer=Es,e.delay=_s,e.difference=Wa,e.drop=vr,e.dropRight=yr,e.dropRightWhile=mr,e.dropWhile=br,e.fill=wr,e.filter=Jr,e.flatten=_r,e.flattenDeep=Ar,e.flow=As,e.flowRight=Ss,e.forEach=as,e.forEachRight=ss,e.forIn=Ls,e.forInRight=Fs,e.forOwn=Us,e.forOwnRight=Ms,e.functions=Yi,e.groupBy=us,e.indexBy=cs,e.initial=xr,e.intersection=za,e.invert=Zi,e.invoke=ls,e.keys=Ns,e.keysIn=to,e.map=ti,e.mapKeys=Bs,e.mapValues=Hs,e.matches=Ro,e.matchesProperty=Co,e.memoize=di,e.merge=Cs,e.method=$s,e.methodOf=Zs,e.mixin=Po,e.modArgs=xs,e.negate=gi,e.omit=Ks,e.once=vi,e.pairs=eo,e.partial=js,e.partialRight=ks,e.partition=hs,e.pick=Ws,e.pluck=ei,e.property=qo,e.propertyOf=Do,e.pull=Tr,e.pullAt=Qa,e.range=Lo,e.rearg=Ts,e.reject=ni,e.remove=Rr,e.rest=Cr,e.restParam=yi,e.set=ro,e.shuffle=ii,e.slice=Pr,e.sortBy=si,e.sortByAll=ds,e.sortByOrder=ui,e.spread=mi,e.take=Ir,e.takeRight=Or,e.takeRightWhile=qr,e.takeWhile=Dr,e.tap=Hr,e.throttle=bi,e.thru=Kr,e.times=Fo,e.toArray=zi,e.toPlainObject=Qi,e.transform=io,e.union=Ja,e.uniq=Lr,e.unzip=Fr,e.unzipWith=Ur,e.values=oo,e.valuesIn=ao,e.where=ci,e.without=$a,e.wrap=wi,e.xor=Mr,e.zip=Za,e.zipObject=Nr,e.zipWith=ts,e.backflow=Ss,e.collect=ti,e.compose=Ss,e.each=as,e.eachRight=ss,e.extend=Ps,e.iteratee=jo,e.methods=Yi,e.object=Nr,e.select=Jr,e.tail=Cr,e.unique=Lr,Po(e,e),e.add=Mo,e.attempt=Js,e.camelCase=Gs,e.capitalize=co,e.ceil=tu,e.clone=Ei,e.cloneDeep=_i,e.deburr=lo,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=Yr,e.find=is,e.findIndex=Ga,e.findKey=qs,e.findLast=os,e.findLastIndex=Va,e.findLastKey=Ds,e.findWhere=$r,e.first=Er,e.floor=eu,e.get=Ji,e.gt=Ai,e.gte=Si,e.has=$i,e.identity=To,e.includes=Zr,e.indexOf=Sr,e.inRange=so,e.isArguments=xi,e.isArray=Rs,e.isBoolean=ji,e.isDate=ki,e.isElement=Ti,e.isEmpty=Ri,e.isEqual=Ci,e.isError=Pi,e.isFinite=Ii,e.isFunction=Oi,e.isMatch=Di,e.isNaN=Li,e.isNative=Fi,e.isNull=Ui,e.isNumber=Mi,e.isObject=qi,e.isPlainObject=Ni,e.isRegExp=Bi,e.isString=Hi,e.isTypedArray=Ki,e.isUndefined=Wi,e.kebabCase=Vs,e.last=jr,e.lastIndexOf=kr,e.lt=Gi,e.lte=Vi,e.max=nu,e.min=ru,e.noConflict=Io,e.noop=Oo,e.now=gs,e.pad=go,e.padLeft=zs,e.padRight=Qs,e.parseInt=vo,e.random=uo,e.reduce=fs,e.reduceRight=ps,e.repeat=yo,e.result=no,e.round=iu,e.runInContext=j,e.size=oi,e.snakeCase=Xs,e.some=ai,e.sortedIndex=Xa,e.sortedLastIndex=Ya,e.startCase=Ys,e.startsWith=mo,e.sum=No,e.template=bo,e.trim=wo,e.trimLeft=Eo,e.trimRight=_o,e.trunc=Ao,e.unescape=So,e.uniqueId=Uo,e.words=xo,e.all=Yr,e.any=ai,e.contains=Zr,e.eq=Ci,e.detect=is,e.foldl=fs,e.foldr=ps,e.head=Er,e.include=Zr,e.inject=fs,Po(e,function(){var t={};return Pe(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ri,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ri(e,t)}):ri(this.value())},e.VERSION=T,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=null==n?1:_a(ma(n)||0,0);var o=this.clone();return r?o.__takeCount__=Aa(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=W;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:Bn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Me:qo;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(To)},i.prototype.reject=function(t,e){return t=Bn(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new i(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==k&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(Ta)},Pe(i.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=e[a?"take"+("last"==n?"Right":""):n];s&&(e.prototype[n]=function(){var e=a?[1]:arguments,n=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,l=u instanceof i,h=e[0],f=l||Rs(u);f&&o&&"function"==typeof h&&1!=h.length&&(l=f=!1);var p=function(t){return a&&n?s(t,1)[0]:s.apply(k,ce([t],e))},d={func:Kr,args:[p],thisArg:k},g=l&&!c;if(a&&!n)return g?(u=u.clone(),u.__actions__.push(d),t.call(u)):s.call(k,this.value())[0];if(!a&&f){u=g?u:new i(this);var v=t.apply(u,e);return v.__actions__.push(d),new r(v,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Zo:Jo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Pe(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=qa[i]||(qa[i]=[]);o.push({name:n,func:r})}}),qa[In(k,C).name]=[{name:"wrapper",func:k}],i.prototype.clone=w,i.prototype.reverse=Z,i.prototype.value=rt,e.prototype.chain=Wr,e.prototype.commit=Gr,e.prototype.concat=es,e.prototype.plant=Vr,e.prototype.reverse=zr,e.prototype.toString=Qr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Xr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var k,T="3.10.1",R=1,C=2,P=4,I=8,O=16,q=32,D=64,L=128,F=256,U=30,M="...",N=150,B=16,H=200,K=1,W=2,G="Expected a function",V="__lodash_placeholder__",z="[object Arguments]",Q="[object Array]",X="[object Boolean]",Y="[object Date]",J="[object Error]",$="[object Function]",Z="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object WeakMap]",at="[object ArrayBuffer]",st="[object Float32Array]",ut="[object Float64Array]",ct="[object Int8Array]",lt="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",gt="[object Uint32Array]",vt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39|#96);/g,wt=/[&<>"'`]/g,Et=RegExp(bt.source),_t=RegExp(wt.source),At=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,kt=/^\w*$/,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Rt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(Rt.source),Pt=/[\u0300-\u036f\ufe20-\ufe23]/g,It=/\\(\\)?/g,Ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Dt=/^0[xX]/,Lt=/^\[object .+?Constructor\]$/,Ft=/^\d+$/,Ut=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Mt=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,Bt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Ht=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Kt=-1,Wt={};Wt[st]=Wt[ut]=Wt[ct]=Wt[lt]=Wt[ht]=Wt[ft]=Wt[pt]=Wt[dt]=Wt[gt]=!0,Wt[z]=Wt[Q]=Wt[at]=Wt[X]=Wt[Y]=Wt[J]=Wt[$]=Wt[Z]=Wt[tt]=Wt[et]=Wt[nt]=Wt[rt]=Wt[it]=Wt[ot]=!1;var Gt={};Gt[z]=Gt[Q]=Gt[at]=Gt[X]=Gt[Y]=Gt[st]=Gt[ut]=Gt[ct]=Gt[lt]=Gt[ht]=Gt[tt]=Gt[et]=Gt[nt]=Gt[it]=Gt[ft]=Gt[pt]=Gt[dt]=Gt[gt]=!0,Gt[J]=Gt[$]=Gt[Z]=Gt[rt]=Gt[ot]=!1;var Vt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Qt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xt={"function":!0,object:!0},Yt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$t=Xt[typeof e]&&e&&!e.nodeType&&e,Zt=Xt[typeof t]&&t&&!t.nodeType&&t,te=$t&&Zt&&"object"==typeof i&&i&&i.Object&&i,ee=Xt[typeof self]&&self&&self.Object&&self,ne=Xt[typeof window]&&window&&window.Object&&window,re=(Zt&&Zt.exports===$t&&$t,
te||ne!==(this&&this.window)&&ne||ee||this),ie=j();re._=ie,r=function(){return ie}.call(e,n,e,t),!(r!==k&&(t.exports=r))}).call(this)}).call(e,n(37)(t),function(){return this}())},function(t,e,n){(function(t,r){function i(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function a(e,n){if(e=g(e,0>n?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)e[r]=0;return e}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|m(e,n);return t=g(t,r),t.write(e,n),t}function u(e,n){if(t.isBuffer(n))return c(e,n);if(Y(n))return l(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return h(e,n);if(n instanceof ArrayBuffer)return f(e,n)}return n.length?p(e,n):d(e,n)}function c(t,e){var n=0|v(e.length);return t=g(t,n),e.copy(t,0,0,n),t}function l(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function f(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=h(e,new Uint8Array(n)),e}function p(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function d(t,e){var n,r=0;"Buffer"===e.type&&Y(e.data)&&(n=e.data,r=0|v(n.length)),t=g(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function g(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var r=0!==n&&n<=t.poolSize>>>1;return r&&(e.parent=J),e}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function y(e,n){if(!(this instanceof y))return new y(e,n);var r=new t(e,n);return delete r.parent,r}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return K(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return R(this,e,n);case"binary":return C(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function E(t,e,n,r){return z(K(e,t.length-n),t,n,r)}function _(t,e,n,r){return z(W(e),t,n,r)}function A(t,e,n,r){return _(t,e,n,r)}function S(t,e,n,r){return z(V(e),t,n,r)}function x(t,e,n,r){return z(G(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;n>i;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var u,c,l,h;switch(s){case 1:128>o&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(a=h));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return T(r)}function T(t){var e=t.length;if($>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$));return n}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=H(t[o]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function q(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function D(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function F(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function U(t,e,n,r,i){return i||F(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,i){return i||F(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,r,52,8),n+8}function N(t){if(t=B(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return 16>t?"0"+t.toString(16):t.toString(16)}function K(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function G(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(t){return Q.toByteArray(N(t))}function z(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var Q=n(81),X=n(82),Y=n(83);e.Buffer=t,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var J={};t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);a>o&&e[o]===n[o];)++o;return o!==a&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Y(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(i,o),o+=a.length}return i},t.byteLength=m,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):b.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return _(this,t,e,n);case"binary":return A(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,void 0);for(var a=0;o>a;a++)i[a]=this[a+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),X.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),X.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),X.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),X.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||q(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||q(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):L(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);q(this,t,e,n,i-1,-i)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);q(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):L(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||q(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&n>r&&i>n)for(o=a-1;o>=0;o--)e[o+n]=this[o+r];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+n]=this[o+r];else e._set(this.subarray(r,r+a),n);return a},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=K(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(5).Buffer,function(){return this}())},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={serverUrl:"http://tessellate.elasticbeanstalk.com",tokenName:"grout",fbUrl:"https://kyper-tech.firebaseio.com/tessellate",appName:"tessellate",matterOptions:{localServer:!1},aws:{region:"us-east-1",cognito:{poolId:"us-east-1:72a20ffd-c638-48b0-b234-3312b3e64b2e",params:{AuthRoleArn:"arn:aws:iam::823322155619:role/Cognito_TessellateUnauth_Role",UnauthRoleArn:"arn:aws:iam::823322155619:role/Cognito_TessellateAuth_Role"}}}};e.default=n,t.exports=e.default},function(t,e,n){function r(t,e,n){null!==n&&void 0!==n&&m.property.apply(this,arguments)}function i(t,e){t.constructor.prototype[e]||m.memoizedProperty.apply(this,arguments)}function o(t,e,n){e=e||{},r(this,"shape",t.shape),r(this,"api",e.api,!1),r(this,"type",t.type),r(this,"location",t.location||this.location||"body"),r(this,"name",this.name||t.xmlName||t.queryName||t.locationName||n),r(this,"isStreaming",t.streaming||this.isStreaming||!1),r(this,"isComposite",t.isComposite||!1),r(this,"isShape",!0,!1),r(this,"isQueryName",t.queryName?!0:!1,!1),r(this,"isLocationName",t.locationName?!0:!1,!1),e.documentation&&(r(this,"documentation",t.documentation),r(this,"documentationUrl",t.documentationUrl)),t.xmlAttribute&&r(this,"isXmlAttribute",t.xmlAttribute||!1),r(this,"defaultValue",null),this.toWireFormat=function(t){return null===t||void 0===t?"":t},this.toType=function(t){return t}}function a(t){o.apply(this,arguments),r(this,"isComposite",!0),t.flattened&&r(this,"flattened",t.flattened||!1)}function s(t,e){var n=null,s=!this.isShape;a.apply(this,arguments),s&&(r(this,"defaultValue",function(){return{}}),r(this,"members",{}),r(this,"memberNames",[]),r(this,"required",[]),r(this,"isRequired",function(){return!1})),t.members&&(r(this,"members",new y(t.members,e,function(t,n){return o.create(n,e,t)})),i(this,"memberNames",function(){return t.xmlOrder||Object.keys(t.members)})),t.required&&(r(this,"required",t.required),r(this,"isRequired",function(e){if(!n){n={};for(var r=0;r<t.required.length;r++)n[t.required[r]]=!0}return n[e]},!1,!0)),r(this,"resultWrapper",t.resultWrapper||null),t.payload&&r(this,"payload",t.payload),"string"==typeof t.xmlNamespace?r(this,"xmlNamespaceUri",t.xmlNamespace):"object"==typeof t.xmlNamespace&&(r(this,"xmlNamespacePrefix",t.xmlNamespace.prefix),r(this,"xmlNamespaceUri",t.xmlNamespace.uri))}function u(t,e){var n=this,s=!this.isShape;if(a.apply(this,arguments),s&&r(this,"defaultValue",function(){return[]}),t.member&&i(this,"member",function(){return o.create(t.member,e)}),this.flattened){var u=this.name;i(this,"name",function(){return n.member.name||u})}}function c(t,e){var n=!this.isShape;a.apply(this,arguments),n&&(r(this,"defaultValue",function(){return{}}),r(this,"key",o.create({type:"string"},e)),r(this,"value",o.create({type:"string"},e))),t.key&&i(this,"key",function(){return o.create(t.key,e)}),t.value&&i(this,"value",function(){return o.create(t.value,e)})}function l(t){var e=this;if(o.apply(this,arguments),"header"===this.location)r(this,"timestampFormat","rfc822");else if(t.timestampFormat)r(this,"timestampFormat",t.timestampFormat);else if(this.api)if(this.api.timestampFormat)r(this,"timestampFormat",this.api.timestampFormat);else switch(this.api.protocol){case"json":case"rest-json":r(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":r(this,"timestampFormat","iso8601")}this.toType=function(t){return null===t||void 0===t?null:"function"==typeof t.toUTCString?t:"string"==typeof t||"number"==typeof t?m.date.parseTimestamp(t):null},this.toWireFormat=function(t){return m.date.format(t,e.timestampFormat)}}function h(){if(o.apply(this,arguments),this.api)switch(this.api.protocol){case"rest-xml":case"query":case"ec2":this.toType=function(t){return t||""}}}function f(){o.apply(this,arguments),this.toType=function(t){return null===t||void 0===t?null:parseFloat(t)},this.toWireFormat=this.toType}function p(){o.apply(this,arguments),this.toType=function(t){return null===t||void 0===t?null:parseInt(t,10)},this.toWireFormat=this.toType}function d(){o.apply(this,arguments),this.toType=m.base64.decode,this.toWireFormat=m.base64.encode}function g(){d.apply(this,arguments)}function v(){o.apply(this,arguments),this.toType=function(t){return"boolean"==typeof t?t:null===t||void 0===t?null:"true"===t}}var y=n(28),m=n(2);o.normalizedTypes={character:"string","double":"float","long":"integer","short":"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},o.types={structure:s,list:u,map:c,"boolean":v,timestamp:l,"float":f,integer:p,string:h,base64:g,binary:d},o.resolve=function(t,e){if(t.shape){var n=e.api.shapes[t.shape];if(!n)throw new Error("Cannot find shape reference: "+t.shape);return n}return null},o.create=function(t,e,n){if(t.isShape)return t;var r=o.resolve(t,e);if(r){var i=Object.keys(t);if(e.documentation||(i=i.filter(function(t){return!t.match(/documentation/)})),i===["shape"])return r;var a=function(){r.constructor.call(this,t,e,n)};return a.prototype=r,new a}t.type||(t.members?t.type="structure":t.member?t.type="list":t.key?t.type="map":t.type="string");var s=t.type;if(o.normalizedTypes[t.type]&&(t.type=o.normalizedTypes[t.type]),o.types[t.type])return new o.types[t.type](t,e,n);throw new Error("Unrecognized shape type: "+s)},o.shapes={StructureShape:s,ListShape:u,MapShape:c,StringShape:h,BooleanShape:v,Base64Shape:g},t.exports=o},function(t,e,n){function r(t){t.httpRequest.method=t.service.api.operations[t.operation].httpMethod}function i(t){var e=t.service.api.operations[t.operation],n=e.input,r=[t.httpRequest.endpoint.path,e.httpPath].join("/");r=r.replace(/\/+/g,"/");var i={},o=!1;if(c.each(n.members,function(e,n){var a=t.params[e];if(null!==a&&void 0!==a)if("uri"===n.location){var s=new RegExp("\\{"+n.name+"(\\+)?\\}");r=r.replace(s,function(t,e){var n=e?c.uriEscapePath:c.uriEscape;return n(String(a))})}else"querystring"===n.location&&(o=!0,"list"===n.type?i[n.name]=a.map(function(t){return c.uriEscape(String(t))}):"map"===n.type?c.each(a,function(t,e){Array.isArray(e)?i[t]=e.map(function(t){return c.uriEscape(String(t))}):i[t]=c.uriEscape(String(e))}):i[n.name]=c.uriEscape(String(a)))}),o){r+=r.indexOf("?")>=0?"&":"?";var a=[];c.arrayEach(Object.keys(i).sort(),function(t){Array.isArray(i[t])||(i[t]=[i[t]]);for(var e=0;e<i[t].length;e++)a.push(c.uriEscape(String(t))+"="+i[t][e])}),r+=a.join("&")}t.httpRequest.path=r}function o(t){var e=t.service.api.operations[t.operation];c.each(e.input.members,function(e,n){var r=t.params[e];null!==r&&void 0!==r&&("headers"===n.location&&"map"===n.type?c.each(r,function(e,r){t.httpRequest.headers[n.name+e]=r}):"header"===n.location&&(r=n.toWireFormat(r).toString(),t.httpRequest.headers[n.name]=r))})}function a(t){r(t),i(t),o(t)}function s(){}function u(t){var e=t.request,n={},r=t.httpResponse,i=e.service.api.operations[e.operation],o=i.output,a={};c.each(r.headers,function(t,e){a[t.toLowerCase()]=e}),c.each(o.members,function(t,e){var i=(e.name||t).toLowerCase();if("headers"===e.location&&"map"===e.type){n[t]={};var o=e.isLocationName?e.name:"",s=new RegExp("^"+o+"(.+)","i");c.each(r.headers,function(e,r){var i=e.match(s);null!==i&&(n[t][i[1]]=r)})}else"header"===e.location?void 0!==a[i]&&(n[t]=a[i]):"statusCode"===e.location&&(n[t]=parseInt(r.statusCode,10))}),t.data=n}var c=n(2);t.exports={buildRequest:a,extractError:s,extractData:u}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&j(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),g=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(j(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return l(n)}var y="",m=!1,w=["{","}"];if(d(n)&&(m=!0,w=["[","]"]),j(n)){var E=n.name?": "+n.name:"";y=" [Function"+E+"]"}if(_(n)&&(y=" "+RegExp.prototype.toString.call(n)),S(n)&&(y=" "+Date.prototype.toUTCString.call(n)),x(n)&&(y=" "+l(n)),0===a.length&&(!m||0==n.length))return w[0]+y+w[1];if(0>r)return _(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var A;return A=m?h(t,n,r,g,a):a.map(function(e){return f(t,n,r,g,e,m)}),t.seen.pop(),p(A,y,w)}function c(t,e){if(E(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i){for(var o=[],a=0,s=e.length;s>a;++a)P(e,String(a))?o.push(f(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),E(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function E(t){return void 0===t}function _(t){return A(t)&&"[object RegExp]"===T(t)}function A(t){return"object"==typeof t&&null!==t}function S(t){return A(t)&&"[object Date]"===T(t)}function x(t){return A(t)&&("[object Error]"===T(t)||t instanceof Error)}function j(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function R(t){return 10>t?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];o>n;s=r[++n])a+=v(s)||!A(s)?" "+s:" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(E(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var O,q={};e.debuglog=function(t){if(E(O)&&(O=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!q[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var n=r.pid;q[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else q[t]=function(){};return q[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=y,e.isNumber=m,e.isString=b,e.isSymbol=w,e.isUndefined=E,e.isRegExp=_,e.isObject=A,e.isDate=S,e.isError=x,e.isFunction=j,e.isPrimitive=k,e.isBuffer=n(106);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(105),e._extend=function(t,e){if(!e||!A(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(14))},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=r(a),u=n(4),c=r(u),l=s.default.utils.request,h=s.default.utils.logger,f=function(){function t(e){if(i(this,t),e&&c.default.isObject(e)&&c.default.has(e,"username"))c.default.extend(this,e);else{if(!e||!c.default.isString(e))throw h.error({description:"AccountData is required to start an AccountAction",func:"constructor",obj:"Account"}),new Error("username is required to start an AccountAction");this.username=e}}return o(t,[{key:"get",value:function(){return h.debug({description:"Account data loaded successfully.",func:"get",obj:"Account"}),l.get(this.accountEndpoint).then(function(e){return h.info({description:"Account data loaded successfully.",response:e,func:"get",obj:"Account"}),new t(e)}).catch(function(t){return h.error({description:"Error getting user.",error:t,func:"get",obj:"Account"}),Promise.reject(t)})}},{key:"update",value:function(e){return h.debug({description:"Update user called.",accountData:e,func:"update",obj:"Account"}),l.put(this.accountEndpoint,e).then(function(e){return h.info({description:"Account updated successfully.",func:"update",obj:"Account"}),new t(e)}).catch(function(t){return h.error({description:"Error updating user.",func:"update",obj:"Account"}),Promise.reject(t)})}},{key:"del",value:function(e){return h.debug({description:"Delete user called.",func:"del",obj:"Account"}),l.del(this.accountEndpoint,e).then(function(e){return h.info({description:"Delete user successful.",response:e,func:"del",obj:"Account"}),new t(e)}).catch(function(t){return h.error({description:"Error deleting user.",accountData:e,error:t,func:"del",obj:"Account"}),Promise.reject(t)})}},{key:"accountEndpoint",get:function(){var t=[s.default.endpoint,"accounts",this.username];c.default.has(this,"app")&&c.default.has(this.app,"name")&&t.splice(1,0,"apps",this.app.name);var e=t.join("/");return h.log({description:"Account Endpoint built.",endpoint:e,func:"accountEndpoint",obj:"Account"}),e}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){function r(){}function i(t,e){if(!e||void 0===t||null===t)return void 0;switch(e.type){case"structure":return o(t,e);case"map":return s(t,e);case"list":return a(t,e);default:return u(t,e)}}function o(t,e){var n={};return c.each(t,function(t,r){var o=e.members[t];if(o){if("body"!==o.location)return;var a=o.isLocationName?o.name:t,s=i(r,o);void 0!==s&&(n[a]=s)}}),n}function a(t,e){var n=[];return c.arrayEach(t,function(t){var r=i(t,e.member);void 0!==r&&n.push(r)}),n}function s(t,e){var n={};return c.each(t,function(t,r){var o=i(r,e.value);void 0!==o&&(n[t]=o)}),n}function u(t,e){return e.toWireFormat(t)}var c=n(2);r.prototype.build=function(t,e){return JSON.stringify(i(t,e))},t.exports=r},function(t,e,n){function r(){}function i(t,e){if(!e||void 0===t)return void 0;switch(e.type){case"structure":return o(t,e);case"map":return s(t,e);case"list":return a(t,e);default:return u(t,e)}}function o(t,e){if(null==t)return void 0;var n={},r=e.members;return c.each(r,function(e,r){var o=r.isLocationName?r.name:e;if(t.hasOwnProperty(o)){var a=t[o],s=i(a,r);void 0!==s&&(n[e]=s)}}),n}function a(t,e){if(null==t)return void 0;var n=[];return c.arrayEach(t,function(t){var r=i(t,e.member);void 0===r?n.push(null):n.push(r)}),n}function s(t,e){if(null==t)return void 0;var n={};return c.each(t,function(t,r){var o=i(r,e.value);void 0===o?n[t]=null:n[t]=o}),n}function u(t,e){return e.toType(t)}var c=n(2);r.prototype.parse=function(t,e){return i(JSON.parse(t),e)},t.exports=r},function(t,e,n){function r(t){var e=t.httpRequest,n=t.service.api,r=n.targetPrefix+"."+n.operations[t.operation].name,i=n.jsonVersion||"1.0",o=n.operations[t.operation].input,a=new s;1===i&&(i="1.0"),e.body=a.build(t.params||{},o),e.headers["Content-Type"]="application/x-amz-json-"+i,e.headers["X-Amz-Target"]=r}function i(t){var e={},n=t.httpResponse;if(e.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof e.code&&(e.code=e.code.split(":")[0]),n.body.length>0){var r=JSON.parse(n.body.toString());(r.__type||r.code)&&(e.code=(r.__type||r.code).split("#").pop()),"RequestEntityTooLarge"===e.code?e.message="Request body must be less than 1 MB":e.message=r.message||r.Message||null}else e.statusCode=n.statusCode,e.message=n.statusCode.toString();t.error=a.error(new Error,e)}function o(t){var e=t.httpResponse.body.toString()||"{}";if(t.request.service.config.convertResponseTypes===!1)t.data=JSON.parse(e);else{var n=t.request.service.api.operations[t.request.operation],r=n.output||{},i=new u;t.data=i.parse(e,r)}}var a=n(2),s=n(11),u=n(12);t.exports={buildRequest:r,extractError:i,extractData:o}},function(t,e){function n(){c=!1,a.length?u=a.concat(u):l=-1,u.length&&r()}function r(){if(!c){var t=setTimeout(n);c=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var a,s=t.exports={},u=[],c=!1,l=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=15},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=n(3),c=r(u),l=n(10),h=r(l),f=c.default.utils.logger,p=function(){function t(e){i(this,t),e&&s.default.isObject(e)&&s.default.has(e,"app")?(this.app=e.app,f.log({description:"Provided app data set to app parameter.",action:this,providedData:e,func:"constructor",obj:"AccountsAction"})):e&&s.default.isString(e)&&(this.app={name:e},f.log({description:"App name provided as string was set.",
action:this,providedData:e,func:"constructor",obj:"AccountsAction"})),f.info({description:"New Accounts action.",action:this,providedData:e,func:"constructor",obj:"AccountsAction"})}return o(t,[{key:"get",value:function(){return f.log({description:"Accounts get called.",func:"get",obj:"AccountsAction"}),c.default.utils.request.get(this.accountsEndpoint).then(function(t){return f.info({description:"Accounts loaded successfully.",func:"get",obj:"AccountsAction"}),t}).catch(function(t){return f.info({description:"Error getting accounts.",error:t,func:"get",obj:"AccountsAction"}),Promise.reject(t.message||"Error getting accounts.")})}},{key:"add",value:function(t){return f.info({description:"Account add called.",accountData:t,func:"add",obj:"AccountsAction"}),this.utils.request.post(this.accountsEndpoint,t).then(function(t){return f.info({description:"Account added successfully.",response:t,newAccount:new h.default(t),func:"add",obj:"AccountsAction"}),new h.default(t)}).catch(function(e){return f.error({description:"Account add called.",error:e,accountData:t,func:"add",obj:"AccountsAction"}),Promise.reject(e.message||"Error adding account.")})}},{key:"search",value:function(t){f.log({description:"Accounts search called.",query:t,func:"search",obj:"AccountsAction"});var e=this.accountsEndpoint+"/search/";return t&&s.default.isString(t)&&(e+=t),t&&""!=t?c.default.utils.request.get(e).then(function(e){return f.log({description:"Accounts search responded.",response:e,query:t,func:"search",obj:"AccountsAction"}),e}).catch(function(e){return f.error({description:"Error searching Accounts.",error:e,query:t,func:"search",obj:"AccountsAction"}),Promise.reject(e.message||"Error searching accounts.")}):(f.log({description:"Null query, returning empty array.",func:"search",obj:"AccountsAction"}),Promise.resolve([]))}},{key:"accountsEndpoint",get:function(){var t=[c.default.endpoint,"accounts"];s.default.has(this,"app")&&s.default.has(this.app,"name")&&t.splice(1,0,"apps",this.app.name);var e=t.join("/");return f.log({description:"Accounts Endpoint built.",endpoint:e,func:"accountsEndpoint",obj:"AccountsAction"}),e}}]),t}();e.default=p,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=n(3),c=r(u),l=c.default.utils.request,h=c.default.utils.logger,f=function(){function t(e){i(this,t),e&&s.default.isObject(e)&&s.default.has(e,"app")?(this.app=e.app,h.log({description:"Provided app data set to app parameter.",action:this,providedData:e,func:"constructor",obj:"DirectoriesAction"})):e&&s.default.isString(e)&&(this.app={name:e},h.log({description:"App name provided as string was set.",action:this,providedData:e,func:"constructor",obj:"DirectoriesAction"})),h.info({description:"New directories action.",action:this,providedData:e,func:"constructor",obj:"DirectoriesAction"})}return o(t,[{key:"get",value:function(){return h.debug({description:"Directories get called.",action:this,func:"get",obj:"DirectoriesAction"}),l.get(this.directoriesEndpoint).then(function(t){return h.info({descrption:"Directories loaded successfully.",response:t,func:"get",obj:"DirectoriesAction"}),t}).catch(function(t){return h.error({descrption:"error getting users",error:t,func:"get",obj:"DirectoriesAction"}),Promise.reject(t)})}},{key:"add",value:function(t){return h.debug({description:"Add directory called.",action:this,appData:t,func:"get",obj:"DirectoriesAction"}),l.post(this.directoriesEndpoint,t).then(function(t){return h.log({description:"Application added successfully.",response:t,func:"add",obj:"DirectoriesAction"}),t}).catch(function(t){return h.error({description:"Error adding group.",error:t,func:"add",obj:"DirectoriesAction"}),Promise.reject(t)})}},{key:"search",value:function(t){var e=this.directoriesEndpoint+"/search/";return t&&s.default.isString(t)&&(e+=t),t&&""!=t?l.get(e).then(function(t){return h.log({description:"Found directories based on search.",response:t,func:"search",obj:"DirectoriesAction"}),t}).catch(function(t){return h.error({description:"Error searching directories.",error:t,func:"search",obj:"DirectoriesAction"}),Promise.reject(t)}):(h.debug({description:"Null query, returning empty array.",func:"search",obj:"DirectoriesAction"}),Promise.resolve([]))}},{key:"directoriesEndpoint",get:function(){var t=[c.default.endpoint,"directories"];s.default.has(this,"app")&&s.default.has(this.app,"name")&&t.splice(1,0,"apps",this.app.name);var e=t.join("/");return h.log({description:"Directories endpoint built.",endpoint:e,func:"directoriesEndpoint",obj:"DirectoriesAction"}),e}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=n(3),c=r(u),l=c.default.utils.request,h=c.default.utils.logger,f=function(){function t(e){i(this,t),e&&s.default.isObject(e)&&s.default.has(e,"app")?(this.app=e.app,h.log({description:"Provided app data set to app parameter.",action:this,providedData:e,func:"constructor",obj:"GroupsAction"})):e&&s.default.isString(e)&&(this.app={name:e},h.log({description:"App name provided as string was set.",action:this,providedData:e,func:"constructor",obj:"GroupsAction"})),h.info({description:"New Groups action.",action:this,providedData:e,func:"constructor",obj:"GroupsAction"})}return o(t,[{key:"get",value:function(){return h.log({description:"Get group called.",func:"get",obj:"GroupsAction"}),l.get(this.groupsEndpoint).then(function(t){return h.info({description:"Groups loaded successfully.",response:t,func:"get",obj:"GroupsAction"}),t}).catch(function(t){return h.info({description:"Error getting groups.",error:t,func:"get",obj:"GroupsAction"}),Promise.reject(t)})}},{key:"add",value:function(t){var e=t;return h.debug({description:"Add group called.",groupData:t,func:"add",obj:"GroupsAction"}),s.default.isString(t)&&(e={name:t}),h.debug({description:"Add group called.",newGroupData:e,func:"add",obj:"GroupsAction"}),l.post(this.groupsEndpoint,e).then(function(t){return h.log({description:"Group added to application successfully.",response:t,func:"add",obj:"GroupsAction"}),t}).catch(function(t){return h.error({description:"Error adding group.",error:t,func:"add",obj:"GroupsAction"}),Promise.reject(t)})}},{key:"search",value:function(t){if(h.debug({description:"Search groups called.",query:t,func:"search",obj:"GroupsAction"}),!t||""==t||!s.default.isString(t))return h.log({description:"Null or invalid query, returning empty array.",func:"search",obj:"GroupsAction"}),Promise.resolve([]);var e=this.groupsEndpoint+"/search/"+t;return h.debug({description:"Search endpoint created.",endpoint:e,func:"search",obj:"GroupsAction"}),l.get(e).then(function(t){return h.log({description:"Found groups based on search.",response:t,func:"search",obj:"GroupsAction"}),t}).catch(function(t){return h.error({description:"Error searching groups.",error:t,func:"search",obj:"GroupsAction"}),Promise.reject(t)})}},{key:"groupsEndpoint",get:function(){var t=[c.default.endpoint,"groups"];s.default.has(this,"app")&&s.default.has(this.app,"name")&&t.splice(1,0,"apps",this.app.name);var e=t.join("/");return h.log({description:"Groups Endpoint built.",endpoint:e,func:"groupsEndpoint",obj:"GroupsAction"}),e}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=r(a),u=n(4),c=r(u),l=s.default.utils.request,h=s.default.utils.logger,f=function(){function t(e){if(i(this,t),e&&c.default.isObject(e)&&(c.default.has(e,"directoryName")||c.default.has(e,"name")))this.name=e.directoryName||e.name,c.default.has(e,"appName")&&(this.appName=e.appName);else{if(!e||!c.default.isString(e))throw h.error({description:"Action data object with name is required to start a Directory Action.",func:"constructor",obj:"Directory"}),new Error("Directory Data object with name is required to start a Directory action.");this.name=e}}return o(t,[{key:"get",value:function(){return l.get(this.directoryEndpoint).then(function(t){return h.info({description:"Directory data loaded successfully.",response:t,func:"get",obj:"Directory"}),t}).catch(function(t){return h.info({description:"Error getting directory.",error:t,func:"get",obj:"Directory"}),Promise.reject(t)})}},{key:"update",value:function(t){return h.debug({description:"Directory updated called.",directoryData:t,func:"update",obj:"Directory"}),s.default.utils.request.put(this.directoryEndpoint,t).then(function(e){return h.info({description:"Directory updated successfully.",directoryData:t,response:e,func:"update",obj:"Directory"}),e}).catch(function(e){return h.error({description:"Error updating directory.",directoryData:t,error:e,func:"update",obj:"Directory"}),Promise.reject(e)})}},{key:"del",value:function(t){return h.debug({description:"Delete directory called.",directoryData:t,func:"del",obj:"Directory"}),l.delete(this.directoryEndpoint,t).then(function(e){return h.info({description:"Directory deleted successfully.",directoryData:t,func:"del",obj:"Directory"}),e}).catch(function(t){return h.error({description:"Error deleting directory.",error:t,func:"del",obj:"Directory"}),Promise.reject(t)})}},{key:"directoryEndpoint",get:function(){var t=[s.default.endpoint,"directories",this.name];c.default.has(this,"app")&&c.default.has(this.app,"name")&&t.splice(1,0,"apps",this.app.name);var e=t.join("/");return h.log({description:"Directory endpoint built.",endpoint:e,func:"directoryEndpoint",obj:"Directory"}),e}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=r(a),u=n(4),c=r(u),l=s.default.utils.request,h=s.default.utils.logger,f=function(){function t(e){if(i(this,t),e&&c.default.isObject(e)&&c.default.has(e,"groupData"))this.name=c.default.isObject(e.groupData)?e.groupData.name:e.groupData,c.default.has(e,"app")&&(this.app=e.app);else{if(!e||!c.default.isString(e))throw h.error({description:"Action data is required to start a Group Action.",func:"constructor",obj:"Group"}),new Error("Username is required to start an Group");this.name=e}}return o(t,[{key:"get",value:function(){return l.get(this.groupEndpoint).then(function(t){return h.info({description:"Group data loaded successfully.",response:t,func:"get",obj:"Group"}),t}).catch(function(t){return h.info({description:"Error getting group.",error:t,func:"get",obj:"Group"}),Promise.reject(t.response.text||t.response)})}},{key:"update",value:function(t){return h.log({description:"Group updated called.",groupData:t,func:"update",obj:"Group"}),s.default.utils.request.put(this.groupEndpoint,t).then(function(e){return h.info({description:"Group updated successfully.",groupData:t,response:e,func:"update",obj:"Group"}),e}).catch(function(e){return h.error({description:"Error updating group.",groupData:t,error:e,func:"update",obj:"Group"}),Promise.reject(e.response.text||e.response)})}},{key:"del",value:function(t){return h.log({description:"Delete group called.",groupData:t,func:"del",obj:"Group"}),l.del(this.groupEndpoint,{}).then(function(e){return h.info({description:"Group deleted successfully.",groupData:t,func:"del",obj:"Group"}),e}).catch(function(e){return h.error({description:"Error deleting group.",error:e,text:e.response.text,groupData:t,func:"del",obj:"Group"}),Promise.reject(e.response.text||e.response)})}},{key:"addAccounts",value:function(t){h.log({description:"Group updated called.",accountsData:t,func:"update",obj:"Group"});var e=t;return c.default.isString(t)&&(e=t.split(",")),c.default.isString(e[0])?(h.error({description:"Accounts array only currently supports account._id not account.username.",accountsData:t,func:"update",obj:"Group"}),Promise.reject({message:"Accounts array only currently supports account._id not account.username."})):(h.log({description:"Updating group with accounts array.",accountsArray:e,func:"update",obj:"Group"}),this.update({accounts:e}).then(function(t){return h.info({description:"Account(s) added to group successfully.",response:t,func:"addAccounts",obj:"Group"}),t}).catch(function(t){return h.error({description:"Error addAccountseting group.",error:t,func:"addAccounts",obj:"Group"}),Promise.reject(t.response.text||t.response)}))}},{key:"groupEndpoint",get:function(){var t=[s.default.endpoint,"groups",this.name];c.default.has(this,"app")&&c.default.has(this.app,"name")&&t.splice(1,0,"apps",this.app.name);var e=t.join("/");return h.log({description:"Group Endpoint built.",endpoint:e,func:"groupEndpoint",obj:"Group"}),e}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;t=c,e=o,n=a,r=!0,s=c=void 0}},u=n(6),c=r(u),l=n(22),h=r(l),f=n(40),p=r(f),d=n(42),g=r(d),v=n(16),y=r(v),m=n(10),b=r(m),w=n(18),E=r(w),_=n(20),A=r(_),S=n(17),x=r(S),j=n(19),k=r(j),T=n(41),R=r(T),C=n(45),P=r(C),I=function(t){function e(){i(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,c.default.appName,c.default.matterOptions)}return o(e,t),a(e,[{key:"App",value:function(t){return this.utils.logger.debug({description:"Application action called.",appName:t,template:new g.default(t),func:"App",obj:"Grout"}),new g.default(t)}},{key:"Template",value:function(t){return this.utils.logger.debug({description:"Template Action called.",templateData:t,template:new P.default(t),func:"Template",obj:"Grout"}),new P.default(t)}},{key:"Account",value:function(t){return this.utils.logger.debug({description:"Account Action called.",userData:t,user:new b.default(t),func:"user",obj:"Grout"}),new b.default(t)}},{key:"User",value:function(t){return this.utils.logger.debug({description:"Account Action called.",userData:t,user:new b.default(t),func:"user",obj:"Grout"}),new b.default(t)}},{key:"Group",value:function(t){return this.utils.logger.debug({description:"Group Action called.",groupData:t,action:new A.default({app:this,groupData:t}),func:"group",obj:"Grout"}),new A.default(t)}},{key:"Directory",value:function(t){return this.utils.logger.debug({description:"Directory Action called.",directoryData:t,action:new k.default(t),func:"directory",obj:"Grout"}),new k.default(t)}},{key:"Apps",get:function(){return this.utils.logger.debug({description:"Apps Action called.",action:new p.default,func:"Apps",obj:"Grout"}),new p.default}},{key:"Templates",get:function(){return this.utils.logger.debug({description:"Templates Action called.",action:new R.default,func:"Templates",obj:"Grout"}),new R.default}},{key:"Accounts",get:function(){return this.utils.logger.debug({description:"Account Action called.",action:new y.default,func:"users",obj:"Grout"}),new y.default}},{key:"Users",get:function(){return this.utils.logger.debug({description:"Accounts Action called.",action:new y.default,func:"Users",obj:"Grout"}),new y.default}},{key:"Groups",get:function(){return this.utils.logger.debug({description:"Groups Action called.",action:new E.default,func:"groups",obj:"Grout"}),new E.default}},{key:"Directories",get:function(){return this.utils.logger.debug({description:"Directories Action called.",action:new x.default,func:"directories",obj:"Grout"}),new x.default}}]),e}(h.default);e.default=I,t.exports=e.default},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(e,r){t.exports=r(n(4),n(52),n(49))}(this,function(t,e,n){"use strict";function o(t,e){return t&&console[t]?console[t].apply(console,e):console.log.apply(console,e)}function a(t){var e="",n={};l.isObject(t)?("debug"==v&&l.has(t,"func")&&(e+=l.has(t,"obj")?"["+t.obj+"."+t.func+"()]\n ":l.has(t,"file")?"["+t.file+" > "+t.func+"()]\n ":"["+t.func+"()]\n "),l.each(l.omit(l.keys(t)),function(r){"func"!=r&&"obj"!=r&&("description"==r||"message"==r?e+=t[r]:l.isString(t[r])?n[r]=t[r]:n[r]=t[r])}),e+="\n"):l.isString(t)&&(e=t);var r=[e,n];return r}function s(t){var e=void 0;if(t&&""!=t)try{e=n(t)}catch(r){throw y.error({description:"Error decoding token.",data:e,error:r,func:"decodeToken",file:"token"}),new Error("Invalid token string.")}return e}function u(t){return new Promise(function(e,n){t.end(function(t,r){return t?(401==t.status&&y.warn({description:"Unauthorized. You must be signed into make this request.",func:"handleResponse"}),t&&t.response?n(t.response.text):(y.warn({description:"Unauthorized. You must be signed into make this request.",error:t,func:"handleResponse"}),n(t))):e(r.body)})})}function c(t){return E.string&&(t=t.set("Authorization","Bearer "+E.string)),t}var l="default"in t?t.default:t;e="default"in e?e.default:e,n="default"in n?n.default:n;var h={envs:{local:{serverUrl:"http://localhost:4000",logLevel:"trace"},dev:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"debug"},stage:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"info"},prod:{serverUrl:"http://tessellate.elasticbeanstalk.com",logLevel:"warn"}},tokenName:"tessellate",tokenDataName:"tessellate-tokenData",tokenUserDataName:"tessellate-currentUser"},f=null,p="prod",d=function(){function e(){return r(this,e),f||(f=this),t.merge(f,h)}return i(e,[{key:"applySettings",value:function(e){t.merge(f,e)}},{key:"serverUrl",get:function(){var e=h.envs[p].serverUrl;if("undefined"!=typeof window&&t.has(window,"location")&&t.has(window.location,"host")&&""!==window.location.host){var n=t.find(h.envs,function(t){return t.serverUrl===window.location.host});n&&(e="")}return e}},{key:"logLevel",get:function(){return h.envs[p].logLevel}},{key:"envName",set:function(t){p=t}},{key:"env",get:function(){return h.envs[p]}}]),e}(),g=new d,v="debug",y={log:function(t){var e=a(t);"production"==g.envName?o("log",e):o("log",e)},info:function(t){var e=a(t);"production"==g.envName?o("info",e):o("info",e)},warn:function(t){var e=a(t);"production"==g.envName?o("warn",e):o("warn",e)},debug:function(t){var e=a(t);"production"==g.envName||o("debug",e)},error:function(t){var e=a(t);"production"==g.envName?o("error",e):o("error",e)}},m={loadCss:function(t){if("undefined"==typeof document)throw y.error({description:"Document does not exsist to load assets into.",func:"loadCss",obj:"dom"}),new Error("Document object is required to load assets.");var e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,document.getElementsByTagName("head")[0].insertBefore(e,document.getElementsByTagName("head")[0].firstChild),y.log({description:"CSS was loaded into document.",element:e,func:"loadCss",obj:"dom"}),e},loadJs:function(t){if("undefined"!=typeof window&&l.has(window,"document")){var e=window.document.createElement("script");return e.src=t,e.type="text/javascript",window.document.getElementsByTagName("head")[0].appendChild(e),y.log({description:"JS was loaded into document.",element:e,func:"loadCss",obj:"dom"}),e}throw y.error({description:"Document does not exsist to load assets into.",func:"loadCss",obj:"dom"}),new Error("Document object is required to load assets.")},asyncLoadJs:function(t){if("undefined"!=typeof window&&l.has(window,"document")){var e=window.document.createElement("script");return e.src=t,e.type="text/javascript",window.document.getElementsByTagName("head")[0].appendChild(e),y.log({description:"JS was loaded into document.",element:e,func:"loadCss",obj:"dom"}),new Promise(function(t){window.setTimeout(t,30)})}throw y.error({description:"Document does not exsist to load assets into.",func:"loadCss",obj:"dom"}),new Error("Document object is required to load assets.")}},b={},w=Object.defineProperties({item:function(t,e){return this.setItem(t,e)},setItem:function(t,e){b[t]=e,this.localExists&&(l.isObject(e)&&(e=JSON.stringify(e)),window.sessionStorage.setItem(t,e))},getItem:function(t){if(b[t])return b[t];if(this.localExists){var e=window.sessionStorage.getItem(t);if(e){var n=!1,r=null;try{r=JSON.parse(e),n=!0}catch(i){n=!1}if(n)return r}return e}return null},removeItem:function(t){if(b[t]&&(b[t]=null),this.localExists)try{window.sessionStorage.removeItem(t)}catch(e){y.error({description:"Error removing item from session storage",error:e,obj:"storage",func:"removeItem"})}},clear:function(){if(b={},this.localExists)try{window.sessionStorage.clear()}catch(t){y.warn({description:"Session storage could not be cleared.",error:t})}}},{localExists:{get:function(){var t="test";if("undefined"==typeof window||"undefined"==typeof window.sessionStorage)return!1;try{return window.sessionStorage.setItem(t,"1"),window.sessionStorage.removeItem(t),!0}catch(e){return y.error({description:"Error saving to session storage",error:e,obj:"storage",func:"localExists"}),!1}},configurable:!0,enumerable:!0}}),E=Object.defineProperties({save:function(t){this.string=t},"delete":function(){w.removeItem(g.tokenName),w.removeItem(g.tokenDataName),y.log({description:"Token was removed.",func:"delete",obj:"token"})}},{string:{get:function(){return w.getItem(g.tokenName)},set:function(t){var e=void 0;if(l.isString(t))e=t;else{if(y.log({description:"Token data is not string.",token:t,func:"string",obj:"token"}),!l.isObject(t)||!l.has(t,"token"))return void y.error({description:"Invalid value set to token.",token:t,func:"string",obj:"token"});e=t.token}y.log({description:"Token was set.",token:t,tokenStr:e,func:"string",obj:"token"}),w.setItem(g.tokenName,e),this.data=n(e)},configurable:!0,enumerable:!0},data:{get:function(){return w.getItem(g.tokenDataName)?w.getItem(g.tokenDataName):s(this.string)},set:function(t){if(l.isString(t)){var e=t;t=s(e),y.info({description:"Token data was set as string. Decoding token.",token:e,tokenData:t,func:"data",obj:"token"})}else y.log({description:"Token data was set.",data:t,func:"data",obj:"token"}),w.setItem(g.tokenDataName,t)},configurable:!0,enumerable:!0}}),_={get:function(t,n){var r=e.get(t);return n&&r.query(n),r=c(r),u(r)},post:function(t,n){var r=e.post(t).send(n);return r=c(r),u(r)},put:function(t,n){var r=e.put(t,n);return r=c(r),u(r)},del:function(t,n){var r=e.put(t,n);return r=c(r),u(r)}},A={},S=function(){function t(e){r(this,t),this.app=e.app?e.app:null,this.redirectUri=e.redirectUri?e.redirectUri:"redirect.html",this.provider=e.provider?e.provider:null}return i(t,[{key:"loadHello",value:function(){return"undefined"==typeof window||window.hello?Promise.reject():m.asyncLoadJs("https://s3.amazonaws.com/kyper-cdn/js/hello.js")}},{key:"helloLoginListener",value:function(){window.hello.on("auth.login",function(t){y.info({description:"User logged in to google.",func:"loadHello",obj:"Google"}),window.hello(t.network).api("/me").then(function(e){var n=e;return n.provider=t.network,_.post(this.endpoint+"/provider",n).then(function(t){return y.log({description:"Provider request successful.",response:t,func:"signup",obj:"GoogleUtil"}),t}).catch(function(t){return y.error({description:"Error requesting login.",error:t,func:"signup",obj:"Matter"}),Promise.reject(t)})})})}},{key:"initHello",value:function(){var t=this;return this.loadHello().then(function(){return _.get(t.app.endpoint+"/providers").then(function(e){y.log({description:"Provider request successful.",response:e,func:"initHello",obj:"ProviderAuth"});var n=e[t.provider];return n?(y.log({description:"Providers config built",providersConfig:e,func:"initHello",obj:"ProviderAuth"}),window.hello.init(e,{redirect_uri:"redirect.html"})):(y.error({description:"Provider is not setup.\nVisit build.kyper.io to enter your client id for "+t.provider,provider:t.provider,clientIds:A,func:"login",obj:"ProviderAuth"}),Promise.reject({message:"Provider is not setup."}))},function(t){return y.error({description:"Error loading hellojs.",error:t,func:"initHello",obj:"ProviderAuth"}),Promise.reject({message:"Error requesting application third party providers."})}).catch(function(t){return y.error({description:"Error loading hellojs.",error:t,func:"initHello",obj:"ProviderAuth"}),Promise.reject({message:"Error loading third party login capability."})})})}},{key:"login",value:function(){var t=this;return this.initHello().then(function(){return window.hello.login(t.provider)},function(t){return y.error({description:"Error initalizing hellojs.",error:t,func:"login",obj:"Matter"}),Promise.reject({message:"Error with third party login."})})}},{key:"signup",value:function(){return this.login()}}]),t}(),x=function(){function t(e,n){if(r(this,t),!e)throw y.error({description:"Application name requires to use Matter.",func:"constructor",obj:"Matter"}),new Error("Application name is required to use Matter");this.name=e,n&&(this.options=n),this.config=g}return i(t,[{key:"signup",value:function(t){if(y.log({description:"Signup called.",signupData:t,func:"signup",obj:"Matter"}),!t||!l.isObject(t)&&!l.isString(t))return y.error({description:"Signup information is required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Login data is required to login."});if(l.isObject(t))return _.post(this.endpoint+"/signup",t).then(function(e){return y.log({description:"Account request successful.",signupData:t,response:e,func:"signup",obj:"Matter"}),l.has(e,"account")?e.account:(y.warn({description:"Account was not contained in signup response.",signupData:t,response:e,func:"signup",obj:"Matter"}),e)}).catch(function(e){return y.error({description:"Error requesting signup.",signupData:t,error:e,func:"signup",obj:"Matter"}),Promise.reject(e)});var e=new S({provider:t,app:this});return e.signup(t).then(function(e){return y.info({description:"Provider signup successful.",provider:t,res:e,func:"signup",obj:"Matter"}),Promise.resolve(e)})}},{key:"login",value:function(t){var e=this;if(!t||!l.isObject(t)&&!l.isString(t))return y.error({description:"Username/Email and Password are required to login",func:"login",obj:"Matter"}),Promise.reject({message:"Login data is required to login."});if(l.isObject(t))return t.password&&t.username?_.put(this.endpoint+"/login",t).then(function(t){if(l.has(t,"data")&&l.has(t.data,"status")&&409==t.data.status)return y.warn({description:"Account not found.",response:t,func:"login",obj:"Matter"}),Promise.reject(t.data);y.log({description:"Successful login.",response:t,func:"login",obj:"Matter"}),l.has(t,"token")&&(e.token.string=t.token);var n={};return l.has(t,"account")?n=t.account:e.token.data?(y.log({description:"User data available from token.",tokenData:e.token.data,type:typeof e.token.data,func:"login",obj:"Matter"}),e.token.data.un?(y.log({description:"Token is AuthRocket format.",func:"login",obj:"Matter"}),n={username:e.token.data.un,name:e.token.data.n||null,authrocketId:e.token.data.uid||null}):(y.log({description:"Token is default format.",func:"login",obj:"Matter"}),n=e.token.data)):(y.error({description:"User data not available from response or token.",func:"login",obj:"Matter"}),n={token:e.token.string}),e.storage.setItem(g.tokenUserDataName,n),n}).catch(function(t){return y.error({description:"Error requesting login.",error:t,status:t.status,func:"login",obj:"Matter"}),(409==t.status||400==t.status)&&(t=t.response.text),Promise.reject(t)}):Promise.reject({message:"Username/Email and Password are required to login"});var n=new S({provider:t,app:this});return n.login().then(function(e){return y.info({description:"Provider login successful.",provider:t,res:e,func:"login",obj:"Matter"}),Promise.resolve(e)})}},{key:"logout",value:function(){var t=this;return this.isLoggedIn?_.put(this.endpoint+"/logout").then(function(e){return y.log({description:"Logout successful.",response:e,func:"logout",obj:"Matter"}),t.currentUser=null,t.token.delete(),e}).catch(function(e){return y.error({description:"Error requesting log out: ",error:e,func:"logout",obj:"Matter"}),t.storage.removeItem(g.tokenUserDataName),t.token.delete(),Promise.reject(e)}):(y.warn({description:"No logged in account to log out.",func:"logout",obj:"Matter"}),Promise.reject({message:"No logged in account to log out."}))}},{key:"getCurrentUser",value:function(){var t=this;return this.currentUser?Promise.resolve(this.currentUser):this.isLoggedIn?_.get(this.endpoint+"/user").then(function(e){return y.log({description:"Current User Request responded.",responseData:e,func:"currentUser",obj:"Matter"}),t.currentUser=e,e}).catch(function(t){return 401==t.status?(y.warn({description:"Called for current user without token.",error:t,func:"currentUser",obj:"Matter"}),E.delete(),Promise.resolve(null)):(y.error({description:"Error requesting current user.",error:t,func:"currentUser",obj:"Matter"}),Promise.reject(t))}):Promise.resolve(null)}},{key:"updateProfile",value:function(t){var e=this;return this.isLoggedIn?_.put(this.endpoint+"/user/"+this.token.data.username,t).then(function(t){return y.log({description:"Update profile request responded.",responseData:t,func:"updateProfile",obj:"Matter"}),e.currentUser=t,t}).catch(function(t){return y.error({description:"Error requesting current user.",error:t,func:"updateProfile",obj:"Matter"}),Promise.reject(t)}):(y.error({description:"No current user profile to update.",func:"updateProfile",obj:"Matter"}),Promise.reject({message:"Must be logged in to update profile."}))}},{key:"changePassword",value:function(t){return this.isLoggedIn?_.put(this.endpoint+"/user/"+this.token.data.username,t).then(function(t){return y.log({description:"Update password request responded.",responseData:t,func:"changePassword",obj:"Matter"
}),t}).catch(function(t){return y.error({description:"Error requesting password change.",error:t,func:"changePassword",obj:"Matter"}),Promise.reject(t)}):(y.error({description:"No current user profile for which to change password.",func:"changePassword",obj:"Matter"}),Promise.reject({message:"Must be logged in to change password."}))}},{key:"recoverPassword",value:function(){return this.isLoggedIn?_.post(this.endpoint+"/accounts/"+this.token.data.username+"/recover").then(function(t){return y.log({description:"Recover password request responded.",responseData:t,func:"recoverPassword",obj:"Matter"}),t}).catch(function(t){return y.error({description:"Error requesting password recovery.",error:t,func:"recoverPassword",obj:"Matter"}),Promise.reject(t)}):(y.error({description:"No current user for which to recover password.",func:"recoverPassword",obj:"Matter"}),Promise.reject({message:"Must be logged in to recover password."}))}},{key:"isInGroup",value:function(t){var e=this;if(!this.isLoggedIn)return y.log({description:"No logged in user to check.",func:"isInGroup",obj:"Matter"}),!1;if(!t||!l.isString(t))return t&&l.isArray(t)?(y.info({description:"Array of groups.",list:t,func:"isInGroup",obj:"Matter"}),this.isInGroups(t)):!1;var n=function(){var n=t,r=n.split(",");if(r.length>1)return y.info({description:"String list of groups.",list:r,func:"isInGroup",obj:"Matter"}),{v:e.isInGroups(r)};var i=e.token.data.groups||[];return y.log({description:"Checking if user is in group.",group:n,userGroups:e.token.data.groups||[],func:"isInGroup",obj:"Matter"}),{v:l.any(i,function(t){return n==t.name})}}();return"object"==typeof n?n.v:void 0}},{key:"isInGroups",value:function(t){var e=this;if(!this.isLoggedIn)return y.log({description:"No logged in user to check.",func:"isInGroups",obj:"Matter"}),!1;if(t&&l.isArray(t))return l.every(l.map(t,function(t){return l.isString(t)?e.isInGroup(t):l.has(t,"name")?e.isInGroup(t.name):(y.error({description:"Invalid group object.",group:t,func:"isInGroups",obj:"Matter"}),!1)}),!0);if(t&&l.isString(t)){var n=t.split(",");return n.length>1?this.isInGroups(n):this.isInGroup(n[0])}return y.error({description:"Invalid groups list.",func:"isInGroups",obj:"Matter"}),!1}},{key:"endpoint",get:function(){l.has(this,"options")&&(this.options.localServer&&(g.envName="local",y.info({description:"LocalServer option was set to true. Now server url is local server.",url:g.serverUrl,func:"endpoint",obj:"Matter"})),this.options.env&&(g.envName=this.options.env,y.info({description:"Environment set based on provided environment.",config:g,func:"endpoint",obj:"Matter"})));var t=g.serverUrl+"/apps/"+this.name;return"tessellate"==this.name&&("undefined"==typeof window||!l.has(window,"location")||-1===window.location.host.indexOf("tessellate")&&-1===window.location.host.indexOf("localhost")||(t=g.serverUrl,y.info({description:"Host is Tessellate Server, serverUrl simplified!",url:g.serverUrl,func:"endpoint",obj:"Matter"}))),y.log({description:"Endpoint created.",url:t,func:"endpoint",obj:"Matter"}),t}},{key:"isLoggedIn",get:function(){return this.token.string?!0:!1}},{key:"currentUser",set:function(t){y.log({description:"Current User set.",user:t,func:"currentUser",obj:"Matter"}),this.storage.setItem(g.tokenUserDataName,t)},get:function(){return this.storage.getItem(g.tokenUserDataName)?this.storage.getItem(g.tokenUserDataName):null}},{key:"storage",get:function(){return w}},{key:"token",get:function(){return E}},{key:"utils",get:function(){return{logger:y,request:_,storage:w,dom:m}}}]),t}();return x})},function(t,e,n){var r=n(1);r.apiLoader=function(t,e){return r.apiLoader.services[t][e]},r.apiLoader.services={},r.XML.Parser=n(76),n(61),"undefined"!=typeof window&&(window.AWS=r),t.exports=r},function(t,e,n){var r=n(1);r.Credentials=r.util.inherit({constructor:function(){if(r.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,1===arguments.length&&"object"==typeof arguments[0]){var t=arguments[0].credentials||arguments[0];this.accessKeyId=t.accessKeyId,this.secretAccessKey=t.secretAccessKey,this.sessionToken=t.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var t=r.util.date.getDate().getTime(),e=new Date(t+1e3*this.expiryWindow);return this.expireTime&&e>this.expireTime?!0:this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(t){var e=this;this.needsRefresh()?this.refresh(function(n){n||(e.expired=!1),t&&t(n)}):t&&t()},refresh:function(t){this.expired=!1,t()}})},function(t,e,n){var r=n(1);r.CredentialProviderChain=r.util.inherit(r.Credentials,{constructor:function(t){t?this.providers=t:this.providers=r.CredentialProviderChain.defaultProviders.slice(0)},resolve:function(t){function e(i,o){if(!i&&o||n===r.length)return void t(i,o);var a=r[n++];o="function"==typeof a?a.call():a,o.get?o.get(function(t){e(t,t?null:o)}):e(null,o)}if(0===this.providers.length)return t(new Error("No providers")),this;var n=0,r=this.providers.slice(0);return e(),this}}),r.CredentialProviderChain.defaultProviders=[]},function(t,e,n){var r=n(1),i=r.util.inherit;r.Endpoint=i({constructor:function(t,e){if(r.util.hideProperties(this,["slashes","auth","hash","search","query"]),"undefined"==typeof t||null===t)throw new Error("Invalid endpoint: "+t);if("string"!=typeof t)return r.util.copy(t);if(!t.match(/^http/)){var n=e&&void 0!==e.sslEnabled?e.sslEnabled:r.config.sslEnabled;t=(n?"https":"http")+"://"+t}r.util.update(this,r.util.urlParse(t)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),r.HttpRequest=i({constructor:function(t,e){t=new r.Endpoint(t),this.method="POST",this.path=t.path||"/",this.headers={},this.body="",this.endpoint=t,this.region=e,this.setUserAgent()},setUserAgent:function(){var t=r.util.isBrowser()?"X-Amz-":"";this.headers[t+"User-Agent"]=r.util.userAgent()},pathname:function(){return this.path.split("?",1)[0]},search:function(){var t=this.path.split("?",2)[1];return t?(t=r.util.queryStringParse(t),r.util.queryParamsToString(t)):""}}),r.HttpResponse=i({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),r.HttpClient=i({}),r.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},function(t,e,n){function r(t,e){t=t||{},e=e||{},e.api=this,t.metadata=t.metadata||{},l(this,"isApi",!0,!1),l(this,"apiVersion",t.metadata.apiVersion),l(this,"endpointPrefix",t.metadata.endpointPrefix),l(this,"signingName",t.metadata.signingName),l(this,"globalEndpoint",t.metadata.globalEndpoint),l(this,"signatureVersion",t.metadata.signatureVersion),l(this,"jsonVersion",t.metadata.jsonVersion),l(this,"targetPrefix",t.metadata.targetPrefix),l(this,"protocol",t.metadata.protocol),l(this,"timestampFormat",t.metadata.timestampFormat),l(this,"xmlNamespaceUri",t.metadata.xmlNamespace),l(this,"abbreviation",t.metadata.serviceAbbreviation),l(this,"fullName",t.metadata.serviceFullName),h(this,"className",function(){var e=t.metadata.serviceAbbreviation||t.metadata.serviceFullName;return e?(e=e.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),"ElasticLoadBalancing"===e&&(e="ELB"),e):null}),l(this,"operations",new i(t.operations,e,function(t,n){return new o(t,n,e)},c.string.lowerFirst)),l(this,"shapes",new i(t.shapes,e,function(t,n){return a.create(n,e)})),l(this,"paginators",new i(t.paginators,e,function(t,n){return new s(t,n,e)})),l(this,"waiters",new i(t.waiters,e,function(t,n){return new u(t,n,e)},c.string.lowerFirst)),e.documentation&&(l(this,"documentation",t.documentation),l(this,"documentationUrl",t.documentationUrl))}var i=n(28),o=n(29),a=n(7),s=n(30),u=n(31),c=n(2),l=c.property,h=c.memoizedProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){o(this,r(t),function(){return n(t,e)})}function i(t,e,n,i){i=i||String;var o=this;for(var a in t)t.hasOwnProperty(a)&&r.call(o,a,t[a],n,i)}var o=n(2).memoizedProperty;t.exports=i},function(t,e,n){function r(t,e,n){n=n||{},a(this,"name",e.name||t),a(this,"api",n.api,!1),e.http=e.http||{},a(this,"httpMethod",e.http.method||"POST"),a(this,"httpPath",e.http.requestUri||"/"),s(this,"input",function(){return e.input?i.create(e.input,n):new i.create({type:"structure"},n)}),s(this,"output",function(){return e.output?i.create(e.output,n):new i.create({type:"structure"},n)}),s(this,"errors",function(){var t=[];if(!e.errors)return null;for(var r=0;r<e.errors.length;r++)t.push(i.create(e.errors[r],n));return t}),s(this,"paginator",function(){return n.api.paginators[t]}),n.documentation&&(a(this,"documentation",e.documentation),a(this,"documentationUrl",e.documentationUrl))}var i=n(7),o=n(2),a=o.property,s=o.memoizedProperty;t.exports=r},function(t,e,n){function r(t,e){i(this,"inputToken",e.input_token),i(this,"limitKey",e.limit_key),i(this,"moreResults",e.more_results),i(this,"outputToken",e.output_token),i(this,"resultKey",e.result_key)}var i=n(2).property;t.exports=r},function(t,e,n){function r(t,e,n){function r(){o(this,"name",t),o(this,"api",n.api,!1),e.operation&&o(this,"operation",i.string.lowerFirst(e.operation));var r=this,a={ignoreErrors:"ignore_errors",successType:"success_type",successValue:"success_value",successPath:"success_path",acceptorType:"acceptor_type",acceptorValue:"acceptor_value",acceptorPath:"acceptor_path",failureType:"failure_type",failureValue:"failure_value",failurePath:"success_path",interval:"interval",maxAttempts:"max_attempts"};Object.keys(a).forEach(function(t){var n=e[a[t]];n&&o(r,t,n)})}if(n=n||{},n.api){var a=null;e.extends?a=n.api.waiters[e.extends]:"__default__"!==t&&(a=n.api.waiters.__default__),a&&(r.prototype=a)}return new r}var i=n(2),o=i.property;t.exports=r},function(t,e,n){function r(t){var e=t.service.api.operations[t.operation],n=t.httpRequest;n.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",n.params={Version:t.service.api.apiVersion,Action:e.name};var r=new u;r.serialize(t.params,e.input,function(t,e){n.params[t]=e}),n.body=s.queryParamsToString(n.params)}function i(t){var e,n=t.httpResponse.body.toString();e=n.match("<UnknownOperationException")?{Code:"UnknownOperation",Message:"Unknown operation "+t.request.operation}:(new a.XML.Parser).parse(n),e.requestId&&!t.requestId&&(t.requestId=e.requestId),e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=s.error(new Error,{code:e.Code,message:e.Message}):t.error=s.error(new Error,{code:t.httpResponse.statusCode,message:null})}function o(t){var e=t.request,n=e.service.api.operations[e.operation],r=n.output||{},i=r;if(i.resultWrapper){var o=c.create({type:"structure"});o.members[i.resultWrapper]=r,o.memberNames=[i.resultWrapper],s.property(r,"name",r.resultWrapper),r=o}var u=new a.XML.Parser;if(r&&r.members&&!r.members._XAMZRequestId){var l=c.create({type:"string"},{api:{protocol:"query"}},"requestId");r.members._XAMZRequestId=l}var h=u.parse(t.httpResponse.body.toString(),r);t.requestId=h._XAMZRequestId||h.requestId,h._XAMZRequestId&&delete h._XAMZRequestId,i.resultWrapper&&h[i.resultWrapper]&&(s.update(h,h[i.resultWrapper]),delete h[i.resultWrapper]),t.data=h}var a=n(1),s=n(2),u=n(63),c=n(7);t.exports={buildRequest:r,extractError:i,extractData:o}},function(t,e,n){function r(t){var e=new l,n=t.service.api.operations[t.operation].input;if(n.payload){var r={},i=n.members[n.payload];if(r=t.params[n.payload],void 0===r)return;"structure"===i.type?t.httpRequest.body=e.build(r,i):t.httpRequest.body=r}else t.httpRequest.body=e.build(t.params,n)}function i(t){u.buildRequest(t),["GET","HEAD","DELETE"].indexOf(t.httpRequest.method)<0&&r(t)}function o(t){c.extractError(t)}function a(t){u.extractData(t);var e=t.request,n=e.service.api.operations[e.operation].output||{};if(n.payload){var r=n.members[n.payload],i=t.httpResponse.body;if(r.isStreaming)t.data[n.payload]=i;else if("structure"===r.type||"list"===r.type){var o=new h;t.data[n.payload]=o.parse(i,r)}else t.data[n.payload]=i.toString()}else{var a=t.data;c.extractData(t),t.data=s.merge(a,t.data)}}var s=n(2),u=n(8),c=n(13),l=n(11),h=n(12);t.exports={buildRequest:i,extractError:o,extractData:a}},function(t,e,n){function r(t){var e=t.service.api.operations[t.operation].input,n=new s.XML.Builder,r=t.params,i=e.payload;if(i){var o=e.members[i];if(r=r[i],void 0===r)return;if("structure"===o.type){var a=o.name;t.httpRequest.body=n.toXML(r,o,a,!0)}else t.httpRequest.body=r}else t.httpRequest.body=n.toXML(r,e,e.name||e.shape||u.string.upperFirst(t.operation)+"Request")}function i(t){c.buildRequest(t),["GET","HEAD"].indexOf(t.httpRequest.method)<0&&r(t)}function o(t){c.extractError(t);var e=(new s.XML.Parser).parse(t.httpResponse.body.toString());e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=u.error(new Error,{code:e.Code,message:e.Message}):t.error=u.error(new Error,{code:t.httpResponse.statusCode,message:null})}function a(t){c.extractData(t);var e,n=t.request,r=t.httpResponse.body,i=n.service.api.operations[n.operation],o=i.output,a=o.payload;if(a){var l=o.members[a];l.isStreaming?t.data[a]=r:"structure"===l.type?(e=new s.XML.Parser,t.data[a]=e.parse(r.toString(),l)):t.data[a]=r.toString()}else if(r.length>0){e=new s.XML.Parser;var h=e.parse(r.toString(),o);u.update(t.data,h)}}var s=n(1),u=n(2),c=n(8);t.exports={buildRequest:i,extractError:o,extractData:a}},function(t,e,n){var r=n(1);r.SequentialExecutor=r.util.inherit({constructor:function(){this._events={}},listeners:function(t){return this._events[t]?this._events[t].slice(0):[]},on:function(t,e){return this._events[t]?this._events[t].push(e):this._events[t]=[e],this},onAsync:function(t,e){return e._isAsync=!0,this.on(t,e)},removeListener:function(t,e){var n=this._events[t];if(n){for(var r=n.length,i=-1,o=0;r>o;++o)n[o]===e&&(i=o);i>-1&&n.splice(i,1)}return this},removeAllListeners:function(t){return t?delete this._events[t]:this._events={},this},emit:function(t,e,n){n||(n=function(){});var r=this.listeners(t),i=r.length;return this.callListeners(r,e,n),i>0},callListeners:function(t,e,n,i){function o(i){return i&&(s=r.util.error(s||new Error,i),a._haltHandlersOnError)?n.call(a,s):void a.callListeners(t,e,n,s)}for(var a=this,s=i||null;t.length>0;){var u=t.shift();if(u._isAsync)return void u.apply(a,e.concat([o]));try{u.apply(a,e)}catch(c){s=r.util.error(s||new Error,c)}if(s&&a._haltHandlersOnError)return void n.call(a,s)}n.call(a,s)},addListeners:function(t){var e=this;return t._events&&(t=t._events),r.util.each(t,function(t,n){"function"==typeof n&&(n=[n]),r.util.arrayEach(n,function(n){e.on(t,n)})}),e},addNamedListener:function(t,e,n){return this[t]=n,this.addListener(e,n),this},addNamedAsyncListener:function(t,e,n){return n._isAsync=!0,this.addNamedListener(t,e,n)},addNamedListeners:function(t){var e=this;return t(function(){e.addNamedListener.apply(e,arguments)},function(){e.addNamedAsyncListener.apply(e,arguments)}),this}}),r.SequentialExecutor.prototype.addListener=r.SequentialExecutor.prototype.on,t.exports=r.SequentialExecutor},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.V3=i(r.Signers.RequestSigner,{addAuthorization:function(t,e){var n=r.util.date.rfc822(e);this.request.headers["X-Amz-Date"]=n,t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(t,n)},authorization:function(t){return"AWS3 AWSAccessKeyId="+t.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(t)},signedHeaders:function(){var t=[];return r.util.arrayEach(this.headersToSign(),function(e){t.push(e.toLowerCase())}),t.sort().join(";")},canonicalHeaders:function(){var t=this.request.headers,e=[];return r.util.arrayEach(this.headersToSign(),function(n){e.push(n.toLowerCase().trim()+":"+String(t[n]).trim())}),e.sort().join("\n")+"\n"},headersToSign:function(){var t=[];return r.util.each(this.request.headers,function(e){("Host"===e||"Content-Encoding"===e||e.match(/^X-Amz/i))&&t.push(e)}),t},signature:function(t){return r.util.crypto.hmac(t.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var t=[];return t.push(this.request.method),t.push("/"),t.push(""),t.push(this.canonicalHeaders()),t.push(this.request.body),r.util.crypto.sha256(t.join("\n"))}}),t.exports=r.Signers.V3},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(e){function r(t){return function(){var n=[],r={update:function(t,r){return e.isBuffer(t)||(t=new e(t,r)),n.push(t),this},digest:function(r){var i=e.concat(n),o=t(i);return n=null,r?o.toString(r):o}};return r}}var i=n(91),o=r(n(87)),a=r(n(89));t.exports=function(t){return"md5"===t?new o:"rmd160"===t?new a:i(t)}}).call(e,n(5).Buffer)},function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function h(t){return null==t}var f=n(98);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(g),y=["'"].concat(v),m=["%","/","?",";","#"].concat(y),b=["/","?","#"],w=255,E=/^[a-z0-9A-Z_-]{0,63}$/,_=/^([a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=n(104);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(a||i&&!x[i])){for(var s=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===s||s>l)&&(s=l)}var h,d;d=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==d&&(h=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(h)),s=-1;for(var c=0;c<m.length;c++){var l=r.indexOf(m[c]);-1!==l&&(-1===s||s>l)&&(s=l)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),c=0,k=v.length;k>c;c++){var T=v[c];if(T&&!T.match(E)){for(var R="",C=0,P=T.length;P>C;C++)R+=T.charCodeAt(C)>127?"x":T[C];if(!R.match(E)){var I=v.slice(0,c),O=v.slice(c+1),q=T.match(_);q&&(I.push(q[1]),O.unshift(q[2])),O.length&&(r="/"+O.join(".")+r),this.hostname=I.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!g){for(var D=this.hostname.split("."),L=[],c=0;c<D.length;++c){var F=D[c];L.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(F):F)}this.hostname=L.join(".")}var U=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+U,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!A[o])for(var c=0,k=y.length;k>c;c++){var N=y[c],B=encodeURIComponent(N);B===N&&(B=escape(N)),r=r.split(N).join(B)}var H=r.indexOf("#");-1!==H&&(this.hash=r.substr(H),r=r.slice(0,H));var K=r.indexOf("?");if(-1!==K?(this.search=r.substr(K),this.query=r.substr(K+1),e&&(this.query=j.parse(this.query)),r=r.slice(0,K)):e&&(this.search="",this.query={}),r&&(this.pathname=r),x[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",F=this.search||"";this.path=U+F}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=j.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||S[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=c||s||n.host&&t.pathname,p=f,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],g=n.protocol&&!x[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),f=f&&(""===i[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!h(t.search)){if(g){n.hostname=n.host=d.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=t.search,n.query=t.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=d.slice(-1)[0],m=(n.host||t.host)&&("."===y||".."===y)||""===y,b=0,w=d.length;w>=0;w--)y=d[w],"."==y?d.splice(w,1):".."===y?(d.splice(w,1),b++):b&&(d.splice(w,1),b--);if(!f&&!p)for(;b--;b)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),m&&"/"!==d.join("/").substr(-1)&&d.push("");var E=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(g){n.hostname=n.host=E?"":d.length?d.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return f=f||n.host&&d.length,f&&!E&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=r(a),u=s.default.utils.request,c=s.default.utils.logger,l=function(){function t(){i(this,t)}return o(t,[{key:"get",value:function(){return c.debug({description:"Apps get called.",action:this,func:"get",obj:"AppsAction"}),u.get(this.appsEndpoint).then(function(t){return c.info({description:"Apps data loaded successfully.",response:t,func:"get",obj:"AppsAction"}),t}).catch(function(t){return c.error({description:"Error getting apps data.",error:t,func:"get",obj:"AppsAction"}),Promise.reject(t)})}},{key:"add",value:function(t){return c.debug({description:"Application add called.",appData:t,func:"add",obj:"AppsAction"}),s.default.utils.request.post(this.appsEndpoint,t).then(function(t){return c.info({description:"Application added successfully.",response:t,func:"add",obj:"AppsAction"}),t}).catch(function(t){return c.error({description:"Error adding app.",error:t,func:"add",obj:"AppsAction"}),Promise.reject(t)})}},{key:"appsEndpoint",get:function(){return s.default.endpoint+"/apps"}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=n(3),c=r(u),l=c.default.utils.logger,h=c.default.utils.request,f=function(){function t(){i(this,t)}return o(t,[{key:"get",value:function(){return l.log({description:"Get template called.",func:"get",obj:"TemplatesAction"}),h.get(this.templatesEndpoint).then(function(t){return l.log({description:"Templates loaded.",response:t,func:"get",obj:"TemplatesAction"}),t}).catch(function(t){return l.error({description:"Error getting templates.",error:t,func:"get",obj:"TemplatesAction"}),Promise.reject(t)})}},{key:"add",value:function(t){return l.log({description:"Add template called.",func:"add",obj:"TemplatesAction"}),h.post(this.templatesEndpoint,t).then(function(t){return l.log({description:"Templates added successfully.",func:"add",obj:"TemplatesAction"}),t}).catch(function(t){return l.error({description:"Error adding template.",error:t,func:"add",obj:"TemplatesAction"}),Promise.reject(t)})}},{key:"search",value:function(t){l.log({description:"Search template called.",query:t,func:"search",obj:"TemplatesAction"});var e=this.templatesEndpoint+"/search/";return t&&s.default.isString(t)&&(e+=t),l.log({description:"Search endpoint created.",endpoint:e,func:"search",obj:"TemplatesAction"}),h.get(e).then(function(t){return l.log({description:"Template(s) found successfully.",response:t,endpoint:e,func:"search",obj:"TemplatesAction"}),t}).catch(function(n){return l.log({description:"Error searching for templates.",query:t,error:n,endpoint:e,func:"search",obj:"TemplatesAction"}),Promise.reject(n)})}},{key:"templatesEndpoint",get:function(){var t=[c.default.endpoint,"templates"];s.default.has(this,"app")&&s.default.has(this.app,"name")&&l.log({description:"Templates action is not currently supported for a specific application.",func:"accountsEndpoint",obj:"AccountsAction"});var e=t.join("/");return l.log({description:"Templates endpoint built.",endpoint:e,func:"templatesEndpoint",obj:"TemplatesAction"}),e}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(6),s=r(a),u=n(4),c=r(u),l=n(3),h=r(l),f=n(18),p=r(f),d=n(20),g=r(d),v=n(17),y=r(v),m=n(19),b=r(m),w=n(16),E=r(w),_=n(10),A=r(_),S=n(44),x=r(S),j=n(43),k=r(j),T=n(46),R=r(T),C=h.default.utils.request,P=h.default.utils.logger,I=function(){function t(e){i(this,t),e&&c.default.isObject(e)?c.default.extend(this,e):e&&c.default.isString(e)&&(this.name=e),R.default&&c.default.has(s.default,"fbUrl")&&c.default.has(this,"name")&&(this.fbRef=new R.default(s.default.fbUrl+this.name))}return o(t,[{key:"get",value:function(){return P.debug({description:"Application get called.",func:"get",obj:"Application"}),C.get(this.appEndpoint).then(function(e){return P.info({description:"Application loaded successfully.",response:e,application:new t(e),func:"get",obj:"Application"}),new t(e)}).catch(function(t){return P.error({description:"Error getting Application.",message:t.response.text,error:t,func:"get",obj:"Application"}),Promise.reject(t.response.text||t.response)})}},{key:"update",value:function(e){return P.debug({description:"Application update called.",func:"update",obj:"Application"}),C.put(this.appEndpoint,e).then(function(e){return P.info({description:"Application updated successfully.",response:e,func:"update",obj:"Application"}),new t(e)}).catch(function(t){return P.error({description:"Error updating application.",error:t,func:"update",obj:"Application"}),Promise.reject(t.response.text||t.response)})}},{key:"addStorage",value:function(){return P.debug({description:"Application add storage called.",application:this,func:"addStorage",obj:"Application"}),C.post(this.appEndpoint+"/storage",{}).then(function(e){return P.info({description:"Storage successfully added to application.",response:e,application:new t(e),func:"addStorage",obj:"Application"}),new t(e)}).catch(function(t){return P.error({description:"Error adding storage to application.",error:t,func:"addStorage",obj:"Application"}),Promise.reject(t.response.text||t.response)})}},{key:"applyTemplate",value:function(){var e=this;return P.error({description:"Applying templates to existing applications is not currently supported.",func:"applyTemplate",obj:"Application"}),C.post(this.appEndpoint,{}).then(function(n){return P.info({description:"Template successfully applied to application.",response:n,application:e,func:"applyTemplate",obj:"Application"}),new t(n)}).catch(function(t){return P.error({description:"Error applying template to application.",error:t,application:e,func:"applyTemplate",obj:"Application"}),Promise.reject(t.response.text||t.response)})}},{key:"File",value:function(t){return P.debug({description:"Applications file action called.",fileData:t,application:this,func:"file",obj:"Application"}),new k.default({app:this,fileData:t})}},{key:"User",value:function(t){return P.debug({description:"Applications user action called.",userData:t,application:this,func:"user",obj:"Application"}),new A.default({app:this,userData:t})}},{key:"Account",value:function(t){return P.debug({description:"Applications account action called.",userData:t,application:this,func:"user",obj:"Application"}),new A.default({app:this,userData:t})}},{key:"Group",value:function(t){return P.debug({description:"Applications group action called.",groupData:t,application:this,func:"group",obj:"Application"}),new g.default({app:this,groupData:t})}},{key:"Directory",value:function(t){return P.debug({description:"Applications directory action called.",directoryData:t,application:this,func:"directory",obj:"Application"}),new b.default({app:this,
directoryData:t})}},{key:"appEndpoint",get:function(){return h.default.endpoint+"/apps/"+this.name}},{key:"Files",get:function(){return P.debug({description:"Applications files action called.",application:this,func:"files",obj:"Application"}),new x.default({app:this})}},{key:"Users",get:function(){return P.debug({description:"Applications users action called.",application:this,func:"user",obj:"Application"}),new E.default({app:this})}},{key:"Accounts",get:function(){return P.debug({description:"Applications account action called.",application:this,func:"user",obj:"Application"}),new E.default({app:this})}},{key:"Groups",get:function(){return P.debug({description:"Applications groups action called.",application:this,func:"groups",obj:"Application"}),new p.default({app:this})}},{key:"Directories",get:function(){return P.debug({description:"Applications directories action called.",application:this,func:"directories",obj:"Application"}),new y.default({app:this})}}]),t}();e.default=I,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){d.default.config.update({credentials:new d.default.CognitoIdentityCredentials({IdentityPoolId:u.default.aws.cognito.poolId}),region:u.default.aws.region})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(6),u=r(s),c=n(3),l=r(c),h=n(4),f=r(h),p=n(23),d=r(p),g=l.default.utils.logger,v=function(){function t(e){if(i(this,t),!(e&&f.default.isObject(e)&&f.default.has(e,"fileData")&&f.default.has(e,"app")))throw e&&!f.default.isObject(e)?(g.error({description:"File data is not an object. File data must be an object that includes path and appName.",func:"constructor",obj:"File"}),new Error("File data must be an object that includes path and appName.")):(g.error({description:"File data that includes path and app is needed to create a File action.",func:"constructor",obj:"File"}),new Error("File data with path and app is needed to create file action."));f.default.extend(this,e.fileData),this.app=e.app,this.pathArray=this.path.split("/"),this.name=f.default.has(e.fileData,"name")?e.fileData.name:this.pathArray[this.pathArray.length-1],this.type="file",g.debug({description:"File object constructed.",file:this,func:"constructor",obj:"File"})}return a(t,[{key:"get",value:function(){var t=this;if(!this.app||!this.app.frontend)return g.log({description:"Application Frontend data not available. Calling applicaiton get.",func:"get",obj:"File"}),this.app.get().then(function(e){return t.app=e,g.log({description:"Application get successful. Getting file.",app:e,func:"get",obj:"File"}),t.get()},function(t){return g.error({description:"Application Frontend data not available. Make sure to call .get().",error:t,func:"get",obj:"File"}),Promise.reject({message:"Front end data is required to get file."})});var e=function(){"undefined"!=typeof d.default.config.credentials&&d.default.config.credentials||(g.debug({description:"AWS creds do not exist, so they are being set.",func:"publish",obj:"File"}),o());var e=new d.default.S3,n={Bucket:t.app.frontend.bucketName,Key:t.path};return t.contentType&&(n.ContentType=t.contentType),g.debug({description:"File get params built.",saveParams:n,file:t,func:"get",obj:"File"}),{v:new Promise(function(t,r){e.getObject(n,function(e,n){return e?(g.error({description:"Error loading file from S3.",error:e,func:"get",obj:"File"}),r(e)):(g.info({description:"File loaded successfully.",fileData:n,func:"get",obj:"File"}),void(f.default.has(n,"Body")?(g.info({description:"File has content.",fileData:n.Body.toString(),func:"get",obj:"File"}),t(n.Body.toString())):t(n)))})})}}();return"object"==typeof e?e.v:void 0}},{key:"open",value:function(){return this.get()}},{key:"publish",value:function(t){var e=this;if(g.debug({description:"File publish called.",file:this,fileData:t,func:"publish",obj:"File"}),!this.app.frontend)return g.error({description:"Application Frontend data not available. Make sure to call .get().",func:"publish",obj:"File"}),Promise.reject({message:"Front end data is required to publish file."});var n=function(){if(!f.default.has(t,["content","path"]))return g.error({description:"File data including path and content required to publish.",func:"publish",obj:"File"}),{v:Promise.reject({message:"File data including path and content required to publish."})};var n={Bucket:e.app.frontend.bucketName,Key:t.path,Body:t.content,ACL:"public-read"};e.contentType&&(n.ContentType=e.contentType),"undefined"!=typeof d.default.config.credentials&&d.default.config.credentials||(g.debug({description:"AWS creds do not exist, so they are being set.",func:"publish",obj:"File"}),o());var r=new d.default.S3;return g.debug({description:"File publish params built.",saveParams:n,fileData:e,func:"publish",obj:"File"}),{v:new Promise(function(t,e){r.putObject(n,function(n,r){n?(g.error({description:"Error saving file to S3.",error:n,func:"publish",obj:"File"}),e(n)):(g.log({description:"File saved successfully.",response:r,func:"publish",obj:"File"}),t(r))})})}}();return"object"==typeof n?n.v:void 0}},{key:"del",value:function(){var t=this;if(!this.app||!this.app.frontend)return g.log({description:"Application Frontend data not available. Calling applicaiton get.",func:"get",obj:"File"}),this.app.get().then(function(e){return t.app=e,g.log({description:"Application get successful. Getting file.",app:e,func:"get",obj:"File"}),t.get()},function(t){return g.error({description:"Application Frontend data not available. Make sure to call .get().",error:t,func:"get",obj:"File"}),Promise.reject({message:"Front end data is required to get file."})});var e=function(){"undefined"!=typeof d.default.config.credentials&&d.default.config.credentials||(g.debug({description:"AWS creds do not exist, so they are being set.",func:"publish",obj:"File"}),o());var e=new d.default.S3,n={Bucket:t.app.frontend.bucketName,Key:t.path};return t.contentType&&(n.ContentType=t.contentType),g.debug({description:"File get params built.",saveParams:n,file:t,func:"get",obj:"File"}),{v:new Promise(function(t,r){e.deleteObject(n,function(e,n){return e?(g.error({description:"Error loading file from S3.",error:e,func:"get",obj:"File"}),r(e)):(g.info({description:"File loaded successfully.",fileData:n,func:"get",obj:"File"}),void(f.default.has(n,"Body")?(g.info({description:"File has content.",fileData:n.Body.toString(),func:"get",obj:"File"}),t(n.Body.toString())):t(n)))})})}}();return"object"==typeof e?e.v:void 0}},{key:"getTypes",value:function(){}},{key:"openWithFirepad",value:function(){}},{key:"getDefaultContent",value:function(){}},{key:"ext",get:function(){var t=/(?:\.([^.]+))?$/;this.ext=t.exec(this.name)[1]}}]),t}();e.default=v,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){y.default.config.update({credentials:new y.default.CognitoIdentityCredentials({IdentityPoolId:h.default.aws.cognito.poolId}),region:h.default.aws.region})}function a(t){var e=t.map(function(t){return s(t)});return u(e)}function s(t){var e;p.default.has(t,"path")?e=t.path.split("/"):(e=t.Key.split("/"),t=p.default.pick(t,"Key"),t.path=t.Key,t.name=t.Key);var n=t;if(1==e.length)return n.name=e[0],p.default.has(n,"type")||(n.type="file"),n.path=e[0],n;var r={};return p.default.each(e,function(i,o,a){o!=a.length-1?(n.name=i,n.path=p.default.take(a,o+1).join("/"),n.type="folder",n.children=[{}],0==o&&(r=n),n=n.children[0]):(n.type="file",n.name=i,n.path=e.join("/"),t.$id&&(n.$id=t.$id))}),r}function u(t){var e=[],n=[];return p.default.each(t,function(r){if(-1==e.indexOf(r.name))e.push(r.name),n.push(r);else{var i=p.default.findWhere(t,{name:r.name});i.children=p.default.union(r.children,i.children),i.children=u(i.children)}}),n}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(6),h=r(l),f=n(4),p=r(f),d=n(3),g=r(d),v=n(23),y=r(v),m=g.default.utils.logger,b=function(){function t(e){if(i(this,t),e&&p.default.isObject(e)&&p.default.has(e,"app"))this.app=e.app;else{if(!e||!p.default.isString(e))throw e&&p.default.isArray(e)?(m.error({description:"Action data object with name is required to start a Files Action.",func:"constructor",obj:"Files"}),new Error("Files Data object with application is required to start a Files action.")):(m.error({description:"Action data object with name is required to start a Files Action.",func:"constructor",obj:"Files"}),new Error("Files Data object with name is required to start a Files action."));this.app={name:e}}m.debug({description:"Files object constructed.",func:"constructor",obj:"Files"})}return c(t,[{key:"publish",value:function(){}},{key:"get",value:function(){var t=this;if(!this.app.frontend||!this.app.frontend.bucketName)return m.warn({description:"Application Frontend data not available. Calling .get().",app:this.app,func:"get",obj:"Files"}),this.app.get().then(function(e){return m.log({description:"Application get returned.",data:e,func:"get",obj:"Files"}),t.app=e,p.default.has(e,"frontend")?t.get():(m.error({description:"Application does not have Frontend to get files from.",func:"get",obj:"Files"}),Promise.reject({message:"Application does not have frontend to get files from."}))},function(t){return m.error({description:"Application Frontend data not available. Make sure to call .get().",error:t,func:"get",obj:"Files"}),Promise.reject({message:"Bucket name required to get objects"})});var e=function(){if("undefined"==typeof y.default)return m.error({description:"AWS is required to load files.",func:"get",obj:"Files"}),{v:Promise.reject({message:"AWS is required to load files."})};"undefined"!=typeof y.default.config.credentials&&y.default.config.credentials||o();var e=new y.default.S3,n={Bucket:t.app.frontend.bucketName};return{v:new Promise(function(t,r){e.listObjects(n,function(e,n){return e?(m.error({description:"Error getting files from S3.",error:e,func:"get",obj:"Files"}),r(e)):(m.info({description:"Files list loaded.",filesData:n,func:"get",obj:"Files"}),t(n.Contents))})})}}();return"object"==typeof e?e.v:void 0}},{key:"add",value:function(){}},{key:"del",value:function(){}},{key:"buildStructure",value:function(){return m.debug({description:"Build Structure called.",func:"buildStructure",obj:"Application"}),this.get().then(function(t){var e=a(t);return m.log({description:"Child struct from array.",childStructure:e,func:"buildStructure",obj:"Application"}),e},function(t){return m.error({description:"Error getting application files.",error:t,func:"buildStructure",obj:"Application"}),Promise.reject({message:"Error getting files.",error:t})})}}]),t}();e.default=b,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=r(a),u=n(4),c=r(u),l=s.default.utils.request,h=s.default.utils.logger,f=function(){function t(e){if(i(this,t),!e||!c.default.isString(e))throw h.error({description:"Template data is required to start a Template action.",func:"constructor",obj:"Template"}),new Error("Template data is required to start a Template action.");this.name=e}return o(t,[{key:"get",value:function(){return h.log({description:"Get template called.",name:this.name,func:"get",obj:"Template"}),l.get(this.templateEndpoint).then(function(t){return h.log({description:"Get template responded.",response:t,func:"get",obj:"Template"}),t}).catch(function(t){return h.error({description:"Error getting template.",error:t,func:"get",obj:"Template"}),Promise.reject(t)})}},{key:"update",value:function(t){return h.log({description:"Update template called.",templateData:t,func:"update",obj:"Template"}),l.put(this.templateEndpoint,t).then(function(e){return h.log({description:"Update template responded.",response:e,templateData:t,func:"update",obj:"Template"}),e}).catch(function(t){return h.error({description:"Error updating template.",error:t,func:"update",obj:"Template"}),Promise.reject(t)})}},{key:"del",value:function(t){return h.log({description:"Delete template called.",templateData:t,func:"del",obj:"Template"}),l.delete(this.endpoint,t).then(function(t){return h.log({description:"Template deleted successfully.",response:t,func:"del",obj:"Template"}),t}).catch(function(t){return h.error({description:"Error deleting template.",error:t,func:"del",obj:"Template"}),Promise.reject(t)})}},{key:"templateEndpoint",get:function(){return s.default.endpoint+"/templates/"+this.name}}]),t}();e.default=f,t.exports=e.default},function(module,exports){/*! @license Firebase v2.3.1
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.ub=function(){return t.uf?t.uf:t.uf=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(t,e){function n(){}n.prototype=e.prototype,t.bh=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Yg=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function na(t,e){var n,r={};for(n in t)r[n]=e.call(void 0,t[n],n,t);return r}function oa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function pa(t){var e,n=0;for(e in t)n++;return n}function qa(t){for(var e in t)return e}function ra(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function sa(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function ta(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ua(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r}function va(t,e){var n=ua(t,e,void 0);return n&&t[n]}function wa(t){for(var e in t)return!1;return!0}function xa(t){var e,n={};for(e in t)n[e]=t[e];return n}function za(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Sd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var r=e.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=e[o],Ca(t,t.Sd?t.Sd.call(e,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),Da(o,n),n.push(":"),Ca(t,t.Sd?t.Sd.call(e,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Va=-1}function La(){this.Va=-1,this.Va=64,this.N=[],this.me=[],this.Wf=[],this.Ld=[],this.Ld[0]=128;for(var t=1;t<this.Va;++t)this.Ld[t]=0;this.de=this.ac=0,this.reset()}function Ma(t,e,n){n||(n=0);var r=t.Wf;if(p(e))for(var i=0;16>i;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}e=t.N[0],n=t.N[1];for(var a,s=t.N[2],u=t.N[3],c=t.N[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.N[0]=t.N[0]+e&4294967295,t.N[1]=t.N[1]+n&4294967295,t.N[2]=t.N[2]+s&4294967295,t.N[3]=t.N[3]+u&4294967295,t.N[4]=t.N[4]+c&4294967295}function Ta(t,e){var n=Ua(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ua(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function Va(t,e){var n=Na(t,e);n>=0&&u.splice.call(t,n,1)}function Wa(t,e,n){return 2>=arguments.length?u.slice.call(t,e):u.slice.call(t,e,n)}function Xa(t,e){t.sort(e||Ya)}function Ya(t,e){return t>e?1:e>t?-1:0}function fb(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=e?db:cb,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var t=0;65>t;t++)cb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),db[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),eb[db[t]]=t,t>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function ib(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jb(t){var e={};return ib(t,function(t,n){e[t]=n}),e}function kb(t){var e=[];return ib(t,function(t,n){ea(n)?Oa(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function lb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Oa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function x(t,e,n,r){var i;if(e>r?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function y(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function A(t,e,r,i){if((!i||n(r))&&!ha(r))throw Error(y(t,e,i)+"must be a valid function.")}function mb(t,e,r){if(n(r)&&(!ia(r)||null===r))throw Error(y(t,e,!0)+"must be a valid context object.")}function nb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function ob(){this.Wd=C}function pb(){}function rb(t,e,n){this.Tf=t,this.Ka=e,this.Kd=n}function vb(){this.tb=[]}function wb(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.Zb();null===n||o.ca(n.Zb())||(t.tb.push(n),n=null),null===n&&(n=new xb(o)),n.add(i)}n&&t.tb.push(n)}function yb(t,e,n){wb(t,n),zb(t,function(t){return t.ca(e)})}function Ab(t,e,n){wb(t,n),zb(t,function(t){return t.contains(e)||e.contains(t)})}function zb(t,e){for(var n=!0,r=0;r<t.tb.length;r++){var i=t.tb[r];if(i)if(i=i.Zb(),e(i)){for(var i=t.tb[r],o=0;o<i.vd.length;o++){var a=i.vd[o];if(null!==a){i.vd[o]=null;var s=a.Vb();Bb&&Cb("event: "+a.toString()),Db(s)}}t.tb[r]=null}else n=!1}n&&(t.tb=[])}function xb(t){this.ra=t,this.vd=[]}function D(t,e,n,r){this.type=t,this.Ja=e,this.Wa=n,this.Ke=r,this.Qd=void 0}function Eb(t){return new D(Fb,t)}function Gb(t,e,n,r){this.ue=e,this.Zd=n,this.Qd=r,this.ud=t}function Hb(t,e,n){this.ue=t,this.error=e,this.path=n}function tb(t,e,n){this.A=t,this.ea=e,this.Ub=n}function Ib(t){return t.ea}function Jb(t){return t.Ub}function Kb(t,e){return e.e()?t.ea&&!t.Ub:sb(t,E(e))}function sb(t,e){return t.ea&&!t.Ub||t.A.Da(e)}function Lb(t){this.gg=t,this.Dd=null}function Mb(t,e){this.Of={},this.fd=new Lb(t),this.ba=e;var n=1e4+2e4*Math.random();setTimeout(q(this.If,this),Math.floor(n))}function Nb(){this.Ec={}}function Ob(t,e,r){n(r)||(r=1),v(t.Ec,e)||(t.Ec[e]=0),t.Ec[e]+=r}function Rb(t){return t=t.toString(),Pb[t]||(Pb[t]=new Nb),Pb[t]}function Sb(t,e){var n=t.toString();return Qb[n]||(Qb[n]=e()),Qb[n]}function F(t,e){this.name=t,this.S=e}function Tb(t,e){return new F(t,e)}function Ub(t,e){return Vb(t.name,e.name)}function Wb(t,e){return Vb(t,e)}function Xb(t,e,n){this.type=Yb,this.source=t,this.path=e,this.Ga=n}function Zb(t,e){this.type=$b,this.source=t,this.path=e}function ac(t,e){this.La=t,this.wa=e?e:bc}function cc(t,e){for(var n,r=t.wa,i=null;!r.e();){if(n=t.La(e,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(t,e,n,r,i){for(this.Ud=i||null,this.Fe=r,this.Pa=[],i=1;!t.e();)if(i=e?n(t.key,e):1,r&&(i*=-1),0>i)t=this.Fe?t.left:t.right;else{if(0===i){this.Pa.push(t);break}this.Pa.push(t),t=this.Fe?t.right:t.left}}function J(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Ud?t.Ud(n.key,n.value):{key:n.key,value:n.value},t.Fe)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function ec(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Ud?t.Ud(e.key,e.value):{key:e.key,value:e.value}}function fc(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=r?r:bc,this.right=null!=i?i:bc}function gc(t){return t.left.e()?t:gc(t.left)}function ic(t){return t.left.e()?bc:(t.left.fa()||t.left.left.fa()||(t=jc(t)),t=t.Y(null,null,null,ic(t.left),null),hc(t))}function hc(t){return t.right.fa()&&!t.left.fa()&&(t=mc(t)),t.left.fa()&&t.left.left.fa()&&(t=kc(t)),t.left.fa()&&t.right.fa()&&(t=lc(t)),t}function jc(t){return t=lc(t),t.right.left.fa()&&(t=t.Y(null,null,null,null,kc(t.right)),t=mc(t),t=lc(t)),t}function mc(t){return t.right.Y(null,null,t.color,t.Y(null,null,!0,null,t.right.left),null)}function kc(t){return t.left.Y(null,null,t.color,null,t.Y(null,null,!0,t.left.right,null))}function lc(t){return t.Y(null,null,!t.color,t.left.Y(null,null,!t.left.color,null,null),t.right.Y(null,null,!t.right.color,null,null))}function nc(){}function oc(t,e){return t&&"object"==typeof t?(K(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function pc(t,e){var n=new qc;return rc(t,new L(""),function(t,r){n.nc(t,sc(r,e))}),n}function sc(t,e){var n,r=t.C().I(),r=oc(r,e);if(t.K()){var i=oc(t.Ca(),e);return i!==t.Ca()||r!==t.C().I()?new tc(i,M(r)):t}return n=t,r!==t.C().I()&&(n=n.ga(new tc(r))),t.P(N,function(t,r){var i=sc(r,e);i!==r&&(n=n.U(t,i))}),n}function uc(){this.wc={}}function vc(t){this.Fc=t,this.Pd="firebase:"}function wc(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vc(e)}}catch(n){}return new uc}function zc(t,e,n,r,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.kb=e,this.hc=n,this.Wg=r,this.Od=i||"",this.Ya=xc.get("host:"+t)||this.host}function Ac(t,e){e!==t.Ya&&(t.Ya=e,"s-"===t.Ya.substr(0,2)&&xc.set("host:"+t.host,t.Ya))}function Bc(t,e,n){if(K("string"==typeof e,"typeof type must == string"),K("object"==typeof n,"typeof params must == object"),e===Cc)e=(t.kb?"wss://":"ws://")+t.Ya+"/.ws?";else{if(e!==Dc)throw Error("Unknown connection type: "+e);e=(t.kb?"https://":"http://")+t.Ya+"/.lp?"}t.host!==t.Ya&&(n.ns=t.hc);var i=[];return r(n,function(t,e){i.push(e+"="+t)}),e+i.join("&")}function K(t,e){if(!t)throw Fc(e)}function Fc(t){return Error("Firebase ("+hb+") INTERNAL ASSERT FAILED: "+t)}function Gc(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{gb();for(var n=eb,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;var s=i<t.length?n[t.charAt(i)]:64;++i;var u=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)e=String.fromCharCode.apply(null,r);else{for(t="",n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,Wa(r,n,n+8192));e=t}}return e}catch(c){Cb("base64Decode failed: ",c)}return null}function Hc(t){var e=Ic(t);t=new La,t.update(e);var e=[],n=8*t.de;56>t.ac?t.update(t.Ld,56-t.ac):t.update(t.Ld,t.Va-(t.ac-56));for(var r=t.Va-1;r>=56;r--)t.me[r]=255&n,n/=256;for(Ma(t,t.me),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)e[n]=t.N[r]>>i&255,++n;return fb(e)}function Jc(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Jc.apply(null,arguments[n]):"object"==typeof arguments[n]?e+B(arguments[n]):e+arguments[n],e+=" ";return e}function Cb(t){if(!0===Kc&&(Kc=!1,null===Bb&&!0===yc.get("logging_enabled")&&Lc(!0)),Bb){var e=Jc.apply(null,arguments);Bb(e)}}function Mc(t){return function(){Cb(t,arguments)}}function Nc(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+Jc.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}}function Oc(t){var e=Jc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function O(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+Jc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}}function Pc(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if(p(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),i="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var c=t[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}t=e.split("."),3===t.length?(n=t[1],r=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:e,port:s,domain:n,Tg:r,kb:o,scheme:a,$c:i}}function Qc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Rc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Vb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Sc(t),r=Sc(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:e>t?-1:1}function Tc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Uc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=B(n[r]),e+=":",e+=Uc(t[n[r]]);return e+"}"}function Vc(t,e){if(t.length<=e)return[t];for(var n=[],r=0;r<t.length;r+=e)r+e>t?n.push(t.substring(r,t.length)):n.push(t.substring(r,r+e));return n}function Wc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Xc(t){K(!Qc(t),"Invalid JSON number");var e,n,r,i;for(0===t?(r=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,r=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),i=[],t=52;t;--t)i.push(r%2?1:0),r=Math.floor(r/2);for(t=11;t;--t)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(e?1:0),i.reverse(),e=i.join(""),n="",t=0;64>t;t+=8)r=parseInt(e.substr(t,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Sc(t){return Yc.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function Db(t){try{t()}catch(e){setTimeout(function(){throw O("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function P(t,e){if(ha(t)){var n=Array.prototype.slice.call(arguments,1).slice();Db(function(){t.apply(null,n)})}}function Ic(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,K(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(t.charCodeAt(r)-56320)),128>i?e[n++]=i:(2048>i?e[n++]=i>>6|192:(65536>i?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function Zc(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e++:2048>r?e+=2:r>=55296&&56319>=r?(e+=4,n++):e+=3}return e}function $c(t){var e={},n={},r={},i="";try{var o=t.split("."),e=nb(Gc(o[0])||""),n=nb(Gc(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{Zg:e,Bc:n,data:r,Qg:i}}function ad(t){return t=$c(t).Bc,"object"==typeof t&&t.hasOwnProperty("iat")?w(t,"iat"):null}function bd(t){t=$c(t);var e=t.Bc;return!!t.Qg&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function cd(t){this.W=t,this.g=t.n.g}function dd(t,e,n,r){var i=[],o=[];return Oa(e,function(e){"child_changed"===e.type&&t.g.Ad(e.Ke,e.Ja)&&o.push(new D("child_moved",e.Ja,e.Wa))}),ed(t,i,"child_removed",e,r,n),ed(t,i,"child_added",e,r,n),ed(t,i,"child_moved",o,r,n),ed(t,i,"child_changed",e,r,n),ed(t,i,Fb,e,r,n),i}function ed(t,e,n,r,i,o){r=Pa(r,function(t){return t.type===n}),Xa(r,q(t.hg,t)),Oa(r,function(n){var r=fd(t,n,o);Oa(i,function(i){i.Kf(n.type)&&e.push(i.createEvent(r,t.W))})})}function fd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Qd=n.rf(e.Wa,e.Ja,t.g)),e}function gd(){this.bb={}}function hd(t,e){var n=e.type,r=e.Wa;K("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),K(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(t.bb,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)t.bb[r]=new D("child_changed",e.Ja,r,i.Ja);else if("child_removed"==n&&"child_added"==o)delete t.bb[r];else if("child_removed"==n&&"child_changed"==o)t.bb[r]=new D("child_removed",i.Ke,r);else if("child_changed"==n&&"child_added"==o)t.bb[r]=new D("child_added",e.Ja,r);else{if("child_changed"!=n||"child_changed"!=o)throw Fc("Illegal combination of changes: "+e+" occurred after "+i);t.bb[r]=new D("child_changed",e.Ja,r,i.Ke)}}else t.bb[r]=e}function id(t,e,n){this.Rb=t,this.pb=e,this.rb=n||null}function jd(t,e,n){this.ha=t,this.pb=e,this.rb=n}function kd(t){this.g=t}function ld(t){this.Be=new kd(t.g),this.g=t.g;var e;t.ma?(e=md(t),e=t.g.Pc(nd(t),e)):e=t.g.Tc(),this.ed=e,t.pa?(e=od(t),t=t.g.Pc(pd(t),e)):t=t.g.Qc(),this.Gc=t}function qd(t){this.sa=new ld(t),this.g=t.g,K(t.ja,"Only valid if limit has been set"),this.ka=t.ka,this.Jb=!rd(t)}function sd(t,e,n,r,i,o){var a;if(t.Jb){var s=td(t.g);a=function(t,e){return s(e,t)}}else a=td(t.g);K(e.Db()==t.ka,"");var u=new F(n,r),c=t.Jb?ud(e,t.g):vd(e,t.g),l=t.sa.matches(u);if(e.Da(n)){for(var h=e.R(n),c=i.ye(t.g,c,t.Jb);null!=c&&(c.name==n||e.Da(c.name));)c=i.ye(t.g,c,t.Jb);return i=null==c?1:a(c,u),l&&!r.e()&&i>=0?(null!=o&&hd(o,new D("child_changed",r,n,h)),e.U(n,r)):(null!=o&&hd(o,new D("child_removed",h,n)),e=e.U(n,C),null!=c&&t.sa.matches(c)?(null!=o&&hd(o,new D("child_added",c.S,c.name)),e.U(c.name,c.S)):e)}return r.e()?e:l&&0<=a(c,u)?(null!=o&&(hd(o,new D("child_removed",c.S,c.name)),hd(o,new D("child_added",r,n))),e.U(n,r).U(c.name,C)):e}function wd(t,e){this.je=t,this.fg=e}function xd(t){this.V=t}function Hd(t,e,n,r,i,o){var a=e.O;if(null!=r.tc(n))return e;var s;if(n.e())K(Ib(e.w()),"If change path is empty, we must have complete server data"),Jb(e.w())?(i=ub(e),r=r.yc(i instanceof R?i:C)):r=r.za(ub(e)),o=t.V.xa(e.O.j(),r,o);else{var u=E(n);if(".priority"==u)K(1==Kd(n),"Can't have a priority with additional path components"),o=a.j(),s=e.w().j(),r=r.ld(n,o,s),o=null!=r?t.V.ga(o,r):a.j();else{var c=H(n);sb(a,u)?(s=e.w().j(),r=r.ld(n,a.j(),s),r=null!=r?a.j().R(u).G(c,r):a.j().R(u)):r=r.xc(u,e.w()),o=null!=r?t.V.G(a.j(),u,r,c,i,o):a.j()}}return Fd(e,o,a.ea||n.e(),t.V.Na())}function Ad(t,e,n,r,i,o,a,s){var u=e.w();if(a=a?t.V:t.V.Wb(),n.e())r=a.xa(u.j(),r,null);else if(a.Na()&&!u.Ub)r=u.j().G(n,r),r=a.xa(u.j(),r,null);else{var c=E(n);if(!Kb(u,n)&&1<Kd(n))return e;var l=H(n);r=u.j().R(c).G(l,r),r=".priority"==c?a.ga(u.j(),r):a.G(u.j(),c,r,l,qb,null)}return u=u.ea||n.e(),e=new Id(e.O,new tb(r,u,a.Na())),Hd(t,e,n,i,new rb(i,e,o),s)}function yd(t,e,n,r,i,o,a){var s=e.O;if(i=new rb(i,e,o),n.e())a=t.V.xa(e.O.j(),r,a),t=Fd(e,a,!0,t.V.Na());else if(o=E(n),".priority"===o)a=t.V.ga(e.O.j(),r),t=Fd(e,a,s.ea,s.Ub);else{n=H(n);var u=s.j().R(o);if(!n.e()){var c=i.qf(o);r=null!=c?".priority"===Ld(n)&&c.Q(n.parent()).e()?c:c.G(n,r):C}u.ca(r)?t=e:(a=t.V.G(s.j(),o,r,n,i,a),t=Fd(e,a,s.ea,t.V.Na()))}return t}function Cd(t,e,n,r,i,o,a){var s=e;return Md(r,function(r,u){var c=n.u(r);sb(e.O,E(c))&&(s=yd(t,s,c,u,i,o,a))}),Md(r,function(r,u){var c=n.u(r);sb(e.O,E(c))||(s=yd(t,s,c,u,i,o,a))}),s}function Nd(t,e){return Md(e,function(e,n){t=t.G(e,n)}),t}function Dd(t,e,n,r,i,o,a,s){if(e.w().j().e()&&!Ib(e.w()))return e;var u=e;n=n.e()?r:Od(Pd,n,r);var c=e.w().j();return n.children.ia(function(n,r){if(c.Da(n)){var l=e.w().j().R(n),l=Nd(l,r);u=Ad(t,u,new L(n),l,i,o,a,s)}}),n.children.ia(function(n,r){var l=!sb(e.w(),n)&&null==r.value;c.Da(n)||l||(l=e.w().j().R(n),l=Nd(l,r),u=Ad(t,u,new L(n),l,i,o,a,s))}),u}function Gd(t,e,n,r,i,o,a){if(null!=i.tc(n))return e;var s=Jb(e.w()),u=e.w();if(null!=r.value){if(n.e()&&u.ea||Kb(u,n))return Ad(t,e,n,u.j().Q(n),i,o,s,a);if(n.e()){var c=Pd;return u.j().P(Qd,function(t,e){c=c.set(new L(t),e)}),Dd(t,e,n,c,i,o,s,a)}return e}return c=Pd,Md(r,function(t){var e=n.u(t);Kb(u,e)&&(c=c.set(t,u.j().Q(e)))}),Dd(t,e,n,c,i,o,s,a)}function Rd(){}function td(t){return q(t.compare,t)}function Ud(t){K(!t.e()&&".priority"!==E(t),"Can't create PathIndex with empty path or .priority key"),this.cc=t}function Wd(){}function Xd(){}function Yd(){}function ae(){this.Tb=this.pa=this.Lb=this.ma=this.ja=!1,this.ka=0,this.Nb="",this.ec=null,this.xb="",this.bc=null,this.vb="",this.g=N}function rd(t){return""===t.Nb?t.ma:"l"===t.Nb}function nd(t){return K(t.ma,"Only valid if start has been set"),t.ec}function md(t){return K(t.ma,"Only valid if start has been set"),t.Lb?t.xb:"[MIN_NAME]"}function pd(t){return K(t.pa,"Only valid if end has been set"),t.bc}function od(t){return K(t.pa,"Only valid if end has been set"),t.Tb?t.vb:"[MAX_NAME]"}function ce(t){var e=new ae;return e.ja=t.ja,e.ka=t.ka,e.ma=t.ma,e.ec=t.ec,e.Lb=t.Lb,e.xb=t.xb,e.pa=t.pa,e.bc=t.bc,e.Tb=t.Tb,e.vb=t.vb,e.g=t.g,e}function de(t,e){var n=ce(t);return n.g=e,n}function ee(t){var e={};if(t.ma&&(e.sp=t.ec,t.Lb&&(e.sn=t.xb)),t.pa&&(e.ep=t.bc,t.Tb&&(e.en=t.vb)),t.ja){e.l=t.ka;var n=t.Nb;""===n&&(n=rd(t)?"l":"r"),e.vf=n}return t.g!==N&&(e.i=t.g.toString()),e}function S(t){return!(t.ma||t.pa||t.ja)}function fe(t){return S(t)&&t.g==N}function ge(t){var e={};if(fe(t))return e;var n;return t.g===N?n="$priority":t.g===$d?n="$value":t.g===Qd?n="$key":(K(t.g instanceof Ud,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.ma&&(e.startAt=B(t.ec),t.Lb&&(e.startAt+=","+B(t.xb))),t.pa&&(e.endAt=B(t.bc),t.Tb&&(e.endAt+=","+B(t.vb))),t.ja&&(rd(t)?e.limitToFirst=t.ka:e.limitToLast=t.ka),e}function he(t,e){this.Bd=t,this.dc=e}function ie(t,e,n){var r=na(t.Bd,function(r,i){var o=w(t.dc,i);if(K(o,"Missing index implementation for "+i),r===Sd){if(o.Ic(e.S)){for(var a=[],s=n.Xb(Tb),u=J(s);u;)u.name!=e.name&&a.push(u),u=J(s);return a.push(e),je(a,td(o))}return Sd}return o=n.get(e.name),a=r,o&&(a=a.remove(new F(e.name,o))),a.Oa(e,e.S)});return new he(r,t.dc)}function ke(t,e,n){var r=na(t.Bd,function(t){if(t===Sd)return t;var r=n.get(e.name);return r?t.remove(new F(e.name,r)):t});return new he(r,t.dc)}function tc(t,e){this.B=t,K(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||C,me(this.aa),this.Cb=null}function R(t,e,n){this.m=t,(this.aa=e)&&me(this.aa),t.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.wb=n,this.Cb=null}function ud(t,e){var n;return n=(n=qe(t,e))?(n=n.Sc())&&n.name:t.m.Sc(),n?new F(n,t.m.get(n)):null}function vd(t,e){var n;return n=(n=qe(t,e))?(n=n.fc())&&n.name:t.m.fc(),n?new F(n,t.m.get(n)):null}function qe(t,e){return e===Qd?null:t.wb.get(e.toString())}function M(t,e){if(null===t)return C;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),K(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new tc(t,M(n));if(t instanceof Array){var i=C,o=t;return r(o,function(t,e){if(v(o,e)&&"."!==e.substring(0,1)){var n=M(t);(n.K()||!n.e())&&(i=i.U(e,n))}}),i.ga(M(n))}var a=[],s=!1,u=t;if(ib(u,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=M(u[t]);e.e()||(s=s||!e.C().e(),a.push(new F(t,e)))}}),0==a.length)return C;var c=je(a,Ub,function(t){return t.name},Wb);if(s){var l=je(a,td(N));return new R(c,M(n),new he({".priority":l},{".priority":N}))}return new R(c,M(n),le)}function se(t){this.count=parseInt(Math.log(t+1)/re,10),this.jf=this.count-1,this.eg=t+1&parseInt(Array(this.count+1).join("1"),2)}function te(t){var e=!(t.eg&1<<t.jf);return t.jf--,e}function je(t,e,n,r){function i(e,r){var o=r-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new fc(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+e,o=i(e,a),u=i(a+1,r),a=t[a],s=n?n(a):a;return new fc(s,a.S,!1,o,u)}t.sort(e);var o=function(e){function r(e,r){var u=s-e,c=s;s-=e;var c=i(u+1,c),u=t[u],l=n?n(u):u,c=new fc(l,u.S,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var c=te(e),l=Math.pow(2,e.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new se(t.length));return null!==o?new ac(r||e,o):new ac(r||e)}function oe(t){return"number"==typeof t?"number:"+Xc(t):"string:"+t}function me(t){if(t.K()){var e=t.I();K("string"==typeof e||"number"==typeof e||"object"==typeof e&&v(e,".sv"),"Priority must be a string or number.")}else K(t===Vd||t.e(),"priority of unexpected type.");K(t===Vd||t.C().e(),"Priority nodes can't have a priority of their own.")}function ue(){R.call(this,new ac(Wb),C,le)}function Id(t,e){this.O=t,this.Yd=e}function Fd(t,e,n,r){return new Id(new tb(e,n,r),t.Yd)}function Jd(t){return t.O.ea?t.O.j():null}function ub(t){return t.Yd.ea?t.Yd.j():null}function ve(t,e){this.W=t;var n=t.n,r=new kd(n.g),n=S(n)?new kd(n.g):n.ja?new qd(n):new ld(n);this.Hf=new xd(n);var i=e.w(),o=e.O,a=r.xa(C,i.j(),null),s=n.xa(C,o.j(),null);this.Ka=new Id(new tb(s,o.ea,n.Na()),new tb(a,i.ea,r.Na())),this.Xa=[],this.lg=new cd(t)}function we(t){return t.W}function ye(t,e){var n=t.Ka.O,r=[];return n.j().K()||n.j().P(N,function(t,e){r.push(new D("child_added",e,t))}),n.ea&&r.push(Eb(n.j())),xe(t,r,n.j(),e)}function xe(t,e,n,r){return dd(t.lg,e,n,r?[r]:t.Xa)}function ze(t,e,n){this.type=Bd,this.source=t,this.path=e,this.children=n}function Ae(t,e){this.f=Mc("p:rest:"),this.F=t,this.Gb=e,this.Aa=null,this.$={}}function Be(t,e){return n(e)?"tag$"+e:(K(fe(t.n),"should have a tag if it's not a default query."),t.path.toString())}function Ce(t,e,n,r){n=n||{},n.format="export",t.Aa&&(n.auth=t.Aa);var i=(t.F.kb?"https://":"http://")+t.F.host+e+"?"+kb(n);t.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){t.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=nb(o.responseText)}catch(n){O("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&O("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function De(t){K(ea(t)&&0<t.length,"Requires a non-empty array"),this.Xf=t,this.Oc={}}function Ee(t,e){K(Ta(t.Xf,function(t){return t===e}),"Unknown event: "+e)}function Ge(){if(De.call(this,["online"]),this.kc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.kc||(t.kc=!0,t.fe("online",!0))},!1),window.addEventListener("offline",function(){t.kc&&(t.kc=!1,t.fe("online",!1))},!1)}}function He(){De.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Ob=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Ob&&(n.Ob=e,n.fe("visible",e))},!1)}}function L(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,r=0;r<this.o.length;r++)0<this.o[r].length&&(this.o[n]=this.o[r],n++);this.o.length=n,this.Z=0}else this.o=t,this.Z=e}function T(t,e){var n=E(t);if(null===n)return e;if(n===E(e))return T(H(t),H(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ie(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Vb(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function E(t){return t.Z>=t.o.length?null:t.o[t.Z]}function Kd(t){return t.o.length-t.Z}function H(t){var e=t.Z;return e<t.o.length&&e++,new L(t.o,e)}function Ld(t){return t.Z<t.o.length?t.o[t.o.length-1]:null}function Je(t,e){this.Qa=t.slice(),this.Ha=Math.max(1,this.Qa.length),this.lf=e;for(var n=0;n<this.Qa.length;n++)this.Ha+=Zc(this.Qa[n]);Ke(this)}function Ke(t){if(768<t.Ha)throw Error(t.lf+"has a key path longer than 768 bytes ("+t.Ha+").");if(32<t.Qa.length)throw Error(t.lf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Le(t))}function Le(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Me(t,e){this.value=t,this.children=e||Ne}function Oe(t){var e=Pd;return r(t,function(t,n){e=e.set(new L(n),t)}),e}function Pe(t,e,n){if(null!=t.value&&n(t.value))return{path:G,value:t.value};if(e.e())return null;var r=E(e);return t=t.children.get(r),null!==t?(e=Pe(t,H(e),n),null!=e?{path:new L(r).u(e.path),value:e.value}:null):null}function Qe(t,e){return Pe(t,e,function(){return!0})}function Od(t,e,n){if(e.e())return n;var r=E(e);return e=Od(t.children.get(r)||Pd,H(e),n),r=e.e()?t.children.remove(r):t.children.Oa(r,e),new Me(t.value,r)}function Re(t,e){return Se(t,G,e)}function Se(t,e,n){var r={};return t.children.ia(function(t,i){r[t]=Se(i,e.u(t),n)}),n(e,t.value,r)}function Te(t,e,n){return Ue(t,e,G,n)}function Ue(t,e,n,r){var i=t.value?r(n,t.value):!1;return i?i:e.e()?null:(i=E(e),(t=t.children.get(i))?Ue(t,H(e),n.u(i),r):null)}function Ve(t,e,n){var r=G;if(!e.e()){var i=!0;t.value&&(i=n(r,t.value)),!0===i&&(i=E(e),(t=t.children.get(i))&&We(t,H(e),r.u(i),n))}}function We(t,e,n,r){if(e.e())return t;t.value&&r(n,t.value);var i=E(e);return(t=t.children.get(i))?We(t,H(e),n.u(i),r):Pd}function Md(t,e){Xe(t,G,e)}function Xe(t,e,n){t.children.ia(function(t,r){
Xe(r,e.u(t),n)}),t.value&&n(e,t.value)}function Ye(t,e){t.children.ia(function(t,n){n.value&&e(t,n.value)})}function Ze(t,e,n){this.type=Ed,this.source=$e,this.path=t,this.Qb=e,this.Vd=n}function af(t,e,n,r){this.we=t,this.pf=e,this.Hb=n,this.af=r,K(!r||e,"Tagged queries must be from server.")}function cf(t){this.X=t}function ef(t,e,n){if(e.e())return new cf(new Me(n));var r=Qe(t.X,e);if(null!=r){var i=r.path,r=r.value;return e=T(i,e),r=r.G(e,n),new cf(t.X.set(i,r))}return t=Od(t.X,e,new Me(n)),new cf(t)}function ff(t,e,n){var r=t;return ib(n,function(t,n){r=ef(r,e.u(t),n)}),r}function gf(t,e){var n=Qe(t.X,e);return null!=n?t.X.get(n.path).Q(T(n.path,e)):null}function hf(t){var e=[],n=t.X.value;return null!=n?n.K()||n.P(N,function(t,n){e.push(new F(t,n))}):t.X.children.ia(function(t,n){null!=n.value&&e.push(new F(t,n.value))}),e}function jf(t,e){if(e.e())return t;var n=gf(t,e);return new cf(null!=n?new Me(n):t.X.subtree(e))}function kf(t,e,n){if(null!=e.value)return n.G(t,e.value);var r=null;return e.children.ia(function(e,i){".priority"===e?(K(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=kf(t.u(e),i,n)}),n.Q(t).e()||null===r||(n=n.G(t.u(".priority"),r)),n}function lf(){this.T=df,this.na=[],this.Mc=-1}function mf(t,e){for(var n=0;n<t.na.length;n++){var r=t.na[n];if(r.kd===e)return r}return null}function nf(t,e){return t.Ga?t.path.contains(e):!!ua(t.children,function(n,r){return t.path.u(r).contains(e)})}function pf(t){return t.visible}function of(t,e,n){for(var r=df,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=T(n,a),r=ef(r,a,o.Ga)):a.contains(n)&&(a=T(a,n),r=ef(r,G,o.Ga.Q(a)));else{if(!o.children)throw Fc("WriteRecord should have .snap or .children");n.contains(a)?(a=T(n,a),r=ff(r,a,o.children)):a.contains(n)&&(a=T(a,n),a.e()?r=ff(r,G,o.children):(o=w(o.children,E(a)))&&(o=o.Q(H(a)),r=ef(r,G,o)))}}}return r}function qf(t,e){this.Mb=t,this.X=e}function rf(){this.ya={}}function tf(t){return Pa(ra(t.ya),function(t){return!S(t.W.n)})}function uf(t,e){if(S(e.n))return sf(t);var n=e.va();return w(t.ya,n)}function sf(t){return va(t.ya,function(t){return S(t.W.n)})||null}function vf(t){this.ta=Pd,this.ib=new lf,this.$e={},this.mc={},this.Nc=t}function wf(t,e,r,i,o){var a=t.ib,s=o;return K(i>a.Mc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.na.push({path:e,Ga:r,kd:i,visible:s}),s&&(a.T=ef(a.T,e,r)),a.Mc=i,o?xf(t,new Xb($e,e,r)):[]}function yf(t,e,n,r){var i=t.ib;return K(r>i.Mc,"Stacking an older merge on top of newer ones"),i.na.push({path:e,children:n,kd:r,visible:!0}),i.T=ff(i.T,e,n),i.Mc=r,n=Oe(n),xf(t,new ze($e,e,n))}function zf(t,e,n){n=n||!1;var r=mf(t.ib,e);if(t.ib.Rd(e)){var i=Pd;return null!=r.Ga?i=i.set(G,!0):ib(r.children,function(t,e){i=i.set(new L(t),e)}),xf(t,new Ze(r.path,i,n))}return[]}function Af(t,e,n){return n=Oe(n),xf(t,new ze(bf,e,n))}function Bf(t,e,n,r){if(r=Cf(t,r),null!=r){var i=Df(r);return r=i.path,i=i.Hb,e=T(r,e),n=new Xb(new af(!1,!0,i,!0),e,n),Ef(t,r,n)}return[]}function Ff(t,e,n,r){if(r=Cf(t,r)){var i=Df(r);return r=i.path,i=i.Hb,e=T(r,e),n=Oe(n),n=new ze(new af(!1,!0,i,!0),e,n),Ef(t,r,n)}return[]}function Jf(t){return Re(t,function(t,e,n){if(e&&null!=sf(e))return[sf(e)];var i=[];return e&&(i=tf(e)),r(n,function(t){i=i.concat(t)}),i})}function Nf(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!S(r.n)){var r=Gf(r),i=t.mc[r];delete t.mc[r],delete t.$e["_"+i]}}}function Lf(t){return S(t.n)&&!fe(t.n)?t.Ib():t}function If(t,e,n){var i=e.path,o=Mf(t,e);if(n=Kf(t,n),e=t.Nc.Xe(Lf(e),o,n.xd,n.H),i=t.ta.subtree(i),o)K(null==sf(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Re(i,function(t,e,n){if(!t.e()&&e&&null!=sf(e))return[we(sf(e))];var i=[];return e&&(i=i.concat(Qa(tf(e),function(t){return t.W}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Nc.ae(Lf(n),Mf(t,n));return e}function Kf(t,e){var n=e.W,r=Mf(t,n);return{xd:function(){return(e.w()||C).hash()},H:function(e){if("ok"===e){if(r){var i=n.path;if(e=Cf(t,r)){var o=Df(e);e=o.path,o=o.Hb,i=T(e,i),i=new Zb(new af(!1,!0,o,!0),i),e=Ef(t,e,i)}else e=[]}else e=xf(t,new Zb(bf,n.path));return e}return i="Unknown Error","too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?i="Client doesn't have permission to access the desired data.":"unavailable"==e&&(i="The service is unavailable"),i=Error(e+": "+i),i.code=e.toUpperCase(),t.jb(n,null,i)}}}function Gf(t){return t.path.toString()+"$"+t.va()}function Df(t){var e=t.indexOf("$");return K(-1!==e&&e<t.length-1,"Bad queryKey."),{Hb:t.substr(e+1),path:new L(t.substr(0,e))}}function Cf(t,e){var n=t.$e,r="_"+e;return r in n?n[r]:void 0}function Mf(t,e){var n=Gf(e);return w(t.mc,n)}function Ef(t,e,n){var r=t.ta.get(e);return K(r,"Missing sync point for query tag that we're tracking"),r.ab(n,new qf(e,t.ib),null)}function xf(t,e){return Of(t,e,t.ta,null,new qf(G,t.ib))}function Of(t,e,n,r,i){if(e.path.e())return Pf(t,e,n,r,i);var o=n.get(G);null==r&&null!=o&&(r=o.fb(G));var a=[],s=E(e.path),u=e.Xc(s);if((n=n.children.get(s))&&u)var c=r?r.R(s):null,s=i.u(s),a=a.concat(Of(t,u,n,c,s));return o&&(a=a.concat(o.ab(e,i,r))),a}function Pf(t,e,n,r,i){var o=n.get(G);null==r&&null!=o&&(r=o.fb(G));var a=[];return n.children.ia(function(n,o){var s=r?r.R(n):null,u=i.u(n),c=e.Xc(n);c&&(a=a.concat(Pf(t,c,o,s,u)))}),o&&(a=a.concat(o.ab(e,i,r))),a}function Qf(){this.children={},this.nd=0,this.value=null}function Rf(t,e,n){this.Gd=t?t:"",this.Zc=e?e:null,this.A=n?n:new Qf}function Sf(t,e){for(var n,r=e instanceof L?e:new L(e),i=t;null!==(n=E(r));)i=new Rf(n,i,w(i.A.children,n)||new Qf),r=H(r);return i}function Tf(t,e){K("undefined"!=typeof e,"Cannot set value to undefined"),t.A.value=e,Uf(t)}function Vf(t,e,n,r){n&&!r&&e(t),t.P(function(t){Vf(t,e,!0,r)}),n&&r&&e(t)}function Wf(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Uf(t){if(null!==t.Zc){var e=t.Zc,n=t.Gd,r=t.e(),i=v(e.A.children,n);r&&i?(delete e.A.children[n],e.A.nd--,Uf(e)):r||i||(e.A.children[n]=t.A,e.A.nd++,Uf(e))}}function $f(t){return p(t)&&0!==t.length&&!Xf.test(t)}function ag(t){return null===t||p(t)||ga(t)&&!Qc(t)||ia(t)&&v(t,".sv")}function bg(t,e,r,i){i&&!n(e)||cg(y(t,1,i),e,r)}function cg(t,e,r){if(r instanceof L&&(r=new Je(r,t)),!n(e))throw Error(t+"contains undefined "+Le(r));if(ha(e))throw Error(t+"contains a function "+Le(r)+" with contents: "+e.toString());if(Qc(e))throw Error(t+"contains "+e.toString()+" "+Le(r));if(p(e)&&e.length>10485760/3&&10485760<Zc(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+Le(r)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var i=!1,o=!1;if(ib(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!$f(e)))throw Error(t+" contains an invalid key ("+e+") "+Le(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),cg(t,n,r),r.pop()}),i&&o)throw Error(t+' contains ".value" child '+Le(r)+" in addition to actual children.")}}function dg(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!$f(i[o]))throw Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(Ie),i=null,n=0;n<e.length;n++){if(r=e[n],null!==i&&i.contains(r))throw Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function eg(t,e,n){var r=y(t,1,!1);if(!ia(e)||ea(e))throw Error(r+" must be an object containing the children to replace.");var i=[];ib(e,function(t,e){var o=new L(t);if(cg(r,e,n.u(o)),".priority"===Ld(o)&&!ag(e))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),dg(r,i)}function fg(t,e,n){if(Qc(n))throw Error(y(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ag(n))throw Error(y(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function gg(t,e,r){if(!r||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(y(t,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function hg(t,e){if(n(e)&&!$f(e))throw Error(y(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ig(t,e){if(!p(e)||0===e.length||Yf.test(e))throw Error(y(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function jg(t,e){if(".info"===E(e))throw Error(t+" failed: Can't modify data under /.info/")}function kg(t,e){if(!p(e))throw Error(y(t,1,!1)+"must be a valid credential (a string).")}function lg(t,e,n){if(!p(n))throw Error(y(t,e,!1)+"must be a valid string.")}function mg(t,e){if(lg(t,1,e),!Zf.test(e))throw Error(y(t,1,!1)+"'"+e+"' is not a valid authentication provider.")}function ng(t,e,r,i){if((!i||n(r))&&(!ia(r)||null===r))throw Error(y(t,e,i)+"must be a valid object.")}function og(t,e,n){if(!ia(e)||!v(e,n))throw Error(y(t,1,!1)+'must contain the key "'+n+'"');if(!p(w(e,n)))throw Error(y(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function pg(){this.set={}}function qg(t,e){r(t.set,function(t,n){e(n,t)})}function qc(){this.m=this.B=null}function rg(t,e){if(e.e())return t.B=null,t.m=null,!0;if(null!==t.B){if(t.B.K())return!1;var n=t.B;return t.B=null,n.P(N,function(e,n){t.nc(new L(e),n)}),rg(t,e)}return null!==t.m?(n=E(e),e=H(e),t.m.contains(n)&&rg(t.m.get(n),e)&&t.m.remove(n),t.m.e()?(t.m=null,!0):!1):!0}function rc(t,e,n){null!==t.B?n(e,t.B):t.P(function(t,r){var i=new L(e.toString()+"/"+t);rc(r,i,n)})}function tg(t,e,n){this.od=t||{},this.ee=e||{},this.$a=n||{},this.od.remember||(this.od.remember="default")}function vg(t){var e={},n={};return ib(t||{},function(t,r){0<=Na(ug,t)?e[t]=r:n[t]=r}),new tg(e,{},n)}function wg(t,e){this.Qe=["session",t.Od,t.hc].join(":"),this.be=e}function xg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xg())}function zg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Ag(t){var e=xg();if(""===e)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t;return!1}function Bg(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function Cg(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function Dg(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function Eg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function Fg(t){var e="";try{t=t.replace("#","");var n=lb(t);n&&v(n,"__firebase_request_key")&&(e=w(n,"__firebase_request_key"))}catch(r){}return e}function Gg(){var t=Pc(sg);return t.scheme+"://"+t.host+"/v2"}function Hg(t){return Gg()+"/"+t+"/auth/channel"}function Ig(t){var e=this;if(this.Ac=t,this.ce="*",Ag(8)?this.Rc=this.zd=Bg():(this.Rc=window.opener,this.zd=window),!e.Rc)throw"Unable to find relay frame";Cg(this.zd,"message",q(this.jc,this)),Cg(this.zd,"message",q(this.Bf,this));try{Jg(this,{a:"ready"})}catch(n){Cg(this.Rc,"load",function(){Jg(e,{a:"ready"})})}Cg(window,"unload",q(this.Bg,this))}function Jg(t,e){e=B(e),Ag(8)?t.Rc.doPost(e,t.ce):t.Rc.postMessage(e,t.ce)}function Kg(t){this.pc=Ga()+Ga()+Ga(),this.Ef=t}function Mg(t){var e=Error(w(Lg,t),t);return e.code=t,e}function Ng(t){var e;(e=!t.window_features)||(e=xg(),e=-1!==e.indexOf("Fennec/")||-1!==e.indexOf("Firefox/")&&-1!==e.indexOf("Android")),e&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Og(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Pg(t){this.pc=Ga()+Ga()+Ga(),this.Ef=t}function Qg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Rg(t,e,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=t,r.async=!0,r.src=e,r.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(Mg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Mg("NETWORK_ERROR"))}},0)}function Sg(t,e,n,r){De.call(this,["auth_status"]),this.F=t,this.df=e,this.Vg=n,this.Le=r,this.sc=new wg(t,[xc,yc]),this.mb=null,this.Se=!1,Tg(this)}function Tg(t){yc.get("redirect_request_id")&&Ug(t);var e=t.sc.get();e&&e.token?(Vg(t,e),t.df(e.token,function(n,r){Wg(t,n,r,!1,e.token,e)},function(e,n){Xg(t,"resumeSession()",e,n)})):Vg(t,null)}function Yg(t,e,n,r,i,o){"firebaseio-demo.com"===t.F.domain&&O("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.df(e,function(o,a){Wg(t,o,a,!0,e,n,r||{},i)},function(e,n){Xg(t,"auth()",e,n,o)})}function Zg(t,e){t.sc.clear(),Vg(t,null),t.Vg(function(t,n){if("ok"===t)P(e,null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,P(e,i)}})}function Wg(t,e,n,r,i,o,a,s){"ok"===e?(r&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=bd(i)?i:"",n=null,e&&v(e,"uid")?n=w(e,"uid"):v(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",e&&v(e,"provider")?n=w(e,"provider"):v(o,"provider")&&(n=w(o,"provider")),o.provider=n,t.sc.clear(),bd(i)&&(a=a||{},n=xc,"sessionOnly"===a.remember&&(n=yc),"none"!==a.remember&&t.sc.set(o,n)),Vg(t,o)),P(s,null,o)):(t.sc.clear(),Vg(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,P(s,o))}function Xg(t,e,n,r,i){O(e+" was canceled: "+r),t.sc.clear(),Vg(t,null),t=Error(r),t.code=n.toUpperCase(),P(i,t)}function $g(t,e,n,r,i){ah(t),n=new tg(r||{},{},n||{}),bh(t,[Og,Qg],"/auth/"+e,n,i)}function ch(t,e,n,r){ah(t);var i=[Ng,Pg];n=vg(n),"anonymous"===e||"password"===e?setTimeout(function(){P(r,Mg("TRANSPORT_UNAVAILABLE"))},0):(n.ee.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.ee.relay_url=Hg(t.F.hc),n.ee.requestWithCredential=q(t.qc,t),bh(t,i,"/auth/"+e,n,r))}function Ug(t){var e=yc.get("redirect_request_id");if(e){var n=yc.get("redirect_client_options");yc.remove("redirect_request_id"),yc.remove("redirect_client_options");var r=[Og,Qg],e={requestId:e,requestKey:Fg(document.location.hash)},n=new tg(n,{},e);t.Se=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(i){}bh(t,r,"/auth/session",n,function(){this.Se=!1}.bind(t))}}function bh(t,e,n,r,i){dh(t,e,n,r,function(e,n){!e&&n&&n.token&&n.uid?Yg(t,n.token,n,r.od,function(t,e){t?P(i,t):P(i,null,e)}):P(i,e||Mg("UNKNOWN_ERROR"))})}function dh(t,e,n,r,i){e=Pa(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){P(i,Mg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(r.ee),r=jb(r.$a),r.v="js-"+hb,r.transport=e.Cc(),r.suppress_status_codes=!0,t=Gg()+"/"+t.F.hc+n,e.open(t,r,function(t,e){if(t)P(i,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,P(i,n)}else P(i,null,e)}))}function Vg(t,e){var n=null!==t.mb||null!==e;t.mb=e,n&&t.fe("auth_status",e),t.Le(null!==e)}function ah(t){var e=t.F;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===sg)throw Error("This custom Firebase server ('"+t.F.domain+"') does not support delegated login.")}function eh(t){this.jc=t,this.Nd=[],this.Sb=0,this.qe=-1,this.Fb=null}function fh(t,e,n){t.qe=e,t.Fb=n,t.qe<t.Sb&&(t.Fb(),t.Fb=null)}function gh(t,e,n){for(t.Nd[e]=n;t.Nd[t.Sb];){var r=t.Nd[t.Sb];delete t.Nd[t.Sb];for(var i=0;i<r.length;++i)if(r[i]){var o=t;Db(function(){o.jc(r[i])})}if(t.Sb===t.qe){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Sb++}}function hh(t,e,n,r){this.re=t,this.f=Mc(t),this.nb=this.ob=0,this.Ua=Rb(e),this.Qf=n,this.Hc=!1,this.Bb=r,this.jd=function(t){return Bc(e,Dc,t)}}function lh(t,e){var n=B(e).length;t.nb+=n,Ob(t.Ua,"bytes_received",n)}function kh(t,e,n,r){if(this.jd=r,this.hb=n,this.Pe=new pg,this.ad=[],this.te=Math.floor(1e8*Math.random()),this.Xd=!0,this.he=Ec(),window["pLPCommand"+this.he]=t,window["pRTLPCB"+this.he]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Cb("No IE domain setting required")}catch(i){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.eb=t.contentDocument:t.contentWindow?t.eb=t.contentWindow.document:t.document&&(t.eb=t.document),this.Ea=t,t="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ea.eb.open(),this.Ea.eb.write(t),this.Ea.eb.close()}catch(o){Cb("frame writing exception"),o.stack&&Cb(o.stack),Cb(o)}}function nh(t){if(t.le&&t.Xd&&t.Pe.count()<(0<t.ad.length?2:1)){t.te++;var e={};e.id=t.ug,e.pw=t.vg,e.ser=t.te;for(var e=t.jd(e),n="",r=0;0<t.ad.length&&1870>=t.ad[0].kf.length+30+n.length;){var i=t.ad.shift(),n=n+"&seg"+r+"="+i.Mg+"&ts"+r+"="+i.Ug+"&d"+r+"="+i.kf;r++}return oh(t,e+n,t.te),!0}return!1}function oh(t,e,n){function r(){t.Pe.remove(n),nh(t)}t.Pe.add(n,1);var i=setTimeout(r,Math.floor(25e3));mh(t,e,function(){clearTimeout(i),r()})}function mh(t,e,n){setTimeout(function(){try{if(t.Xd){var r=t.Ea.eb.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){Cb("Long-poll script failed to load: "+e),t.Xd=!1,t.close()},t.Ea.eb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function qh(t,e,n,r){this.re=t,this.f=Mc(this.re),this.frames=this.Kc=null,this.nb=this.ob=this.bf=0,this.Ua=Rb(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),r&&(t.ls=r),this.ef=Bc(e,Cc,t)}function th(t,e){if(t.frames.push(e),t.frames.length==t.bf){var n=t.frames.join("");t.frames=null,n=nb(n),t.zg(n)}}function sh(t){clearInterval(t.Kc),t.Kc=setInterval(function(){t.ua&&t.ua.send("0"),sh(t)},Math.floor(45e3))}function uh(t){vh(this,t)}function vh(t,e){var n=qh&&qh.isAvailable(),r=n&&!(xc.wf||!0===xc.get("previous_websocket_failure"));if(e.Wg&&(n||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)t.gd=[qh];else{var i=t.gd=[];Wc(wh,function(t,e){e&&e.isAvailable()&&i.push(e)})}}function xh(t){if(0<t.gd.length)return t.gd[0];throw Error("No transports available")}function yh(t,e,n,r,i,o,a){this.id=t,this.f=Mc("c:"+this.id+":"),this.jc=n,this.Wc=r,this.la=i,this.Ne=o,this.F=e,this.Md=[],this.ff=0,this.Pf=new uh(e),this.Ta=0,this.Bb=a,this.f("Connection created"),zh(this)}function zh(t){var e=xh(t.Pf);t.J=new e("c:"+t.id+":"+t.ff++,t.F,void 0,t.Bb),t.Re=e.responsesRequiredToBeHealthy||0;var n=Ah(t,t.J),r=Bh(t,t.J);t.hd=t.J,t.cd=t.J,t.D=null,t.Ab=!1,setTimeout(function(){t.J&&t.J.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.yd=setTimeout(function(){t.yd=null,t.Ab||(t.J&&102400<t.J.nb?(t.f("Connection exceeded healthy timeout but has received "+t.J.nb+" bytes.  Marking connection healthy."),t.Ab=!0,t.J.Ed()):t.J&&10240<t.J.ob?t.f("Connection exceeded healthy timeout but has sent "+t.J.ob+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function Bh(t,e){return function(n){e===t.J?(t.J=null,n||0!==t.Ta?1===t.Ta&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.F.Ya.substr(0,2)&&(xc.remove("host:"+t.F.host),t.F.Ya=t.F.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.hd!==n&&t.cd!==n||t.close()):t.f("closing an old connection")}}function Ah(t,e){return function(n){if(2!=t.Ta)if(e===t.cd){var r=Tc("t",n);if(n=Tc("d",n),"c"==r){if(r=Tc("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.Nf=n.s,Ac(t.F,o),0==t.Ta&&(t.J.start(),Ch(t,t.J,r),"5"!==i&&O("Protocol version mismatch detected"),n=t.Pf,(n=1<n.gd.length?n.gd[1]:null)&&Dh(t,n))}else if("n"===r){for(t.f("recvd end transmission on primary"),t.cd=t.D,n=0;n<t.Md.length;++n)t.Id(t.Md[n]);t.Md=[],Eh(t)}else"s"===r?(t.f("Connection shutdown command received. Shutting down..."),t.Ne&&(t.Ne(n),t.Ne=null),t.la=null,t.close()):"r"===r?(t.f("Reset packet received.  New host: "+n),Ac(t.F,n),1===t.Ta?t.close():(Fh(t),zh(t))):"e"===r?Nc("Server Error: "+n):"o"===r?(t.f("got pong on primary."),Gh(t),Hh(t)):Nc("Unknown control packet command: "+r)}else"d"==r&&t.Id(n)}else if(e===t.D)if(r=Tc("t",n),n=Tc("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ih(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.hd!==t.D&&t.cd!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.Mf--,Ih(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.Md.push(n)}else t.f("message on old connection")}}function Eh(t){t.hd===t.D&&t.cd===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.re),t.J=t.D,t.D=null)}function Ih(t){0>=t.Mf?(t.f("Secondary connection is healthy."),t.Ab=!0,t.D.Ed(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.J.send({t:"c",d:{t:"n",d:{}}}),t.hd=t.D,Eh(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function Gh(t){t.Ab||(t.Re--,0>=t.Re&&(t.f("Primary connection is healthy."),t.Ab=!0,t.J.Ed()))}function Dh(t,e){t.D=new e("c:"+t.id+":"+t.ff++,t.F,t.Nf),t.Mf=e.responsesRequiredToBeHealthy||0,t.D.open(Ah(t,t.D),Bh(t,t.D)),setTimeout(function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())},Math.floor(6e4))}function Ch(t,e,n){t.f("Realtime connection established."),t.J=e,t.Ta=1,t.Wc&&(t.Wc(n,t.Nf),t.Wc=null),0===t.Re?(t.f("Primary connection is healthy."),t.Ab=!0):setTimeout(function(){Hh(t)},Math.floor(5e3))}function Hh(t){t.Ab||1!==t.Ta||(t.f("sending ping on primary."),Jh(t,{t:"c",d:{t:"p",d:{}}}))}function Jh(t,e){if(1!==t.Ta)throw"Connection is not connected";t.hd.send(e)}function Fh(t){t.f("Shutting down all connections"),t.J&&(t.J.close(),t.J=null),t.D&&(t.D.close(),t.D=null),t.yd&&(clearTimeout(t.yd),t.yd=null)}function Kh(t,e,n,r){this.id=Lh++,this.f=Mc("p:"+this.id+":"),this.xf=this.Ee=!1,this.$={},this.qa=[],this.Yc=0,this.Vc=[],this.oa=!1,this.Za=1e3,this.Fd=3e5,this.Gb=e,this.Uc=n,this.Oe=r,this.F=t,this.sb=this.Aa=this.Ia=this.Bb=this.We=null,this.Ob=!1,this.Td={},this.Lg=0,this.nf=!0,this.Lc=this.Ge=null,Mh(this,0),He.ub().Eb("visible",this.Cg,this),-1===t.host.indexOf("fblocal")&&Ge.ub().Eb("online",this.Ag,this)}function Oh(t,e){var n=e.Ig,r=n.path.toString(),i=n.va();t.f("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=ee(n.n),o.t=e.tag),o.h=e.xd(),t.Fa("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&v(a,"w")){var u=w(a,"w");ea(u)&&0<=Na(u,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.$[r]&&t.$[r][i])===e&&(t.f("listen response",o),"ok"!==s&&Ph(t,r,i),e.H&&e.H(s,a))})}function Qh(t){var e=t.Aa;t.oa&&e&&t.Fa("auth",{cred:e.ig},function(n){var r=n.s;n=n.d||"error","ok"!==r&&t.Aa===e&&delete t.Aa,e.of?"ok"!==r&&e.md&&e.md(r,n):(e.of=!0,e.zc&&e.zc(r,n))})}function Rh(t,e,n,r,i){n={p:n,d:r},t.f("onDisconnect "+e,n),t.Fa(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function Sh(t,e,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),t.qa.push({action:e,Jf:i,H:o}),t.Yc++,e=t.qa.length-1,t.oa?Th(t,e):t.f("Buffering put: "+r)}function Th(t,e){var n=t.qa[e].action,r=t.qa[e].Jf,i=t.qa[e].H;t.qa[e].Jg=t.oa,t.Fa(n,r,function(r){t.f(n+" response",r),delete t.qa[e],t.Yc--,0===t.Yc&&(t.qa=[]),i&&i(r.s,r.d)})}function Mh(t,e){K(!t.Ia,"Scheduling a connect when we're already connected/ing?"),t.sb&&clearTimeout(t.sb),t.sb=setTimeout(function(){t.sb=null,Wh(t)},Math.floor(e))}function Wh(t){if(Xh(t)){t.f("Making a connection attempt"),t.Ge=(new Date).getTime(),t.Lc=null;var e=q(t.Id,t),n=q(t.Wc,t),r=q(t.Df,t),i=t.id+":"+Nh++;t.Ia=new yh(i,t.F,e,n,r,function(e){O(e+" ("+t.F.toString()+")"),t.xf=!0},t.Bb)}}function Uh(t,e,n){n=n?Qa(n,function(t){return Uc(t)}).join("$"):"default",(t=Ph(t,e,n))&&t.H&&t.H("permission_denied")}function Ph(t,e,r){e=new L(e).toString();var i;return n(t.$[e])?(i=t.$[e][r],delete t.$[e][r],0===pa(t.$[e])&&delete t.$[e]):i=void 0,i}function Vh(t){Qh(t),r(t.$,function(e){r(e,function(e){Oh(t,e)})});for(var e=0;e<t.qa.length;e++)t.qa[e]&&Th(t,e);for(;t.Vc.length;)e=t.Vc.shift(),Rh(t,e.action,e.$c,e.data,e.H)}function Xh(t){var e;return e=Ge.ub().kc,!t.xf&&!t.Ee&&e}function Q(t,e,n){this.A=t,this.W=e,this.g=n}function Yh(t,e){this.F=t,this.Ua=Rb(t),this.fd=null,this.da=new vb,this.Hd=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new Ae(this.F,q(this.Gb,this)),setTimeout(q(this.Uc,this,!0),0)):this.ba=this.Ra=new Kh(this.F,q(this.Gb,this),q(this.Uc,this),q(this.Oe,this)),this.Sg=Sb(t,q(function(){return new Mb(this.Ua,this.ba)},this)),this.uc=new Rf,this.Ce=new ob;var n=this;this.Cd=new vf({Xe:function(t,e,r,i){return e=[],r=n.Ce.j(t.path),r.e()||(e=xf(n.Cd,new Xb(bf,t.path,r)),setTimeout(function(){i("ok")},0)),e},ae:ba}),Zh(this,"connected",!1),this.la=new qc,this.M=new Sg(t,q(this.ba.M,this.ba),q(this.ba.ge,this.ba),q(this.Le,this)),this.sd=0,this.De=null,this.L=new vf({Xe:function(t,e,r,i){return n.ba.yf(t,r,e,function(e,r){var o=i(e,r);Ab(n.da,t.path,o)}),[]},ae:function(t,e){n.ba.Rf(t,e)}})}function $h(t){return t=t.Ce.j(new L(".info/serverTimeOffset")).I()||0,(new Date).getTime()+t}function ai(t){return t=t={timestamp:$h(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Zh(t,e,n){e=new L("/.info/"+e),n=M(n);var r=t.Ce;r.Wd=r.Wd.G(e,n),n=xf(t.Cd,new Xb(bf,e,n)),Ab(t.da,e,n)}function ci(t){t.f("onDisconnectEvents");var e=ai(t),n=[];rc(pc(t.la,e),G,function(e,r){n=n.concat(xf(t.L,new Xb(bf,e,r)));var i=ei(t,e);bi(t,i)}),t.la=new qc,Ab(t.da,G,n)}function fi(t,e,n,r){var i=M(n);t.ba.Me(e.toString(),i.I(!0),function(n,o){"ok"===n&&t.la.nc(e,i),di(r,n,o)})}function gi(t,e,n,r,i){var o=M(n,r);t.ba.Me(e.toString(),o.I(!0),function(n,r){"ok"===n&&t.la.nc(e,o),di(i,n,r)})}function hi(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(Cb("onDisconnect().update() called with empty data.  Don't do anything."),di(r,"ok")):t.ba.Cf(e.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=M(n[a]);t.la.nc(e.u(a),s)}di(r,i,o)})}function ii(t,e,n){n=".info"===E(e.path)?t.Cd.Pb(e,n):t.L.Pb(e,n),yb(t.da,e.path,n)}function di(t,e,n){t&&Db(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function ji(t,e,r,i,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.Eb("value",a),r={path:e,update:r,H:i,status:null,Ff:Ec(),cf:o,Lf:0,ie:function(){s.ic("value",a)},ke:null,Ba:null,pd:null,qd:null,rd:null},i=t.L.za(e,void 0)||C,r.pd=i,i=r.update(i.I()),n(i)){cg("transaction failed: Data returned ",i,r.path),r.status=1,o=Sf(t.uc,e);var u=o.Ca()||[];u.push(r),Tf(o,u),"object"==typeof i&&null!==i&&v(i,".priority")?(u=w(i,".priority"),K(ag(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(t.L.za(e)||C).C().I(),o=ai(t),i=M(i,u),o=sc(i,o),r.qd=i,r.rd=o,r.Ba=t.Hd++,r=wf(t.L,e,o,r.Ba,r.cf),Ab(t.da,e,r),ki(t)}else r.ie(),r.qd=null,r.rd=null,r.H&&(t=new Q(r.pd,new U(t,r.path),N),r.H(null,!1,t))}function ki(t,e){var n=e||t.uc;if(e||li(t,n),null!==n.Ca()){var r=mi(t,n);K(0<r.length,"Sending zero length transaction queue"),Sa(r,function(t){return 1===t.status})&&ni(t,n.path(),r)}else n.wd()&&n.P(function(e){ki(t,e)})}function ni(t,e,n){for(var r=Qa(n,function(t){return t.Ba}),i=t.L.za(e,r)||C,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];K(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Lf++;var s=T(e,a.path),r=r.G(s,a.qd)}r=r.I(!0),t.ba.put(e.toString(),r,function(r){t.f("transaction put response",{path:e.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(zf(t.L,n[o].Ba)),n[o].H){var a=n[o].rd,s=new U(t,n[o].path);r.push(q(n[o].H,null,null,!0,new Q(a,s,N)))}n[o].ie()}for(li(t,Sf(t.uc,e)),ki(t),Ab(t.da,e,i),o=0;o<r.length;o++)Db(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(O("transaction at "+e.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ke=r;bi(t,e)}},i)}function bi(t,e){var n=oi(t,e),r=n.path(),n=mi(t,n);return pi(t,n,r),r}function pi(t,e,r){if(0!==e.length){for(var i=[],o=[],a=Qa(e,function(t){return t.Ba}),s=0;s<e.length;s++){var u,c=e[s],l=T(r,c.path),h=!1;if(K(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)h=!0,u=c.ke,o=o.concat(zf(t.L,c.Ba,!0));else if(1===c.status)if(25<=c.Lf)h=!0,u="maxretry",o=o.concat(zf(t.L,c.Ba,!0));else{var f=t.L.za(c.path,a)||C;c.pd=f;var p=e[s].update(f.I());n(p)?(cg("transaction failed: Data returned ",p,c.path),l=M(p),"object"==typeof p&&null!=p&&v(p,".priority")||(l=l.ga(f.C())),f=c.Ba,p=ai(t),p=sc(l,p),c.qd=l,c.rd=p,c.Ba=t.Hd++,Va(a,f),o=o.concat(wf(t.L,c.path,p,c.Ba,c.cf)),o=o.concat(zf(t.L,f,!0))):(h=!0,u="nodata",o=o.concat(zf(t.L,c.Ba,!0)))}Ab(t.da,r,o),o=[],h&&(e[s].status=3,setTimeout(e[s].ie,Math.floor(0)),e[s].H&&("nodata"===u?(c=new U(t,e[s].path),i.push(q(e[s].H,null,null,!1,new Q(e[s].pd,c,N)))):i.push(q(e[s].H,null,Error(u),!1,null))))}for(li(t,t.uc),s=0;s<i.length;s++)Db(i[s]);ki(t)}}function oi(t,e){for(var n,r=t.uc;null!==(n=E(e))&&null===r.Ca();)r=Sf(r,n),e=H(e);return r}function mi(t,e){var n=[];return qi(t,e,n),n.sort(function(t,e){return t.Ff-e.Ff}),n}function qi(t,e,n){var r=e.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.P(function(e){qi(t,e,n)})}function li(t,e){var n=e.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Tf(e,0<n.length?n:null)}e.P(function(e){li(t,e)})}function ei(t,e){var n=oi(t,e).path(),r=Sf(t.uc,e);return Wf(r,function(e){ri(t,e)}),ri(t,r),Vf(r,function(e){ri(t,e)}),n}function ri(t,e){var n=e.Ca();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(K(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ke="set"):(K(1===n[a].status,"Unexpected transaction status in abort"),n[a].ie(),i=i.concat(zf(t.L,n[a].Ba,!0)),
n[a].H&&r.push(q(n[a].H,null,Error("set"),!1,null))));for(-1===o?Tf(e,null):n.length=o+1,Ab(t.da,e.path(),i),a=0;a<r.length;a++)Db(r[a])}}function W(){this.oc={},this.Sf=!1}function X(t,e){this.bd=t,this.ra=e}function Y(t,e,n,r){this.k=t,this.path=e,this.n=n,this.lc=r}function si(t){var e=null,n=null;if(t.ma&&(e=nd(t)),t.pa&&(n=pd(t)),t.g===Qd){if(t.ma){if("[MIN_NAME]"!=md(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.pa){if("[MAX_NAME]"!=od(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===N){if(null!=e&&!ag(e)||null!=n&&!ag(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(t.g instanceof Ud||t.g===$d,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function ti(t){if(t.ma&&t.pa&&t.ja&&(!t.ja||""===t.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function ui(t,e){if(!0===t.lc)throw Error(e+": You can't combine multiple orderBy calls.")}function vi(t,e,n){var r={cancel:null,Ma:null};if(e&&n)r.cancel=e,A(t,3,r.cancel,!0),r.Ma=n,mb(t,4,r.Ma);else if(e)if("object"==typeof e&&null!==e)r.Ma=e;else{if("function"!=typeof e)throw Error(y(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r}function U(t,e){var n,r,i;if(t instanceof Yh)n=t,r=e;else{x("new Firebase",1,2,arguments.length),r=Pc(arguments[0]),n=r.Tg,"firebase"===r.domain&&Oc(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Oc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.kb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new zc(r.host,r.kb,n,"ws"===r.scheme||"wss"===r.scheme),r=new L(r.$c),i=r.toString();var o;if(!(o=!p(n.host)||0===n.host.length||!$f(n.hc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(i)&&0!==i.length&&!Yf.test(i))),o)throw Error(y("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof W)i=e;else{if(!p(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=W.ub(),n.Od=e}else i=W.ub();o=n.toString();var a=w(i.oc,o);a||(a=new Yh(n,i.Sf),i.oc[o]=a),n=a}Y.call(this,n,r,be,!1)}function Lc(t,e){K(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Bb=q(console.log,console):"object"==typeof console.log&&(Bb=function(t){console.log(t)})),e&&yc.set("logging_enabled",!0)):t?Bb=t:(Bb=null,yc.remove("logging_enabled"))}var g,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Fa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;t:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break t}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.N[0]=1732584193,this.N[1]=4023233417,this.N[2]=2562383102,this.N[3]=271733878,this.N[4]=3285377520,this.de=this.ac=0},La.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var r=e-this.Va,i=0,o=this.me,a=this.ac;e>i;){if(0==a)for(;r>=i;)Ma(this,t,i),i+=this.Va;if(p(t)){for(;e>i;)if(o[a]=t.charCodeAt(i),++a,++i,a==this.Va){Ma(this,o),a=0;break}}else for(;e>i;)if(o[a]=t[i],++a,++i,a==this.Va){Ma(this,o),a=0;break}}this.ac=a,this.de+=e}};var u=Array.prototype,Na=u.indexOf?function(t,e,n){return u.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Oa=u.forEach?function(t,e,n){u.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)o in i&&e.call(n,i[o],o,t)},Pa=u.filter?function(t,e,n){return u.filter.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=[],o=0,a=p(t)?t.split(""):t,s=0;r>s;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(i[o++]=u)}return i},Qa=u.map?function(t,e,n){return u.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=p(t)?t.split(""):t,a=0;r>a;a++)a in o&&(i[a]=e.call(n,o[a],a,t));return i},Ra=u.reduce?function(t,e,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=q(e,r)),u.reduce.apply(t,i)}:function(t,e,n,r){var i=n;return Oa(t,function(n,o){i=e.call(r,i,n,o,t)}),i},Sa=u.every?function(t,e,n){return u.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var t,e="";return Za&&aa.opera?(e=aa.opera.version,ha(e)?e():e):(ab?t=/rv\:([^\);]+)(\)|;)/:$a?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(Ha))?e[1]:""),$a&&(t=(t=aa.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var cb=null,db=null,eb=null,hb=hb||"2.3.1";ob.prototype.j=function(t){return this.Wd.Q(t)},ob.prototype.toString=function(){return this.Wd.toString()},pb.prototype.qf=function(){return null},pb.prototype.ye=function(){return null};var qb=new pb;rb.prototype.qf=function(t){var e=this.Ka.O;return sb(e,t)?e.j().R(t):(e=null!=this.Kd?new tb(this.Kd,!0,!1):this.Ka.w(),this.Tf.xc(t,e))},rb.prototype.ye=function(t,e,n){var r=null!=this.Kd?this.Kd:ub(this.Ka);return t=this.Tf.ne(r,e,1,n,t),0===t.length?null:t[0]},xb.prototype.add=function(t){this.vd.push(t)},xb.prototype.Zb=function(){return this.ra};var Fb="value";Gb.prototype.Zb=function(){var t=this.Zd.Ib();return"value"===this.ud?t.path:t.parent().path},Gb.prototype.ze=function(){return this.ud},Gb.prototype.Vb=function(){return this.ue.Vb(this)},Gb.prototype.toString=function(){return this.Zb().toString()+":"+this.ud+":"+B(this.Zd.mf())},Hb.prototype.Zb=function(){return this.path},Hb.prototype.ze=function(){return"cancel"},Hb.prototype.Vb=function(){return this.ue.Vb(this)},Hb.prototype.toString=function(){return this.path.toString()+":cancel"},tb.prototype.j=function(){return this.A},Lb.prototype.get=function(){var t=this.gg.get(),e=xa(t);if(this.Dd)for(var n in this.Dd)e[n]-=this.Dd[n];return this.Dd=t,e},Mb.prototype.If=function(){var t,e=this.fd.get(),n={},r=!1;for(t in e)0<e[t]&&v(this.Of,t)&&(n[t]=e[t],r=!0);r&&this.ba.Ue(n),setTimeout(q(this.If,this),Math.floor(6e5*Math.random()))},Nb.prototype.get=function(){return xa(this.Ec)};var Pb={},Qb={};Xb.prototype.Xc=function(t){return this.path.e()?new Xb(this.source,G,this.Ga.R(t)):new Xb(this.source,H(this.path),this.Ga)},Xb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"},Zb.prototype.Xc=function(){return this.path.e()?new Zb(this.source,G):new Zb(this.source,H(this.path))},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},g=ac.prototype,g.Oa=function(t,e){return new ac(this.La,this.wa.Oa(t,e,this.La).Y(null,null,!1,null,null))},g.remove=function(t){return new ac(this.La,this.wa.remove(t,this.La).Y(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.wa;!n.e();){if(e=this.La(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},g.e=function(){return this.wa.e()},g.count=function(){return this.wa.count()},g.Sc=function(){return this.wa.Sc()},g.fc=function(){return this.wa.fc()},g.ia=function(t){return this.wa.ia(t)},g.Xb=function(t){return new dc(this.wa,null,this.La,!1,t)},g.Yb=function(t,e){return new dc(this.wa,t,this.La,!1,e)},g.$b=function(t,e){return new dc(this.wa,t,this.La,!0,e)},g.sf=function(t){return new dc(this.wa,null,this.La,!0,t)},g=fc.prototype,g.Y=function(t,e,n,r,i){return new fc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ia=function(t){return this.left.ia(t)||t(this.key,this.value)||this.right.ia(t)},g.Sc=function(){return gc(this).key},g.fc=function(){return this.right.e()?this.key:this.right.fc()},g.Oa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.Y(null,null,null,i.left.Oa(t,e,n),null):0===r?i.Y(null,e,null,null,null):i.Y(null,null,null,null,i.right.Oa(t,e,n)),hc(i)},g.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=jc(n)),n=n.Y(null,null,null,n.left.remove(t,e),null);else{if(n.left.fa()&&(n=kc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=lc(n),n.left.left.fa()&&(n=kc(n),n=lc(n))),0===e(t,n.key)){if(n.right.e())return bc;r=gc(n.right),n=n.Y(r.key,r.value,null,null,ic(n.right))}n=n.Y(null,null,null,null,n.right.remove(t,e))}return hc(n)},g.fa=function(){return this.color},g=nc.prototype,g.Y=function(){return this},g.Oa=function(t,e){return new fc(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ia=function(){return!1},g.Sc=function(){return null},g.fc=function(){return null},g.fa=function(){return!1};var bc=new nc;uc.prototype.set=function(t,e){null==e?delete this.wc[t]:this.wc[t]=e},uc.prototype.get=function(t){return v(this.wc,t)?this.wc[t]:null},uc.prototype.remove=function(t){delete this.wc[t]},uc.prototype.wf=!0,g=vc.prototype,g.set=function(t,e){null==e?this.Fc.removeItem(this.Pd+t):this.Fc.setItem(this.Pd+t,B(e))},g.get=function(t){return t=this.Fc.getItem(this.Pd+t),null==t?null:nb(t)},g.remove=function(t){this.Fc.removeItem(this.Pd+t)},g.wf=!1,g.toString=function(){return this.Fc.toString()};var xc=wc("localStorage"),yc=wc("sessionStorage");zc.prototype.toString=function(){var t=(this.kb?"https://":"http://")+this.host;return this.Od&&(t+="<"+this.Od+">"),t};var Ec=function(){var t=1;return function(){return t++}}(),Bb=null,Kc=!0,Yc=/^-?\d{1,10}$/;cd.prototype.hg=function(t,e){if(null==t.Wa||null==e.Wa)throw Fc("Should only compare child_ events.");return this.g.compare(new F(t.Wa,t.Ja),new F(e.Wa,e.Ja))},g=id.prototype,g.Kf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.n.g;return new Gb("value",this,new Q(t.Ja,e.Ib(),n))},g.Vb=function(t){var e=this.rb;if("cancel"===t.ze()){K(this.pb,"Raising a cancel event on a listener with no cancel callback");var n=this.pb;return function(){n.call(e,t.error)}}var r=this.Rb;return function(){r.call(e,t.Zd)}},g.gf=function(t,e){return this.pb?new Hb(this,t,e):null},g.matches=function(t){return t instanceof id?t.Rb&&this.Rb?t.Rb===this.Rb&&t.rb===this.rb:!0:!1},g.tf=function(){return null!==this.Rb},g=jd.prototype,g.Kf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ha},g.gf=function(t,e){return this.pb?new Hb(this,t,e):null},g.createEvent=function(t,e){K(null!=t.Wa,"Child events should have a childName.");var n=e.Ib().u(t.Wa);return new Gb(t.type,this,new Q(t.Ja,n,e.n.g),t.Qd)},g.Vb=function(t){var e=this.rb;if("cancel"===t.ze()){K(this.pb,"Raising a cancel event on a listener with no cancel callback");var n=this.pb;return function(){n.call(e,t.error)}}var r=this.ha[t.ud];return function(){r.call(e,t.Zd,t.Qd)}},g.matches=function(t){if(t instanceof jd){if(!this.ha||!t.ha)return!0;if(this.rb===t.rb){var e=pa(t.ha);if(e===pa(this.ha)){if(1===e){var e=qa(t.ha),n=qa(this.ha);return!(n!==e||t.ha[e]&&this.ha[n]&&t.ha[e]!==this.ha[n])}return oa(this.ha,function(e,n){return t.ha[n]===e})}}}return!1},g.tf=function(){return null!==this.ha},g=kd.prototype,g.G=function(t,e,n,r,i,o){return K(t.Jc(this.g),"A node must be indexed if only a child is updated"),i=t.R(e),i.Q(r).ca(n.Q(r))&&i.e()==n.e()?t:(null!=o&&(n.e()?t.Da(e)?hd(o,new D("child_removed",i,e)):K(t.K(),"A child remove without an old child only makes sense on a leaf node"):i.e()?hd(o,new D("child_added",n,e)):hd(o,new D("child_changed",n,e,i))),t.K()&&n.e()?t:t.U(e,n).lb(this.g))},g.xa=function(t,e,n){return null!=n&&(t.K()||t.P(N,function(t,r){e.Da(t)||hd(n,new D("child_removed",r,t))}),e.K()||e.P(N,function(e,r){if(t.Da(e)){var i=t.R(e);i.ca(r)||hd(n,new D("child_changed",r,e,i))}else hd(n,new D("child_added",r,e))})),e.lb(this.g)},g.ga=function(t,e){return t.e()?C:t.ga(e)},g.Na=function(){return!1},g.Wb=function(){return this},g=ld.prototype,g.matches=function(t){return 0>=this.g.compare(this.ed,t)&&0>=this.g.compare(t,this.Gc)},g.G=function(t,e,n,r,i,o){return this.matches(new F(e,n))||(n=C),this.Be.G(t,e,n,r,i,o)},g.xa=function(t,e,n){e.K()&&(e=C);var r=e.lb(this.g),r=r.ga(C),i=this;return e.P(N,function(t,e){i.matches(new F(t,e))||(r=r.U(t,C))}),this.Be.xa(t,r,n)},g.ga=function(t){return t},g.Na=function(){return!0},g.Wb=function(){return this.Be},g=qd.prototype,g.G=function(t,e,n,r,i,o){return this.sa.matches(new F(e,n))||(n=C),t.R(e).ca(n)?t:t.Db()<this.ka?this.sa.Wb().G(t,e,n,r,i,o):sd(this,t,e,n,i,o)},g.xa=function(t,e,n){var r;if(e.K()||e.e())r=C.lb(this.g);else if(2*this.ka<e.Db()&&e.Jc(this.g)){r=C.lb(this.g),e=this.Jb?e.$b(this.sa.Gc,this.g):e.Yb(this.sa.ed,this.g);for(var i=0;0<e.Pa.length&&i<this.ka;){var o,a=J(e);if(!(o=this.Jb?0>=this.g.compare(this.sa.ed,a):0>=this.g.compare(a,this.sa.Gc)))break;r=r.U(a.name,a.S),i++}}else{r=e.lb(this.g),r=r.ga(C);var s,u,c;if(this.Jb){e=r.sf(this.g),s=this.sa.Gc,u=this.sa.ed;var l=td(this.g);c=function(t,e){return l(e,t)}}else e=r.Xb(this.g),s=this.sa.ed,u=this.sa.Gc,c=td(this.g);for(var i=0,h=!1;0<e.Pa.length;)a=J(e),!h&&0>=c(s,a)&&(h=!0),(o=h&&i<this.ka&&0>=c(a,u))?i++:r=r.U(a.name,C)}return this.sa.Wb().xa(t,r,n)},g.ga=function(t){return t},g.Na=function(){return!0},g.Wb=function(){return this.sa.Wb()},xd.prototype.ab=function(t,e,n,r){var i,o=new gd;if(e.type===Yb)e.source.we?n=yd(this,t,e.path,e.Ga,n,r,o):(K(e.source.pf,"Unknown source."),i=e.source.af||Jb(t.w())&&!e.path.e(),n=Ad(this,t,e.path,e.Ga,n,r,i,o));else if(e.type===Bd)e.source.we?n=Cd(this,t,e.path,e.children,n,r,o):(K(e.source.pf,"Unknown source."),i=e.source.af||Jb(t.w()),n=Dd(this,t,e.path,e.children,n,r,i,o));else if(e.type===Ed)if(e.Vd)if(e=e.path,null!=n.tc(e))n=t;else{if(i=new rb(n,t,r),r=t.O.j(),e.e()||".priority"===E(e))Ib(t.w())?e=n.za(ub(t)):(e=t.w().j(),K(e instanceof R,"serverChildren would be complete if leaf node"),e=n.yc(e)),e=this.V.xa(r,e,o);else{var a=E(e),s=n.xc(a,t.w());null==s&&sb(t.w(),a)&&(s=r.R(a)),e=null!=s?this.V.G(r,a,s,H(e),i,o):t.O.j().Da(a)?this.V.G(r,a,C,H(e),i,o):r,e.e()&&Ib(t.w())&&(r=n.za(ub(t)),r.K()&&(e=this.V.xa(e,r,o)))}r=Ib(t.w())||null!=n.tc(G),n=Fd(t,e,r,this.V.Na())}else n=Gd(this,t,e.path,e.Qb,n,r,o);else{if(e.type!==$b)throw Fc("Unknown operation type: "+e.type);r=e.path,e=t.w(),i=e.j(),a=e.ea||r.e(),n=Hd(this,new Id(t.O,new tb(i,a,e.Ub)),r,n,qb,o)}return o=ra(o.bb),r=n,e=r.O,e.ea&&(i=e.j().K()||e.j().e(),a=Jd(t),(0<o.length||!t.O.ea||i&&!e.j().ca(a)||!e.j().C().ca(a.C()))&&o.push(Eb(Jd(r)))),new wd(n,o)};var Sd={};Rd.prototype.Ad=function(t,e){return 0!==this.compare(new F("[MIN_NAME]",t),new F("[MIN_NAME]",e))},Rd.prototype.Tc=function(){return Td},ma(Ud,Rd),g=Ud.prototype,g.Ic=function(t){return!t.Q(this.cc).e()},g.compare=function(t,e){var n=t.S.Q(this.cc),r=e.S.Q(this.cc),n=n.Dc(r);return 0===n?Vb(t.name,e.name):n},g.Pc=function(t,e){var n=M(t),n=C.G(this.cc,n);return new F(e,n)},g.Qc=function(){var t=C.G(this.cc,Vd);return new F("[MAX_NAME]",t)},g.toString=function(){return this.cc.slice().join("/")},ma(Wd,Rd),g=Wd.prototype,g.compare=function(t,e){var n=t.S.C(),r=e.S.C(),n=n.Dc(r);return 0===n?Vb(t.name,e.name):n},g.Ic=function(t){return!t.C().e()},g.Ad=function(t,e){return!t.C().ca(e.C())},g.Tc=function(){return Td},g.Qc=function(){return new F("[MAX_NAME]",new tc("[PRIORITY-POST]",Vd))},g.Pc=function(t,e){var n=M(t);return new F(e,new tc("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var N=new Wd;ma(Xd,Rd),g=Xd.prototype,g.compare=function(t,e){return Vb(t.name,e.name)},g.Ic=function(){throw Fc("KeyIndex.isDefinedOn not expected to be called.")},g.Ad=function(){return!1},g.Tc=function(){return Td},g.Qc=function(){return new F("[MAX_NAME]",C)},g.Pc=function(t){return K(p(t),"KeyIndex indexValue must always be a string."),new F(t,C)},g.toString=function(){return".key"};var Qd=new Xd;ma(Yd,Rd),g=Yd.prototype,g.compare=function(t,e){var n=t.S.Dc(e.S);return 0===n?Vb(t.name,e.name):n},g.Ic=function(){return!0},g.Ad=function(t,e){return!t.ca(e)},g.Tc=function(){return Td},g.Qc=function(){return Zd},g.Pc=function(t,e){var n=M(t);return new F(e,n)},g.toString=function(){return".value"};var $d=new Yd,be=new ae;g=ae.prototype,g.He=function(t){var e=ce(this);return e.ja=!0,e.ka=t,e.Nb="",e},g.Ie=function(t){var e=ce(this);return e.ja=!0,e.ka=t,e.Nb="l",e},g.Je=function(t){var e=ce(this);return e.ja=!0,e.ka=t,e.Nb="r",e},g.$d=function(t,e){var r=ce(this);return r.ma=!0,n(t)||(t=null),r.ec=t,null!=e?(r.Lb=!0,r.xb=e):(r.Lb=!1,r.xb=""),r},g.td=function(t,e){var r=ce(this);return r.pa=!0,n(t)||(t=null),r.bc=t,n(e)?(r.Tb=!0,r.vb=e):(r.ah=!1,r.vb=""),r},g.toString=function(){return B(ee(this))},he.prototype.get=function(t){var e=w(this.Bd,t);if(!e)throw Error("No index defined for "+t);return e===Sd?null:e};var le=new he({".priority":Sd},{".priority":N}),ne=["object","boolean","number","string"];g=tc.prototype,g.K=function(){return!0},g.C=function(){return this.aa},g.ga=function(t){return new tc(this.B,t)},g.R=function(t){return".priority"===t?this.aa:C},g.Q=function(t){return t.e()?this:".priority"===E(t)?this.aa:C},g.Da=function(){return!1},g.rf=function(){return null},g.U=function(t,e){return".priority"===t?this.ga(e):e.e()&&".priority"!==t?this:C.U(t,e).ga(this.aa)},g.G=function(t,e){var n=E(t);return null===n?e:e.e()&&".priority"!==n?this:(K(".priority"!==n||1===Kd(t),".priority must be the last token in a path"),this.U(n,C.G(H(t),e)))},g.e=function(){return!1},g.Db=function(){return 0},g.P=function(){return!1},g.I=function(t){return t&&!this.C().e()?{".value":this.Ca(),".priority":this.C().I()}:this.Ca()},g.hash=function(){if(null===this.Cb){var t="";this.aa.e()||(t+="priority:"+oe(this.aa.I())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+Xc(this.B):t+this.B;this.Cb=Hc(t)}return this.Cb},g.Ca=function(){return this.B},g.Dc=function(t){if(t===C)return 1;if(t instanceof R)return-1;K(t.K(),"Unknown node type");var e=typeof t.B,n=typeof this.B,r=Na(ne,e),i=Na(ne,n);return K(r>=0,"Unknown leaf type: "+e),K(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:i-r},g.lb=function(){return this},g.Jc=function(){return!0},g.ca=function(t){return t===this?!0:t.K()?this.B===t.B&&this.aa.ca(t.aa):!1},g.toString=function(){return B(this.I(!0))},g=R.prototype,g.K=function(){return!1},g.C=function(){return this.aa||C},g.ga=function(t){return this.m.e()?this:new R(this.m,t,this.wb)},g.R=function(t){return".priority"===t?this.C():(t=this.m.get(t),null===t?C:t)},g.Q=function(t){var e=E(t);return null===e?this:this.R(e).Q(H(t))},g.Da=function(t){return null!==this.m.get(t)},g.U=function(t,e){if(K(e,"We should always be passing snapshot nodes"),".priority"===t)return this.ga(e);var n,r,i=new F(t,e);return e.e()?(n=this.m.remove(t),i=ke(this.wb,i,this.m)):(n=this.m.Oa(t,e),i=ie(this.wb,i,this.m)),r=n.e()?C:this.aa,new R(n,r,i)},g.G=function(t,e){var n=E(t);if(null===n)return e;K(".priority"!==E(t)||1===Kd(t),".priority must be the last token in a path");var r=this.R(n).G(H(t),e);return this.U(n,r)},g.e=function(){return this.m.e()},g.Db=function(){return this.m.count()};var pe=/^(0|[1-9]\d*)$/;g=R.prototype,g.I=function(t){if(this.e())return null;var e={},n=0,r=0,i=!0;if(this.P(N,function(o,a){e[o]=a.I(t),n++,i&&pe.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&2*n>r){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().I()),e},g.hash=function(){if(null===this.Cb){var t="";this.C().e()||(t+="priority:"+oe(this.C().I())+":"),this.P(N,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.Cb=""===t?"":Hc(t)}return this.Cb},g.rf=function(t,e,n){return(n=qe(this,n))?(t=cc(n,new F(t,e)))?t.name:null:cc(this.m,t)},g.P=function(t,e){var n=qe(this,t);return n?n.ia(function(t){return e(t.name,t.S)}):this.m.ia(e)},g.Xb=function(t){return this.Yb(t.Tc(),t)},g.Yb=function(t,e){var n=qe(this,e);if(n)return n.Yb(t,function(t){return t});for(var n=this.m.Yb(t.name,Tb),r=ec(n);null!=r&&0>e.compare(r,t);)J(n),r=ec(n);return n},g.sf=function(t){return this.$b(t.Qc(),t)},g.$b=function(t,e){var n=qe(this,e);if(n)return n.$b(t,function(t){return t});for(var n=this.m.$b(t.name,Tb),r=ec(n);null!=r&&0<e.compare(r,t);)J(n),r=ec(n);return n},g.Dc=function(t){return this.e()?t.e()?0:-1:t.K()||t.e()?1:t===Vd?-1:0},g.lb=function(t){if(t===Qd||ta(this.wb.dc,t.toString()))return this;var e=this.wb,n=this.m;K(t!==Qd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.Xb(Tb),o=J(n);o;)i=i||t.Ic(o.S),r.push(o),o=J(n);return r=i?je(r,td(t)):Sd,i=t.toString(),n=xa(e.dc),n[i]=t,t=xa(e.Bd),t[i]=r,new R(this.m,this.aa,new he(t,n))},g.Jc=function(t){return t===Qd||ta(this.wb.dc,t.toString())},g.ca=function(t){if(t===this)return!0;if(t.K())return!1;if(this.C().ca(t.C())&&this.m.count()===t.m.count()){var e=this.Xb(N);t=t.Xb(N);for(var n=J(e),r=J(t);n&&r;){if(n.name!==r.name||!n.S.ca(r.S))return!1;n=J(e),r=J(t)}return null===n&&null===r}return!1},g.toString=function(){return B(this.I(!0))};var re=Math.log(2),C=new R(new ac(Wb),null,le);ma(ue,R),g=ue.prototype,g.Dc=function(t){return t===this?0:1},g.ca=function(t){return t===this},g.C=function(){return this},g.R=function(){return C},g.e=function(){return!1};var Vd=new ue,Td=new F("[MIN_NAME]",C),Zd=new F("[MAX_NAME]",Vd);Id.prototype.w=function(){return this.Yd},g=ve.prototype,g.w=function(){return this.Ka.w().j()},g.fb=function(t){var e=ub(this.Ka);return e&&(S(this.W.n)||!t.e()&&!e.R(E(t)).e())?e.Q(t):null},g.e=function(){return 0===this.Xa.length},g.Pb=function(t){this.Xa.push(t)},g.jb=function(t,e){var n=[];if(e){K(null==t,"A cancel should cancel all event registrations.");var r=this.W.path;Oa(this.Xa,function(t){(t=t.gf(e,r))&&n.push(t)})}if(t){for(var i=[],o=0;o<this.Xa.length;++o){var a=this.Xa[o];if(a.matches(t)){if(t.tf()){i=i.concat(this.Xa.slice(o+1));break}}else i.push(a)}this.Xa=i}else this.Xa=[];return n},g.ab=function(t,e,n){t.type===Bd&&null!==t.source.Hb&&(K(ub(this.Ka),"We should always have a full cache before handling merges"),K(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return t=this.Hf.ab(r,t,e,n),e=this.Hf,n=t.je,K(n.O.j().Jc(e.V.g),"Event snap not indexed"),K(n.w().j().Jc(e.V.g),"Server snap not indexed"),K(Ib(t.je.w())||!Ib(r.w()),"Once a server snap is complete, it should never go back"),this.Ka=t.je,xe(this,t.fg,t.je.O.j(),null)},ze.prototype.Xc=function(t){return this.path.e()?(t=this.children.subtree(new L(t)),t.e()?null:t.value?new Xb(this.source,G,t.value):new ze(this.source,G,t)):(K(E(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ze(this.source,H(this.path),this.children))},ze.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g=Ae.prototype,g.yf=function(t,e,n,r){var i=t.path.toString();this.f("Listen called for "+i+" "+t.va());var o=Be(t,n),a={};this.$[o]=a,t=ge(t.n);var s=this;Ce(this,i+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.Gb(i,u,!1,n),w(s.$,o)===a&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},g.Rf=function(t,e){var n=Be(t,e);delete this.$[n]},g.M=function(t,e){this.Aa=t;var n=$c(t),r=n.data,n=n.Bc&&n.Bc.exp;e&&e("ok",{auth:r,expires:n})},g.ge=function(t){this.Aa=null,t("ok",null)},g.Me=function(){},g.Cf=function(){},g.Jd=function(){},g.put=function(){},g.zf=function(){},g.Ue=function(){},De.prototype.fe=function(t,e){var n;n=this.Oc[t]||[];var r=n.length;if(r>0){for(var i=Array(r),o=0;r>o;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].zc.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},De.prototype.Eb=function(t,e,n){Ee(this,t),this.Oc[t]=this.Oc[t]||[],this.Oc[t].push({zc:e,Ma:n}),(t=this.Ae(t))&&e.apply(n,t)},De.prototype.ic=function(t,e,n){Ee(this,t),t=this.Oc[t]||[];for(var r=0;r<t.length;r++)if(t[r].zc===e&&(!n||n===t[r].Ma)){t.splice(r,1);break}};var Fe=function(){var t=0,e=[];return function(n){var r=n===t;t=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(K(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return K(20===n.length,"nextPushId: Length should be 20."),n}}();ma(Ge,De),Ge.prototype.Ae=function(t){return K("online"===t,"Unknown event type: "+t),[this.kc]},ca(Ge),ma(He,De),He.prototype.Ae=function(t){return K("visible"===t,"Unknown event type: "+t),[this.Ob]},ca(He),g=L.prototype,g.toString=function(){for(var t="",e=this.Z;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},g.slice=function(t){return this.o.slice(this.Z+(t||0))},g.parent=function(){if(this.Z>=this.o.length)return null;for(var t=[],e=this.Z;e<this.o.length-1;e++)t.push(this.o[e]);return new L(t,0)},g.u=function(t){for(var e=[],n=this.Z;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof L)for(n=t.Z;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new L(e,0)},g.e=function(){return this.Z>=this.o.length},g.ca=function(t){if(Kd(this)!==Kd(t))return!1;for(var e=this.Z,n=t.Z;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},g.contains=function(t){var e=this.Z,n=t.Z;if(Kd(this)>Kd(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var G=new L("");Je.prototype.push=function(t){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(t),this.Ha+=Zc(t),Ke(this)},Je.prototype.pop=function(){var t=this.Qa.pop();this.Ha-=Zc(t),0<this.Qa.length&&--this.Ha};var Ne=new ac(function(t,e){return t===e?0:e>t?-1:1});g=Me.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(E(t));return null!==e?e.subtree(H(t)):Pd},g.set=function(t,e){if(t.e())return new Me(e,this.children);var n=E(t),r=(this.children.get(n)||Pd).set(H(t),e),n=this.children.Oa(n,r);return new Me(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?Pd:new Me(null,this.children);var e=E(t),n=this.children.get(e);return n?(t=n.remove(H(t)),e=t.e()?this.children.remove(e):this.children.Oa(e,t),null===this.value&&e.e()?Pd:new Me(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(E(t));return e?e.get(H(t)):null};var Pd=new Me(null);Me.prototype.toString=function(){var t={};return Md(this,function(e,n){t[e.toString()]=n.toString()}),B(t)},Ze.prototype.Xc=function(t){return this.path.e()?null!=this.Qb.value?(K(this.Qb.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Qb.subtree(new L(t)),new Ze(G,t,this.Vd)):(K(E(this.path)===t,"operationForChild called for unrelated child."),new Ze(H(this.path),this.Qb,this.Vd))},Ze.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Vd+" affectedTree="+this.Qb+")"};var Yb=0,Bd=1,Ed=2,$b=3,$e=new af(!0,!1,null,!1),bf=new af(!1,!0,null,!1);af.prototype.toString=function(){return this.we?"user":this.af?"server(queryID="+this.Hb+")":"server"};var df=new cf(new Me(null));cf.prototype.Rd=function(t){return t.e()?df:(t=Od(this.X,t,Pd),new cf(t))},cf.prototype.e=function(){return this.X.e()},cf.prototype.apply=function(t){return kf(G,this.X,t)},g=lf.prototype,g.Rd=function(t){var e=Ua(this.na,function(e){return e.kd===t});K(e>=0,"removeWrite called with nonexistent writeId.");var n=this.na[e];this.na.splice(e,1);for(var i=n.visible,o=!1,a=this.na.length-1;i&&a>=0;){var s=this.na[a];s.visible&&(a>=e&&nf(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=of(this.na,pf,G),this.Mc=0<this.na.length?this.na[this.na.length-1].kd:-1;else if(n.Ga)this.T=this.T.Rd(n.path);else{var u=this;r(n.children,function(t,e){u.T=u.T.Rd(n.path.u(e))})}return!0}return!1},g.za=function(t,e,n,r){if(n||r){var i=jf(this.T,t);return!r&&i.e()?e:r||null!=e||null!=gf(i,G)?(i=of(this.na,function(e){return(e.visible||r)&&(!n||!(0<=Na(n,e.kd)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||C,i.apply(e)):null}return i=gf(this.T,t),null!=i?i:(i=jf(this.T,t),i.e()?e:null!=e||null!=gf(i,G)?(e=e||C,i.apply(e)):null)},g.yc=function(t,e){var n=C,r=gf(this.T,t);if(r)r.K()||r.P(N,function(t,e){n=n.U(t,e)});else if(e){var i=jf(this.T,t);e.P(N,function(t,e){var r=jf(i,new L(t)).apply(e);n=n.U(t,r)}),Oa(hf(i),function(t){n=n.U(t.name,t.S)})}else i=jf(this.T,t),Oa(hf(i),function(t){n=n.U(t.name,t.S)});return n},g.ld=function(t,e,n,r){return K(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.u(e),null!=gf(this.T,t)?null:(t=jf(this.T,t),t.e()?r.Q(e):t.apply(r.Q(e)))},g.xc=function(t,e,n){t=t.u(e);var r=gf(this.T,t);return null!=r?r:sb(n,e)?jf(this.T,t).apply(n.j().R(e)):null},g.tc=function(t){return gf(this.T,t)},g.ne=function(t,e,n,r,i,o){var a;if(t=jf(this.T,t),a=gf(t,G),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.lb(o),a.e()||a.K())return[];for(e=[],t=td(o),i=i?a.$b(n,o):a.Yb(n,o),o=J(i);o&&e.length<r;)0!==t(o,n)&&e.push(o),o=J(i);return e},g=qf.prototype,g.za=function(t,e,n){return this.X.za(this.Mb,t,e,n)},g.yc=function(t){return this.X.yc(this.Mb,t)},g.ld=function(t,e,n){return this.X.ld(this.Mb,t,e,n)},g.tc=function(t){return this.X.tc(this.Mb.u(t))},g.ne=function(t,e,n,r,i){return this.X.ne(this.Mb,t,e,n,r,i)},g.xc=function(t,e){return this.X.xc(this.Mb,t,e)},g.u=function(t){return new qf(this.Mb.u(t),this.X)},g=rf.prototype,g.e=function(){return wa(this.ya)},g.ab=function(t,e,n){var i=t.source.Hb;if(null!==i)return i=w(this.ya,i),K(null!=i,"SyncTree gave us an op for an invalid query."),i.ab(t,e,n);var o=[];return r(this.ya,function(r){o=o.concat(r.ab(t,e,n))}),o},g.Pb=function(t,e,n,r,i){var o=t.va(),a=w(this.ya,o);if(!a){var a=n.za(i?r:null),s=!1;a?s=!0:(a=r instanceof R?n.yc(r):C,s=!1),a=new ve(t,new Id(new tb(a,s,!1),new tb(r,i,!1))),this.ya[o]=a}return a.Pb(e),ye(a,e)},g.jb=function(t,e,n){var i=t.va(),o=[],a=[],s=null!=sf(this);if("default"===i){var u=this;r(this.ya,function(t,r){a=a.concat(t.jb(e,n)),t.e()&&(delete u.ya[r],S(t.W.n)||o.push(t.W))})}else{var c=w(this.ya,i);c&&(a=a.concat(c.jb(e,n)),c.e()&&(delete this.ya[i],S(c.W.n)||o.push(c.W)))}return s&&null==sf(this)&&o.push(new U(t.k,t.path)),{Kg:o,mg:a}},g.fb=function(t){var e=null;return r(this.ya,function(n){e=e||n.fb(t)}),e},vf.prototype.Pb=function(t,e){var n=t.path,r=null,i=!1;Ve(this.ta,n,function(t,e){var o=T(t,n);return r=e.fb(o),i=i||null!=sf(e),!r});var o=this.ta.get(n);
o?(i=i||null!=sf(o),r=r||o.fb(G)):(o=new rf,this.ta=this.ta.set(n,o));var a;null!=r?a=!0:(a=!1,r=C,Ye(this.ta.subtree(n),function(t,e){var n=e.fb(G);n&&(r=r.U(t,n))}));var s=null!=uf(o,t);if(!s&&!S(t.n)){var u=Gf(t);K(!(u in this.mc),"View does not exist, but we have a tag");var c=Hf++;this.mc[u]=c,this.$e["_"+c]=u}return a=o.Pb(t,e,new qf(n,this.ib),r,a),s||i||(o=uf(o,t),a=a.concat(If(this,t,o))),a},vf.prototype.jb=function(t,e,n){var r=t.path,i=this.ta.get(r),o=[];if(i&&("default"===t.va()||null!=uf(i,t))){o=i.jb(t,e,n),i.e()&&(this.ta=this.ta.remove(r)),i=o.Kg,o=o.mg,e=-1!==Ua(i,function(t){return S(t.n)});var a=Te(this.ta,r,function(t,e){return null!=sf(e)});if(e&&!a&&(r=this.ta.subtree(r),!r.e()))for(var r=Jf(r),s=0;s<r.length;++s){var u=r[s],c=u.W,u=Kf(this,u);this.Nc.Xe(Lf(c),Mf(this,c),u.xd,u.H)}if(!a&&0<i.length&&!n)if(e)this.Nc.ae(Lf(t),null);else{var l=this;Oa(i,function(t){t.va();var e=l.mc[Gf(t)];l.Nc.ae(Lf(t),e)})}Nf(this,i)}return o},vf.prototype.za=function(t,e){var n=this.ib,r=Te(this.ta,t,function(e,n){var r=T(e,t);return(r=n.fb(r))?r:void 0});return n.za(t,r,e,!0)};var Hf=1;g=Rf.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.nd=0,Uf(this)},g.wd=function(){return 0<this.A.nd},g.e=function(){return null===this.Ca()&&!this.wd()},g.P=function(t){var e=this;r(this.A.children,function(n,r){t(new Rf(r,e,n))})},g.path=function(){return new L(null===this.Zc?this.Gd:this.Zc.path()+"/"+this.Gd)},g.name=function(){return this.Gd},g.parent=function(){return this.Zc};var Xf=/[\[\].#$\/\u0000-\u001F\u007F]/,Yf=/[\[\].#$\u0000-\u001F\u007F]/,Zf=/^[a-zA-Z][a-zA-Z._\-+]+$/;g=pg.prototype,g.add=function(t,e){this.set[t]=null!==e?e:!0},g.contains=function(t){return v(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return wa(this.set)},g.count=function(){return pa(this.set)},g.keys=function(){var t=[];return r(this.set,function(e,n){t.push(n)}),t},qc.prototype.find=function(t){if(null!=this.B)return this.B.Q(t);if(t.e()||null==this.m)return null;var e=E(t);return t=H(t),this.m.contains(e)?this.m.get(e).find(t):null},qc.prototype.nc=function(t,e){if(t.e())this.B=e,this.m=null;else if(null!==this.B)this.B=this.B.G(t,e);else{null==this.m&&(this.m=new pg);var n=E(t);this.m.contains(n)||this.m.add(n,new qc),n=this.m.get(n),t=H(t),n.nc(t,e)}},qc.prototype.P=function(t){null!==this.m&&qg(this.m,function(e,n){t(e,n)})};var sg="auth.firebase.com",ug=["remember","redirectTo"];wg.prototype.set=function(t,e){if(!e){if(!this.be.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.be[0]}e.set(this.Qe,t)},wg.prototype.get=function(){var t=Qa(this.be,q(this.qg,this)),t=Pa(t,function(t){return null!==t});return Xa(t,function(t,e){return ad(e.token)-ad(t.token)}),0<t.length?t.shift():null},wg.prototype.qg=function(t){try{var e=t.get(this.Qe);if(e&&e.token)return e}catch(n){}return null},wg.prototype.clear=function(){var t=this;Oa(this.be,function(e){e.remove(t.Qe)})},Ig.prototype.jc=function(t){var e,n=this;try{e=nb(t.data)}catch(r){}e&&"request"===e.a&&(Dg(window,"message",this.jc),this.ce=t.origin,this.Ac&&setTimeout(function(){n.Ac(n.ce,e.d,function(t,e){n.dg=!e,n.Ac=void 0,Jg(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},Ig.prototype.Bg=function(){try{Dg(this.zd,"message",this.Bf)}catch(t){}this.Ac&&(Jg(this,{a:"error",d:"unknown closed window"}),this.Ac=void 0);try{window.close()}catch(e){}},Ig.prototype.Bf=function(t){if(this.dg&&"die"===t.data)try{window.close()}catch(e){}},Kg.prototype.open=function(t,e){yc.set("redirect_request_id",this.pc),yc.set("redirect_request_id",this.pc),e.requestId=this.pc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+kb(e),window.location=t},Kg.isAvailable=function(){return!zg()&&!yg()},Kg.prototype.Cc=function(){return"redirect"};var Lg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Ng.prototype.open=function(t,e,n){function r(t){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),Dg(window,"message",i),Dg(window,"unload",r),c&&!t)try{c.close()}catch(e){a.postMessage("die",u)}c=a=void 0}function i(t){if(t.origin===u)try{var e=nb(t.data);"ready"===e.a?a.postMessage(h,u):"error"===e.a?(r(!1),n&&(n(e.d),n=null)):"response"===e.a&&(r(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(i){}}var o,a,s=Ag(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=Eg(t);if(u!==Eg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+kb(e);var c=window.open(t,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Mg("USER_CANCELLED")),n=null))},500),h=B({a:"request",d:e});Cg(window,"unload",r),Cg(window,"message",i)}},Ng.isAvailable=function(){var t;return(t="postMessage"in window&&!zg())&&((t=yg()||"undefined"!=typeof navigator&&(!!xg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(t=xg(),t="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||t.match(/CriOS/)||t.match(/Twitter for iPhone/)||t.match(/FBAN\/FBIOS/)||window.navigator.standalone)),t=!t),t&&!xg().match(/PhantomJS/)},Ng.prototype.Cc=function(){return"popup"},Og.prototype.open=function(t,e,n){function r(){n&&(n(Mg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Cg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=nb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?Mg("SERVER_ERROR"):Mg("NETWORK_ERROR"));n=null,Dg(window,"beforeunload",r)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+kb(e),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=B(e)),"application/x-www-form-urlencoded"===s&&(i=kb(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(t,this.options.headers);for(var u in t)o.setRequestHeader(u,t[u]);o.send(i)},Og.isAvailable=function(){var t;return(t=!!window.XMLHttpRequest)&&(t=xg(),t=!(t.match(/MSIE/)||t.match(/Trident/))||Ag(10)),t},Og.prototype.Cc=function(){return"json"},Pg.prototype.open=function(t,e,n){function r(){n&&(n(Mg("USER_CANCELLED")),n=null)}var i,o=this,a=Pc(sg);e.requestId=this.pc,e.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=kb(e),(i=window.open(t,"_blank","location=no"))&&ha(i.addEventListener)?(i.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var s=document.createElement("a");s.href=t.url,e=s.host===a.host&&"/blank/page.html"===s.pathname;break t}catch(u){}e=!1}e&&(t=Fg(t.url),i.removeEventListener("exit",r),i.close(),t=new tg(null,null,{requestId:o.pc,requestKey:t}),o.Ef.requestWithCredential("/auth/session",t,n),n=null)}),i.addEventListener("exit",r)):n(Mg("TRANSPORT_UNAVAILABLE"))},Pg.isAvailable=function(){return yg()},Pg.prototype.Cc=function(){return"redirect"},Qg.prototype.open=function(t,e,n){function r(){n&&(n(Mg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),Dg(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+kb(e),Cg(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),i()},Rg(o,t,n)},Qg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Qg.prototype.Cc=function(){return"json"},ma(Sg,De),g=Sg.prototype,g.xe=function(){return this.mb||null},g.se=function(t,e){ah(this);var n=vg(t);n.$a._method="POST",this.qc("/users",n,function(t,n){t?P(e,t):P(e,t,n)})},g.Te=function(t,e){var n=this;ah(this);var r="/users/"+encodeURIComponent(t.email),i=vg(t);i.$a._method="DELETE",this.qc(r,i,function(t,r){!t&&r&&r.uid&&n.mb&&n.mb.uid&&n.mb.uid===r.uid&&Zg(n),P(e,t)})},g.pe=function(t,e){ah(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=vg(t);r.$a._method="PUT",r.$a.password=t.newPassword,this.qc(n,r,function(t){P(e,t)})},g.oe=function(t,e){ah(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",r=vg(t);r.$a._method="PUT",r.$a.email=t.newEmail,r.$a.password=t.password,this.qc(n,r,function(t){P(e,t)})},g.Ve=function(t,e){ah(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=vg(t);r.$a._method="POST",this.qc(n,r,function(t){P(e,t)})},g.qc=function(t,e,n){dh(this,[Og,Qg],t,e,n)},g.Ae=function(t){return K("auth_status"===t,'initial event must be of type "auth_status"'),this.Se?null:[this.mb]};var Cc="websocket",Dc="long_polling",ih,jh;hh.prototype.open=function(t,e){this.hf=0,this.la=e,this.Af=new eh(t),this.zb=!1;var n=this;this.qb=setTimeout(function(){n.f("Timed out trying to connect."),n.gb(),n.qb=null},Math.floor(3e4)),Rc(function(){if(!n.zb){n.Sa=new kh(function(t,e,r,i,o){if(lh(n,arguments),n.Sa)if(n.qb&&(clearTimeout(n.qb),n.qb=null),n.Hc=!0,"start"==t)n.id=e,n.Gf=r;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Sa.Xd=!1,fh(n.Af,e,function(){n.gb()})):n.gb()}},function(t,e){lh(n,arguments),gh(n.Af,t,e)},function(){n.gb()},n.jd);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Sa.he&&(t.cb=n.Sa.he),t.v="5",n.Qf&&(t.s=n.Qf),n.Bb&&(t.ls=n.Bb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.jd(t),n.f("Connecting via long-poll to "+t),mh(n.Sa,t,function(){})}})},hh.prototype.start=function(){var t=this.Sa,e=this.Gf;for(t.ug=this.id,t.vg=e,t.le=!0;nh(t););t=this.id,e=this.Gf,this.gc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.gc.src=this.jd(n),this.gc.style.display="none",document.body.appendChild(this.gc)},hh.isAvailable=function(){return ih||!jh&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Xg)&&!0},g=hh.prototype,g.Ed=function(){},g.dd=function(){this.zb=!0,this.Sa&&(this.Sa.close(),this.Sa=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.qb&&(clearTimeout(this.qb),this.qb=null)},g.gb=function(){this.zb||(this.f("Longpoll is closing itself"),this.dd(),this.la&&(this.la(this.Hc),this.la=null))},g.close=function(){this.zb||(this.f("Longpoll is being closed."),this.dd())},g.send=function(t){t=B(t),this.ob+=t.length,Ob(this.Ua,"bytes_sent",t.length),t=Ic(t),t=fb(t,!0),t=Vc(t,1840);for(var e=0;e<t.length;e++){var n=this.Sa;n.ad.push({Mg:this.hf,Ug:t.length,kf:t[e]}),n.le&&nh(n),this.hf++}},kh.prototype.close=function(){if(this.le=!1,this.Ea){this.Ea.eb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ea&&(document.body.removeChild(t.Ea),t.Ea=null)},Math.floor(0))}var e=this.hb;e&&(this.hb=null,e())};var ph=null;"undefined"!=typeof MozWebSocket?ph=MozWebSocket:"undefined"!=typeof WebSocket&&(ph=WebSocket);var rh;qh.prototype.open=function(t,e){this.hb=e,this.zg=t,this.f("Websocket connecting to "+this.ef),this.Hc=!1,xc.set("previous_websocket_failure",!0);try{this.ua=new ph(this.ef)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.gb()}var i=this;this.ua.onopen=function(){i.f("Websocket connected."),i.Hc=!0},this.ua.onclose=function(){i.f("Websocket connection was disconnected."),i.ua=null,i.gb()},this.ua.onmessage=function(t){if(null!==i.ua)if(t=t.data,i.nb+=t.length,Ob(i.Ua,"bytes_received",t.length),sh(i),null!==i.frames)th(i,t);else{t:{if(K(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.bf=e,i.frames=[],t=null;break t}}i.bf=1,i.frames=[]}null!==t&&th(i,t)}},this.ua.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.gb()}},qh.prototype.start=function(){},qh.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==ph&&!rh},qh.responsesRequiredToBeHealthy=2,qh.healthyTimeout=3e4,g=qh.prototype,g.Ed=function(){xc.remove("previous_websocket_failure")},g.send=function(t){sh(this),t=B(t),this.ob+=t.length,Ob(this.Ua,"bytes_sent",t.length),t=Vc(t,16384),1<t.length&&this.ua.send(String(t.length));for(var e=0;e<t.length;e++)this.ua.send(t[e])},g.dd=function(){this.zb=!0,this.Kc&&(clearInterval(this.Kc),this.Kc=null),this.ua&&(this.ua.close(),this.ua=null)},g.gb=function(){this.zb||(this.f("WebSocket is closing itself"),this.dd(),this.hb&&(this.hb(this.Hc),this.hb=null))},g.close=function(){this.zb||(this.f("WebSocket is being closed"),this.dd())};var wh=[hh,qh];yh.prototype.Fa=function(t){Jh(this,{t:"d",d:t})},yh.prototype.Id=function(t){Gh(this),this.jc(t)},yh.prototype.close=function(){2!==this.Ta&&(this.f("Closing realtime connection."),this.Ta=2,Fh(this),this.la&&(this.la(),this.la=null))};var Lh=0,Nh=0;g=Kh.prototype,g.Fa=function(t,e,n){var r=++this.Lg;t={r:r,a:t,b:e},this.f(B(t)),K(this.oa,"sendRequest call when we're not connected not allowed."),this.Ia.Fa(t),n&&(this.Td[r]=n)},g.yf=function(t,e,n,r){var i=t.va(),o=t.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},K(fe(t.n)||!S(t.n),"listen() called for non-default but complete query"),K(!this.$[o][i],"listen() called twice for same path/queryId."),t={H:r,xd:e,Ig:t,tag:n},this.$[o][i]=t,this.oa&&Oh(this,t)},g.M=function(t,e,n){this.Aa={ig:t,of:!1,zc:e,md:n},this.f("Authenticating using credential: "+t),Qh(this),(e=40==t.length)||(t=$c(t).Bc,e="object"==typeof t&&!0===w(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Fd=3e4)},g.ge=function(t){delete this.Aa,this.oa&&this.Fa("unauth",{},function(e){t(e.s,e.d)})},g.Rf=function(t,e){var n=t.path.toString(),r=t.va();if(this.f("Unlisten called for "+n+" "+r),K(fe(t.n)||!S(t.n),"unlisten() called for non-default but complete query"),Ph(this,n,r)&&this.oa){var i=ee(t.n);this.f("Unlisten on "+n+" for "+r),n={p:n},e&&(n.q=i,n.t=e),this.Fa("n",n)}},g.Me=function(t,e,n){this.oa?Rh(this,"o",t,e,n):this.Vc.push({$c:t,action:"o",data:e,H:n})},g.Cf=function(t,e,n){this.oa?Rh(this,"om",t,e,n):this.Vc.push({$c:t,action:"om",data:e,H:n})},g.Jd=function(t,e){this.oa?Rh(this,"oc",t,null,e):this.Vc.push({$c:t,action:"oc",data:null,H:e})},g.put=function(t,e,n,r){Sh(this,"p",t,e,n,r)},g.zf=function(t,e,n,r){Sh(this,"m",t,e,n,r)},g.Ue=function(t){this.oa&&(t={c:t},this.f("reportStats",t),this.Fa("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},g.Id=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Td[e];n&&(delete this.Td[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Gb(n.p,n.d,!1,n.t):"m"===e?this.Gb(n.p,n.d,!0,n.t):"c"===e?Uh(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Aa,delete this.Aa,n&&n.md&&n.md(t,e)):"sd"===e?this.We?this.We(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Nc("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},g.Wc=function(t,e){if(this.f("connection ready"),this.oa=!0,this.Lc=(new Date).getTime(),this.Oe({serverTimeOffset:t-(new Date).getTime()}),this.Bb=e,this.nf){var n={};n["sdk.js."+hb.replace(/\./g,"-")]=1,yg()&&(n["framework.cordova"]=1),this.Ue(n)}Vh(this),this.nf=!1,this.Uc(!0)},g.Cg=function(t){t&&!this.Ob&&this.Za===this.Fd&&(this.f("Window became visible.  Reducing delay."),this.Za=1e3,this.Ia||Mh(this,0)),this.Ob=t},g.Ag=function(t){t?(this.f("Browser went online."),this.Za=1e3,this.Ia||Mh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},g.Df=function(){this.f("data client disconnected"),this.oa=!1,this.Ia=null;for(var t=0;t<this.qa.length;t++){var e=this.qa[t];e&&"h"in e.Jf&&e.Jg&&(e.H&&e.H("disconnect"),delete this.qa[t],this.Yc--)}0===this.Yc&&(this.qa=[]),this.Td={},Xh(this)&&(this.Ob?this.Lc&&(3e4<(new Date).getTime()-this.Lc&&(this.Za=1e3),this.Lc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Za=this.Fd,this.Ge=(new Date).getTime()),t=Math.max(0,this.Za-((new Date).getTime()-this.Ge)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Mh(this,t),this.Za=Math.min(this.Fd,1.3*this.Za)),this.Uc(!1)},g.yb=function(){this.Ee=!0,this.Ia?this.Ia.close():(this.sb&&(clearTimeout(this.sb),this.sb=null),this.oa&&this.Df())},g.rc=function(){this.Ee=!1,this.Za=1e3,this.Ia||Mh(this,0)};var V={og:function(){ih=rh=!0}};V.forceLongPolling=V.og,V.pg=function(){jh=!0},V.forceWebSockets=V.pg,V.Pg=function(t,e){t.k.Ra.We=e},V.setSecurityDebugCallback=V.Pg,V.Ye=function(t,e){t.k.Ye(e)},V.stats=V.Ye,V.Ze=function(t,e){t.k.Ze(e)},V.statsIncrementCounter=V.Ze,V.sd=function(t){return t.k.sd},V.dataUpdateCount=V.sd,V.sg=function(t,e){t.k.De=e},V.interceptServerData=V.sg,V.yg=function(t){new Ig(t)},V.onPopupOpen=V.yg,V.Ng=function(t){sg=t},V.setAuthenticationServer=V.Ng,Q.prototype.I=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.I()},Q.prototype.val=Q.prototype.I,Q.prototype.mf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.I(!0)},Q.prototype.exportVal=Q.prototype.mf,Q.prototype.ng=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},Q.prototype.exists=Q.prototype.ng,Q.prototype.u=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),ig("Firebase.DataSnapshot.child",t);var e=new L(t),n=this.W.u(e);return new Q(this.A.Q(e),n,N)},Q.prototype.child=Q.prototype.u,Q.prototype.Da=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ig("Firebase.DataSnapshot.hasChild",t);var e=new L(t);return!this.A.Q(e).e()},Q.prototype.hasChild=Q.prototype.Da,Q.prototype.C=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().I()},Q.prototype.getPriority=Q.prototype.C,Q.prototype.forEach=function(t){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,t,!1),this.A.K())return!1;var e=this;return!!this.A.P(this.g,function(n,r){return t(new Q(r,e.W.u(n),N))})},Q.prototype.forEach=Q.prototype.forEach,Q.prototype.wd=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.K()?!1:!this.A.e()},Q.prototype.hasChildren=Q.prototype.wd,Q.prototype.name=function(){return O("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},Q.prototype.name=Q.prototype.name,Q.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.W.key()},Q.prototype.key=Q.prototype.key,Q.prototype.Db=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Db()},Q.prototype.numChildren=Q.prototype.Db,Q.prototype.Ib=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.W},Q.prototype.ref=Q.prototype.Ib,g=Yh.prototype,g.toString=function(){return(this.F.kb?"https://":"http://")+this.F.host},g.name=function(){return this.F.hc},g.Gb=function(t,e,n,r){this.sd++;var i=new L(t);e=this.De?this.De(t,e):e,t=[],r?n?(e=na(e,function(t){return M(t)}),t=Ff(this.L,i,e,r)):(e=M(e),t=Bf(this.L,i,e,r)):n?(r=na(e,function(t){return M(t)}),t=Af(this.L,i,r)):(r=M(e),t=xf(this.L,new Xb(bf,i,r))),r=i,0<t.length&&(r=bi(this,i)),Ab(this.da,r,t)},g.Uc=function(t){Zh(this,"connected",t),!1===t&&ci(this)},g.Oe=function(t){var e=this;Wc(t,function(t,n){Zh(e,n,t)})},g.Le=function(t){Zh(this,"authenticated",t)},g.Kb=function(t,e,n,r){this.f("set",{path:t.toString(),value:e,$g:n});var i=ai(this);e=M(e,n);var i=sc(e,i),o=this.Hd++,i=wf(this.L,t,i,o,!0);wb(this.da,i);var a=this;this.ba.put(t.toString(),e.I(!0),function(e,n){var i="ok"===e;i||O("set at "+t+" failed: "+e),i=zf(a.L,o,!i),Ab(a.da,t,i),di(r,e,n)}),i=ei(this,t),bi(this,i),Ab(this.da,i,[])},g.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,o=ai(this),a={};if(r(e,function(t,e){i=!1;var n=M(t);a[e]=sc(n,o)}),i)Cb("update() called with empty data.  Don't do anything."),di(n,"ok");else{var s=this.Hd++,u=yf(this.L,t,a,s);wb(this.da,u);var c=this;this.ba.zf(t.toString(),e,function(e,r){var i="ok"===e;i||O("update at "+t+" failed: "+e);var i=zf(c.L,s,!i),o=t;0<i.length&&(o=bi(c,t)),Ab(c.da,o,i),di(n,e,r)}),e=ei(this,t),bi(this,e),Ab(this.da,t,[])}},g.Jd=function(t,e){var n=this;this.ba.Jd(t.toString(),function(r,i){"ok"===r&&rg(n.la,t),di(e,r,i)})},g.yb=function(){this.Ra&&this.Ra.yb()},g.rc=function(){this.Ra&&this.Ra.rc()},g.Ye=function(t){if("undefined"!=typeof console){t?(this.fd||(this.fd=new Lb(this.Ua)),t=this.fd.get()):t=this.Ua.get();var e,n=Ra(sa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var r=t[e],i=e.length;n+2>i;i++)e+=" ";console.log(e+r)}}},g.Ze=function(t){Ob(this.Ua,t),this.Sg.Of[t]=!0},g.f=function(t){var e="";this.Ra&&(e=this.Ra.id+":"),Cb(e,arguments)},W.prototype.yb=function(){for(var t in this.oc)this.oc[t].yb()},W.prototype.rc=function(){for(var t in this.oc)this.oc[t].rc()},W.prototype.ve=function(){this.Sf=!0},ca(W),W.prototype.interrupt=W.prototype.yb,W.prototype.resume=W.prototype.rc,X.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0),this.bd.Jd(this.ra,t||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),jg("Firebase.onDisconnect().remove",this.ra),A("Firebase.onDisconnect().remove",1,t,!0),fi(this.bd,this.ra,null,t)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),jg("Firebase.onDisconnect().set",this.ra),bg("Firebase.onDisconnect().set",t,this.ra,!1),A("Firebase.onDisconnect().set",2,e,!0),fi(this.bd,this.ra,t,e)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(t,e,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),jg("Firebase.onDisconnect().setWithPriority",this.ra),bg("Firebase.onDisconnect().setWithPriority",t,this.ra,!1),fg("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0),gi(this.bd,this.ra,t,e,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),jg("Firebase.onDisconnect().update",this.ra),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eg("Firebase.onDisconnect().update",t,this.ra),A("Firebase.onDisconnect().update",2,e,!0),hi(this.bd,this.ra,t,e)},X.prototype.update=X.prototype.update,g=Y.prototype,g.Ib=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},g.Eb=function(t,e,n,r){x("Query.on",2,4,arguments.length),gg("Query.on",t,!1),A("Query.on",2,e,!1);var i=vi("Query.on",n,r);if("value"===t)ii(this.k,this,new id(e,i.cancel||null,i.Ma||null));else{var o={};o[t]=e,ii(this.k,this,new jd(o,i.cancel,i.Ma))}return e},g.ic=function(t,e,n){x("Query.off",0,3,arguments.length),gg("Query.off",t,!0),A("Query.off",2,e,!0),mb("Query.off",3,n);var r=null,i=null;"value"===t?r=new id(e||null,null,n||null):t&&(e&&(i={},i[t]=e),r=new jd(i,null,n||null)),i=this.k,r=".info"===E(this.path)?i.Cd.jb(this,r):i.L.jb(this,r),yb(i.da,this.path,r)},g.Dg=function(t,e){function n(a){o&&(o=!1,i.ic(t,n),e.call(r.Ma,a))}x("Query.once",2,4,arguments.length),gg("Query.once",t,!1),A("Query.once",2,e,!1);var r=vi("Query.once",arguments[2],arguments[3]),i=this,o=!0;this.Eb(t,n,function(e){i.ic(t,n),r.cancel&&r.cancel.call(r.Ma,e)})},g.He=function(t){if(O("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.n.He(t);return ti(e),new Y(this.k,this.path,e,this.lc)},g.Ie=function(t){if(x("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ie(t),this.lc)},g.Je=function(t){if(x("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Je(t),this.lc)},g.Eg=function(t){if(x("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ig("Query.orderByChild",t),ui(this,"Query.orderByChild");var e=new L(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new Ud(e),e=de(this.n,e),si(e),new Y(this.k,this.path,e,!0)},g.Fg=function(){x("Query.orderByKey",0,0,arguments.length),ui(this,"Query.orderByKey");var t=de(this.n,Qd);return si(t),new Y(this.k,this.path,t,!0)},g.Gg=function(){x("Query.orderByPriority",0,0,arguments.length),ui(this,"Query.orderByPriority");var t=de(this.n,N);return si(t),new Y(this.k,this.path,t,!0)},g.Hg=function(){x("Query.orderByValue",0,0,arguments.length),ui(this,"Query.orderByValue");var t=de(this.n,$d);return si(t),new Y(this.k,this.path,t,!0)},g.$d=function(t,e){x("Query.startAt",0,2,arguments.length),bg("Query.startAt",t,this.path,!0),hg("Query.startAt",e);var r=this.n.$d(t,e);if(ti(r),si(r),this.n.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new Y(this.k,this.path,r,this.lc)},g.td=function(t,e){x("Query.endAt",0,2,arguments.length),bg("Query.endAt",t,this.path,!0),hg("Query.endAt",e);var n=this.n.td(t,e);if(ti(n),si(n),this.n.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.lc)},g.kg=function(t,e){if(x("Query.equalTo",1,2,arguments.length),bg("Query.equalTo",t,this.path,!1),hg("Query.equalTo",e),this.n.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.$d(t,e).td(t,e)},g.toString=function(){x("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Z;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return this.k.toString()+(e||"/")},g.va=function(){var t=Uc(ee(this.n));return"{}"===t?"default":t},Y.prototype.ref=Y.prototype.Ib,Y.prototype.on=Y.prototype.Eb,Y.prototype.off=Y.prototype.ic,Y.prototype.once=Y.prototype.Dg,Y.prototype.limit=Y.prototype.He,Y.prototype.limitToFirst=Y.prototype.Ie,Y.prototype.limitToLast=Y.prototype.Je,Y.prototype.orderByChild=Y.prototype.Eg,Y.prototype.orderByKey=Y.prototype.Fg,Y.prototype.orderByPriority=Y.prototype.Gg,Y.prototype.orderByValue=Y.prototype.Hg,Y.prototype.startAt=Y.prototype.$d,Y.prototype.endAt=Y.prototype.td,Y.prototype.equalTo=Y.prototype.kg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.vc=Kh,Z.DataConnection=Z.vc,Kh.prototype.Rg=function(t,e){this.Fa("q",{p:t},e)},Z.vc.prototype.simpleListen=Z.vc.prototype.Rg,Kh.prototype.jg=function(t,e){this.Fa("echo",{d:t},e)},Z.vc.prototype.echo=Z.vc.prototype.jg,Kh.prototype.interrupt=Kh.prototype.yb,Z.Vf=yh,Z.RealTimeConnection=Z.Vf,yh.prototype.sendRequest=yh.prototype.Fa,yh.prototype.close=yh.prototype.close,Z.rg=function(t){var e=Kh.prototype.put;return Kh.prototype.put=function(r,i,o,a){n(a)&&(a=t()),e.call(this,r,i,o,a)},function(){Kh.prototype.put=e}},Z.hijackHash=Z.rg,Z.Uf=zc,Z.ConnectionTarget=Z.Uf,Z.va=function(t){return t.va()},Z.queryIdentifier=Z.va,Z.tg=function(t){return t.k.Ra.$},Z.listens=Z.tg,Z.ve=function(t){t.ve()},Z.forceRestClient=Z.ve,ma(U,Y);var wi=U,xi=["Firebase"],yi=aa;xi[0]in yi||!yi.execScript||yi.execScript("var "+xi[0]);for(var zi;xi.length&&(zi=xi.shift());)!xi.length&&n(wi)?yi[zi]=wi:yi=yi[zi]?yi[zi]:yi[zi]={};U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.ub().yb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.ub().rc()},U.enableLogging=Lc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION=hb,U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z,U.prototype.name=function(){return O("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:Ld(this.path)},U.prototype.key=U.prototype.key,U.prototype.u=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof L))if(null===E(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ig("Firebase.child",e)}else ig("Firebase.child",t);return new U(this.k,this.path.u(t))},U.prototype.child=U.prototype.u,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.k,t)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},U.prototype.root=U.prototype.root,U.prototype.set=function(t,e){x("Firebase.set",1,2,arguments.length),jg("Firebase.set",this.path),bg("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0),this.k.Kb(this.path,t,null,e||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),jg("Firebase.update",this.path),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eg("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),this.k.update(this.path,t,e||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),jg("Firebase.setWithPriority",this.path),
bg("Firebase.setWithPriority",t,this.path,!1),fg("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,t,e,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(t){x("Firebase.remove",0,1,arguments.length),jg("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(t,e,r){if(x("Firebase.transaction",1,3,arguments.length),jg("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),n(r)&&"boolean"!=typeof r)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof r&&(r=!0),ji(this.k,this.path,t,e||null,r)},U.prototype.transaction=U.prototype.transaction,U.prototype.Og=function(t,e){x("Firebase.setPriority",1,2,arguments.length),jg("Firebase.setPriority",this.path),fg("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0),this.k.Kb(this.path.u(".priority"),t,null,e)},U.prototype.setPriority=U.prototype.Og,U.prototype.push=function(t,e){x("Firebase.push",0,2,arguments.length),jg("Firebase.push",this.path),bg("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=$h(this.k),n=Fe(n),n=this.u(n);return"undefined"!=typeof t&&null!==t&&n.set(t,e),n},U.prototype.push=U.prototype.push,U.prototype.hb=function(){return jg("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.hb,U.prototype.M=function(t,e,n){O("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),kg("Firebase.auth",t),A("Firebase.auth",2,e,!0),A("Firebase.auth",3,e,!0),Yg(this.k.M,t,{},{remember:"none"},e,n)},U.prototype.auth=U.prototype.M,U.prototype.ge=function(t){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,t,!0),Zg(this.k.M,t)},U.prototype.unauth=U.prototype.ge,U.prototype.xe=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.M.xe()},U.prototype.getAuth=U.prototype.xe,U.prototype.xg=function(t,e){x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,t,!1),mb("Firebase.onAuth",2,e),this.k.M.Eb("auth_status",t,e)},U.prototype.onAuth=U.prototype.xg,U.prototype.wg=function(t,e){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,t,!1),mb("Firebase.offAuth",2,e),this.k.M.ic("auth_status",t,e)},U.prototype.offAuth=U.prototype.wg,U.prototype.Zf=function(t,e,n){x("Firebase.authWithCustomToken",2,3,arguments.length),kg("Firebase.authWithCustomToken",t),A("Firebase.authWithCustomToken",2,e,!1),ng("Firebase.authWithCustomToken",3,n,!0),Yg(this.k.M,t,{},n||{},e)},U.prototype.authWithCustomToken=U.prototype.Zf,U.prototype.$f=function(t,e,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),mg("Firebase.authWithOAuthPopup",t),A("Firebase.authWithOAuthPopup",2,e,!1),ng("Firebase.authWithOAuthPopup",3,n,!0),ch(this.k.M,t,n,e)},U.prototype.authWithOAuthPopup=U.prototype.$f,U.prototype.ag=function(t,e,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),mg("Firebase.authWithOAuthRedirect",t),A("Firebase.authWithOAuthRedirect",2,e,!1),ng("Firebase.authWithOAuthRedirect",3,n,!0);var r=this.k.M;ah(r);var i=[Kg],o=vg(n);"anonymous"===t||"firebase"===t?P(e,Mg("TRANSPORT_UNAVAILABLE")):(yc.set("redirect_client_options",o.od),bh(r,i,"/auth/"+t,o,e))},U.prototype.authWithOAuthRedirect=U.prototype.ag,U.prototype.bg=function(t,e,n,r){x("Firebase.authWithOAuthToken",3,4,arguments.length),mg("Firebase.authWithOAuthToken",t),A("Firebase.authWithOAuthToken",3,n,!1),ng("Firebase.authWithOAuthToken",4,r,!0),p(e)?(lg("Firebase.authWithOAuthToken",2,e),$g(this.k.M,t+"/token",{access_token:e},r,n)):(ng("Firebase.authWithOAuthToken",2,e,!1),$g(this.k.M,t+"/token",e,r,n))},U.prototype.authWithOAuthToken=U.prototype.bg,U.prototype.Yf=function(t,e){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,t,!1),ng("Firebase.authAnonymously",2,e,!0),$g(this.k.M,"anonymous",{},e,t)},U.prototype.authAnonymously=U.prototype.Yf,U.prototype.cg=function(t,e,n){x("Firebase.authWithPassword",2,3,arguments.length),ng("Firebase.authWithPassword",1,t,!1),og("Firebase.authWithPassword",t,"email"),og("Firebase.authWithPassword",t,"password"),A("Firebase.authWithPassword",2,e,!1),ng("Firebase.authWithPassword",3,n,!0),$g(this.k.M,"password",t,n,e)},U.prototype.authWithPassword=U.prototype.cg,U.prototype.se=function(t,e){x("Firebase.createUser",2,2,arguments.length),ng("Firebase.createUser",1,t,!1),og("Firebase.createUser",t,"email"),og("Firebase.createUser",t,"password"),A("Firebase.createUser",2,e,!1),this.k.M.se(t,e)},U.prototype.createUser=U.prototype.se,U.prototype.Te=function(t,e){x("Firebase.removeUser",2,2,arguments.length),ng("Firebase.removeUser",1,t,!1),og("Firebase.removeUser",t,"email"),og("Firebase.removeUser",t,"password"),A("Firebase.removeUser",2,e,!1),this.k.M.Te(t,e)},U.prototype.removeUser=U.prototype.Te,U.prototype.pe=function(t,e){x("Firebase.changePassword",2,2,arguments.length),ng("Firebase.changePassword",1,t,!1),og("Firebase.changePassword",t,"email"),og("Firebase.changePassword",t,"oldPassword"),og("Firebase.changePassword",t,"newPassword"),A("Firebase.changePassword",2,e,!1),this.k.M.pe(t,e)},U.prototype.changePassword=U.prototype.pe,U.prototype.oe=function(t,e){x("Firebase.changeEmail",2,2,arguments.length),ng("Firebase.changeEmail",1,t,!1),og("Firebase.changeEmail",t,"oldEmail"),og("Firebase.changeEmail",t,"newEmail"),og("Firebase.changeEmail",t,"password"),A("Firebase.changeEmail",2,e,!1),this.k.M.oe(t,e)},U.prototype.changeEmail=U.prototype.oe,U.prototype.Ve=function(t,e){x("Firebase.resetPassword",2,2,arguments.length),ng("Firebase.resetPassword",1,t,!1),og("Firebase.resetPassword",t,"email"),A("Firebase.resetPassword",2,e,!1),this.k.M.Ve(t,e)},U.prototype.resetPassword=U.prototype.Ve}(),module.exports=Firebase},function(t,e){t.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3dash","us-west-1/s3":"s3dash","us-west-2/s3":"s3dash","eu-west-1/s3":"s3dash","ap-southeast-1/s3":"s3dash","ap-southeast-2/s3":"s3dash","ap-northeast-1/s3":"s3dash","sa-east-1/s3":"s3dash","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3dash:{endpoint:"{service}-{region}.amazonaws.com",signatureVersion:"s3"}}}},function(t,e,n){var r=n(51);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}var n=r.atob(e);try{return decodeURIComponent(escape(n))}catch(i){return n}}},function(t,e,n){"use strict";var r=n(48),i=n(50);t.exports=function(t){if(!t)throw new Error("Invalid token specified");return i(r(t.split(".")[1]))}},function(module,exports){module.exports=function(str){var parsed;return parsed="object"==typeof JSON?JSON.parse(str):eval("("+str+")")}},function(t,e,n){!function(){var t=e,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=function(){try{document.createElement("$")}catch(t){return t}}();t.btoa||(t.btoa=function(t){for(var e,i,o=0,a=n,s="";t.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&e>>8-o%1*8)){if(i=t.charCodeAt(o+=.75),i>255)throw r;e=e<<8|i}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw r;for(var e,i,o=0,a=0,s="";i=t.charAt(a++);~i&&(e=o%4?64*e+i:i,o++%4)?s+=String.fromCharCode(255&e>>(-2*o&6)):0)i=n.indexOf(i);return s})}()},function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){return t===Object(t)}function a(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;a>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function u(t){var e,n,r,i,o=t.split(/\r?\n/),a={};o.pop();for(var s=0,u=o.length;u>s;++s)n=o[s],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=y(n.slice(e+1)),a[r]=i;return a}function c(t){return t.split(/ *; */).shift()}function l(t){return v(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function f(t,e){var n=this;g.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(i,e)})}function p(t,e){return"function"==typeof e?new f("GET",t).end(e):1==arguments.length?new f("GET",t):new f(t,e)}var d,g=n(53),v=n(54);d="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,p.getXHR=function(){if(!(!d.XMLHttpRequest||d.location&&"file:"==d.location.protocol&&d.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};p.serializeObject=a,p.parseString=s,p.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},p.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=l(e);for(var r in n)this[r]=n[r]},h.prototype.parse=function(t){return this.parser=t,this},h.prototype.parseBody=function(t){var e=this.parser||p.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},p.Response=h,g(f.prototype),f.prototype.use=function(t){return t(this),this},f.prototype.timeout=function(t){return this._timeout=t,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},f.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},f.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},f.prototype.type=function(t){return this.set("Content-Type",p.types[t]||t),this},f.prototype.accept=function(t){return this.set("Accept",p.types[t]||t),this},f.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},f.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},f.prototype.field=function(t,e){return this._formData||(this._formData=new d.FormData),this._formData.append(t,e),this},f.prototype.attach=function(t,e,n){return this._formData||(this._formData=new d.FormData),this._formData.append(t,e,n),this},f.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||i(t)?this:(n||this.type("json"),this)},f.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},f.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},f.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(t){var e=this,n=this.xhr=p.getXHR(),o=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(c){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),o&&(o=p.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!i(s)){var l=this.getHeader("Content-Type"),h=p.serialize[l?l.split(";")[0]:""];h&&(s=h(s))}for(var f in this.header)null!=this.header[f]&&n.setRequestHeader(f,this.header[f]);return this.emit("request",this),n.send(s),this},f.prototype.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},p.Request=f,p.get=function(t,e,n){var r=p("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},p.head=function(t,e,n){var r=p("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},p.del=function(t,e){var n=p("DELETE",t);return e&&n.end(e),n},p.patch=function(t,e,n){var r=p("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},p.post=function(t,e,n){var r=p("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},p.put=function(t,e,n){var r=p("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},t.exports=p},function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},function(t,e,n){var r=n(1);n(24),n(25),r.Config=r.util.inherit({constructor:function(t){void 0===t&&(t={}),t=this.extractCredentials(t),r.util.each.call(this,this.keys,function(e,n){this.set(e,t[e],n)})},getCredentials:function(t){function e(e){t(e,e?null:a.credentials)}function n(t,e){return new r.util.error(e||new Error,{code:"CredentialsError",message:t})}function i(){a.credentials.get(function(t){if(t){var r="Could not load credentials from "+a.credentials.constructor.name;t=n(r,t)}e(t)})}function o(){var t=null;a.credentials.accessKeyId&&a.credentials.secretAccessKey||(t=n("Missing credentials")),e(t)}var a=this;a.credentials?"function"==typeof a.credentials.get?i():o():a.credentialProvider?a.credentialProvider.resolve(function(t,r){t&&(t=n("Could not load credentials from any providers",t)),a.credentials=r,e(t)}):e(n("No credentials to load"))},update:function(t,e){e=e||!1,t=this.extractCredentials(t),r.util.each.call(this,t,function(t,n){(e||this.keys.hasOwnProperty(t)||r.Service.hasService(t))&&this.set(t,n)})},loadFromPath:function(t){this.clear();var e=JSON.parse(r.util.readFileSync(t)),n=new r.FileSystemCredentials(t),i=new r.CredentialProviderChain;return i.providers.unshift(n),i.resolve(function(t,n){if(t)throw t;e.credentials=n}),this.constructor(e),this},clear:function(){r.util.each.call(this,this.keys,function(t){delete this[t]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(t,e,n){void 0===e?(void 0===n&&(n=this.keys[t]),"function"==typeof n?this[t]=n.call(this):this[t]=n):"httpOptions"===t&&this[t]?this[t]=r.util.merge(this[t],e):this[t]=e},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0},extractCredentials:function(t){return t.accessKeyId&&t.secretAccessKey&&(t=r.util.copy(t),t.credentials=new r.Credentials(t)),t}}),r.config=new r.Config},function(t,e,n){var r=n(1);r.CognitoIdentityCredentials=r.util.inherit(r.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(t){r.Credentials.call(this),this.expired=!0,this.params=t,this.data=null,this.identityId=null,this.loadCachedId()},refresh:function(t){var e=this;e.createClients(),e.data=null,e.identityId=null,e.getId(function(n){n?(e.clearCachedId(),t(n)):e.params.RoleArn?e.getCredentialsFromSTS(t):e.getCredentialsForIdentity(t)})},clearCachedId:function(){this.identityId=null,delete this.params.IdentityId;var t=this.params.IdentityPoolId,e=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+t+e],delete this.storage[this.localStorageKey.providers+t+e]},getId:function(t){var e=this;return"string"==typeof e.params.IdentityId?t(null,e.params.IdentityId):void e.cognito.getId(function(n,r){!n&&r.IdentityId?(e.params.IdentityId=r.IdentityId,t(null,r.IdentityId)):t(n)})},loadCredentials:function(t,e){t&&e&&(e.expired=!1,e.accessKeyId=t.Credentials.AccessKeyId,e.secretAccessKey=t.Credentials.SecretKey,e.sessionToken=t.Credentials.SessionToken,e.expireTime=t.Credentials.Expiration)},getCredentialsForIdentity:function(t){var e=this;e.cognito.getCredentialsForIdentity(function(n,r){n?e.clearCachedId():(e.cacheId(r),e.data=r,e.loadCredentials(e.data,e)),t(n)})},getCredentialsFromSTS:function(t){var e=this;e.cognito.getOpenIdToken(function(n,r){n?(e.clearCachedId(),t(n)):(e.cacheId(r),e.params.WebIdentityToken=r.Token,e.webIdentityCredentials.refresh(function(n){n?e.clearCachedId():(e.data=e.webIdentityCredentials.data,e.sts.credentialsFrom(e.data,e)),t(n)}))})},loadCachedId:function(){var t=this;if(r.util.isBrowser()&&!t.params.IdentityId){var e=t.getStorage("id");if(e&&t.params.Logins){var n=Object.keys(t.params.Logins),i=(t.getStorage("providers")||"").split(","),o=i.filter(function(t){return-1!==n.indexOf(t)});0!==o.length&&(t.params.IdentityId=e)}else e&&(t.params.IdentityId=e)}},createClients:function(){this.webIdentityCredentials=this.webIdentityCredentials||new r.WebIdentityCredentials(this.params),this.cognito=this.cognito||new r.CognitoIdentity({params:this.params}),this.sts=this.sts||new r.STS},cacheId:function(t){this.identityId=t.IdentityId,this.params.IdentityId=this.identityId,r.util.isBrowser()&&(this.setStorage("id",t.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(t){return this.storage[this.localStorageKey[t]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(t,e){try{this.storage[this.localStorageKey[t]+this.params.IdentityPoolId+(this.params.LoginId||"")]=e}catch(n){}},storage:function(){try{return r.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{}}catch(t){return{}}}()})},function(t,e,n){var r=n(1);r.SAMLCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.expired=!0,this.params=t},refresh:function(t){var e=this;e.createClients(),t||(t=function(t){if(t)throw t}),e.service.assumeRoleWithSAML(function(n,r){n||e.service.credentialsFrom(r,e),t(n)})},createClients:function(){this.service=this.service||new r.STS({params:this.params})}})},function(t,e,n){var r=n(1);r.TemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.loadMasterCredentials(),this.expired=!0,this.params=t||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(t){var e=this;e.createClients(),t||(t=function(t){if(t)throw t}),e.service.config.credentials=e.masterCredentials;var n=e.params.RoleArn?e.service.assumeRole:e.service.getSessionToken;n.call(e.service,function(n,r){n||e.service.credentialsFrom(r,e),t(n)})},loadMasterCredentials:function(){for(this.masterCredentials=r.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials},createClients:function(){this.service=this.service||new r.STS({params:this.params})}})},function(t,e,n){var r=n(1);r.WebIdentityCredentials=r.util.inherit(r.Credentials,{constructor:function(t){r.Credentials.call(this),this.expired=!0,this.params=t,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null},refresh:function(t){var e=this;e.createClients(),t||(t=function(t){if(t)throw t}),e.service.assumeRoleWithWebIdentity(function(n,r){e.data=null,n||(e.data=r,e.service.credentialsFrom(r,e)),t(n)})},createClients:function(){this.service=this.service||new r.STS({params:this.params})}})},function(t,e,n){var r=n(1),i=n(35);r.EventListeners={Core:{}},r.EventListeners={Core:(new i).addNamedListeners(function(t,e){e("VALIDATE_CREDENTIALS","validate",function(t,e){return t.service.api.signatureVersion?void t.service.config.getCredentials(function(n){n&&(t.response.error=r.util.error(n,{code:"CredentialsError",message:"Missing credentials in config"})),e()}):e()}),t("VALIDATE_REGION","validate",function(t){t.service.config.region||t.service.isGlobalEndpoint||(t.response.error=r.util.error(new Error,{code:"ConfigError",message:"Missing region in config"}))}),t("VALIDATE_PARAMETERS","validate",function(t){var e=t.service.api.operations[t.operation].input;(new r.ParamValidator).validate(e,t.params)}),e("COMPUTE_SHA256","afterBuild",function(t,e){if(t.haltHandlersOnError(),!t.service.api.signatureVersion)return e();if(t.service.getSignerClass(t)===r.Signers.V4){var n=t.httpRequest.body||"";r.util.computeSha256(n,function(n,r){n?e(n):(t.httpRequest.headers["X-Amz-Content-Sha256"]=r,e())})}else e()}),t("SET_CONTENT_LENGTH","afterBuild",function(t){if(void 0===t.httpRequest.headers["Content-Length"]){var e=r.util.string.byteLength(t.httpRequest.body);t.httpRequest.headers["Content-Length"]=e}}),t("SET_HTTP_HOST","afterBuild",function(t){t.httpRequest.headers.Host=t.httpRequest.endpoint.host}),t("RESTART","restart",function(){var t=this.response.error;t&&t.retryable&&(this.httpRequest=new r.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)}),e("SIGN","sign",function(t,e){return t.service.api.signatureVersion?void t.service.config.getCredentials(function(n,i){if(n)return t.response.error=n,e();try{var o=r.util.date.getDate(),a=t.service.getSignerClass(t),s=new a(t.httpRequest,t.service.api.signingName||t.service.api.endpointPrefix,t.service.config.signatureCache);delete t.httpRequest.headers.Authorization,delete t.httpRequest.headers.Date,delete t.httpRequest.headers["X-Amz-Date"],s.addAuthorization(i,o),t.signedAt=o}catch(u){t.response.error=u}e()}):e()}),t("VALIDATE_RESPONSE","validateResponse",function(t){this.service.successfulResponse(t,this)?(t.data={},t.error=null):(t.data=null,t.error=r.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),e("SEND","send",function(t,e){function n(n){t.httpResponse.stream=n,n.on("headers",function(e,i){t.request.emit("httpHeaders",[e,i,t]),t.httpResponse.streaming||(2===r.HttpClient.streamsApiVersion?n.on("readable",function(){var e=n.read();null!==e&&t.request.emit("httpData",[e,t])}):n.on("data",function(e){t.request.emit("httpData",[e,t])}))}),n.on("end",function(){t.request.emit("httpDone"),e()})}function i(e){e.on("sendProgress",function(e){t.request.emit("httpUploadProgress",[e,t])}),e.on("receiveProgress",function(e){t.request.emit("httpDownloadProgress",[e,t])})}function o(n){t.error=r.util.error(n,{code:"NetworkingError",region:t.request.httpRequest.region,hostname:t.request.httpRequest.endpoint.hostname,retryable:!0}),t.request.emit("httpError",[t.error,t],function(){e()})}function a(){var e=r.HttpClient.getInstance(),a=t.request.service.config.httpOptions||{};try{var s=e.handleRequest(t.request.httpRequest,a,n,o);i(s)}catch(u){o(u)}}t.httpResponse._abortCallback=e,t.error=null,t.data=null;var s=(r.util.date.getDate()-this.signedAt)/1e3;s>=600?this.emit("sign",[this],function(t){t?e(t):a()}):a()}),t("HTTP_HEADERS","httpHeaders",function(t,e,n){n.httpResponse.statusCode=t,n.httpResponse.headers=e,n.httpResponse.body=new r.util.Buffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var i=e.date||e.Date;if(i){var o=Date.parse(i);n.request.service.config.correctClockSkew&&r.util.isClockSkewed(o)&&r.util.applyClockOffset(o)}}),t("HTTP_DATA","httpData",function(t,e){if(t){if(r.util.isNode()){e.httpResponse.numBytes+=t.length;var n=e.httpResponse.headers["content-length"],i={loaded:e.httpResponse.numBytes,total:n};e.request.emit("httpDownloadProgress",[i,e])}e.httpResponse.buffers.push(new r.util.Buffer(t))}}),t("HTTP_DONE","httpDone",function(t){if(t.httpResponse.buffers&&t.httpResponse.buffers.length>0){var e=r.util.buffer.concat(t.httpResponse.buffers);t.httpResponse.body=e}delete t.httpResponse.numBytes,delete t.httpResponse.buffers}),t("FINALIZE_ERROR","retry",function(t){t.httpResponse.statusCode&&(t.error.statusCode=t.httpResponse.statusCode,void 0===t.error.retryable&&(t.error.retryable=this.service.retryableError(t.error,this)))}),t("INVALIDATE_CREDENTIALS","retry",function(t){if(t.error)switch(t.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":t.error.retryable=!0,t.request.service.config.credentials.expired=!0}}),t("EXPIRED_SIGNATURE","retry",function(t){var e=t.error;e&&"string"==typeof e.code&&"string"==typeof e.message&&e.code.match(/Signature/)&&e.message.match(/expired/)&&(t.error.retryable=!0)}),t("CLOCK_SKEWED","retry",function(t){t.error&&this.service.clockSkewError(t.error)&&this.service.config.correctClockSkew&&r.config.isClockSkewed&&(t.error.retryable=!0)}),t("REDIRECT","retry",function(t){t.error&&t.error.statusCode>=300&&t.error.statusCode<400&&t.httpResponse.headers.location&&(this.httpRequest.endpoint=new r.Endpoint(t.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,t.error.redirect=!0,t.error.retryable=!0)}),t("RETRY_CHECK","retry",function(t){if(t.error)if(t.error.redirect&&t.redirectCount<t.maxRedirects)t.error.retryDelay=0;else if(t.retryCount<t.maxRetries){var e=this.service.retryDelays();t.error.retryDelay=e[t.retryCount]||0}}),e("RESET_RETRY_STATE","afterRetry",function(t,e){var n,r=!1;t.error&&(n=t.error.retryDelay||0,t.error.retryable&&t.retryCount<t.maxRetries?(t.retryCount++,r=!0):t.error.redirect&&t.redirectCount<t.maxRedirects&&(t.redirectCount++,r=!0)),r?(t.error=null,setTimeout(e,n)):e()})}),CorePost:(new i).addNamedListeners(function(t){t("EXTRACT_REQUEST_ID","extractData",r.util.extractRequestId),t("EXTRACT_REQUEST_ID","extractError",r.util.extractRequestId),t("ENOTFOUND_ERROR","httpError",function(t){if("NetworkingError"===t.code&&"ENOTFOUND"===t.errno){var e="Inaccessible host: `"+t.hostname+"'. This service may not be available in the `"+t.region+"' region.";this.response.error=r.util.error(new Error(e),{code:"UnknownEndpoint",region:t.region,hostname:t.hostname,retryable:!0,originalError:t})}})}),Logger:(new i).addNamedListeners(function(t){t("LOG_REQUEST","complete",function(t){function e(){var e=r.util.date.getDate().getTime(),a=(e-i.startTime.getTime())/1e3,s=o.isTTY?!0:!1,u=t.httpResponse.statusCode,c=n(9).inspect(i.params,!0,null),l="";return s&&(l+="[33m"),l+="[AWS "+i.service.serviceIdentifier+" "+u,l+=" "+a.toString()+"s "+t.retryCount+" retries]",s&&(l+="[0;1m"),l+=" "+r.util.string.lowerFirst(i.operation),l+="("+c+")",s&&(l+="[0m"),l}var i=t.request,o=i.service.config.logger;if(o){var a=e();"function"==typeof o.log?o.log(a):"function"==typeof o.write&&o.write(a+"\n")}})}),Json:(new i).addNamedListeners(function(t){var e=n(13);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Rest:(new i).addNamedListeners(function(t){var e=n(8);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestJson:(new i).addNamedListeners(function(t){var e=n(33);t("BUILD","build",e.buildRequest),
t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestXml:(new i).addNamedListeners(function(t){var e=n(34);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Query:(new i).addNamedListeners(function(t){var e=n(32);t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)})}},function(t,e,n){var r=n(1),i=n(97).EventEmitter;n(26),r.XHRClient=r.util.inherit({handleRequest:function(t,e,n,o){var a=this,s=t.endpoint,u=new i,c=s.protocol+"//"+s.hostname;80!==s.port&&443!==s.port&&(c+=":"+s.port),c+=t.path;var l=new XMLHttpRequest,h=!1;t.stream=l,l.addEventListener("readystatechange",function(){try{if(0===l.status)return}catch(t){return}if(this.readyState>=this.HEADERS_RECEIVED&&!h){try{l.responseType="arraybuffer"}catch(t){}u.statusCode=l.status,u.headers=a.parseHeaders(l.getAllResponseHeaders()),u.emit("headers",u.statusCode,u.headers),h=!0}this.readyState===this.DONE&&a.finishRequest(l,u)},!1),l.upload.addEventListener("progress",function(t){u.emit("sendProgress",t)}),l.addEventListener("progress",function(t){u.emit("receiveProgress",t)},!1),l.addEventListener("timeout",function(){o(r.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),l.addEventListener("error",function(){o(r.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),n(u),l.open(t.method,c,e.xhrAsync!==!1),r.util.each(t.headers,function(t,e){"Content-Length"!==t&&"User-Agent"!==t&&"Host"!==t&&l.setRequestHeader(t,e)}),e.timeout&&e.xhrAsync!==!1&&(l.timeout=e.timeout),e.xhrWithCredentials&&(l.withCredentials=!0);try{l.send(t.body)}catch(f){if(!t.body||"object"!=typeof t.body.buffer)throw f;l.send(t.body.buffer)}return u},parseHeaders:function(t){var e={};return r.util.arrayEach(t.split(/\r?\n/),function(t){var n=t.split(":",1)[0],r=t.substring(n.length+2);n.length>0&&(e[n.toLowerCase()]=r)}),e},finishRequest:function(t,e){var n;if("arraybuffer"===t.responseType&&t.response){var i=t.response;n=new r.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),a=0;a<n.length;++a)n[a]=o[a]}try{n||"string"!=typeof t.responseText||(n=new r.util.Buffer(t.responseText))}catch(s){}n&&e.emit("data",n),e.emit("end")}}),r.HttpClient.prototype=r.XHRClient.prototype,r.HttpClient.streamsApiVersion=1},function(t,e,n){var r=n(1);r.ParamValidator=r.util.inherit({validate:function(t,e,n){if(this.errors=[],this.validateMember(t,e||{},n||"params"),!(this.errors.length>1)){if(1===this.errors.length)throw this.errors[0];return!0}var i=this.errors.join("\n* ");if(this.errors.length>1)throw i="There were "+this.errors.length+" validation errors:\n* "+i,r.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})},validateStructure:function(t,e,n){this.validateType(n,e,["object"],"structure");for(var r,i=0;t.required&&i<t.required.length;i++){r=t.required[i];var o=e[r];(void 0===o||null===o)&&this.fail("MissingRequiredParameter","Missing required key '"+r+"' in "+n)}for(r in e)if(e.hasOwnProperty(r)){var a=e[r],s=t.members[r];if(void 0!==s){var u=[n,r].join(".");this.validateMember(s,a,u)}else this.fail("UnexpectedParameter","Unexpected key '"+r+"' found in "+n)}return!0},validateMember:function(t,e,n){switch(t.type){case"structure":return this.validateStructure(t,e,n);case"list":return this.validateList(t,e,n);case"map":return this.validateMap(t,e,n);default:return this.validateScalar(t,e,n)}},validateList:function(t,e,n){this.validateType(n,e,[Array]);for(var r=0;r<e.length;r++)this.validateMember(t.member,e[r],n+"["+r+"]")},validateMap:function(t,e,n){this.validateType(n,e,["object"],"map");for(var r in e)e.hasOwnProperty(r)&&this.validateMember(t.value,e[r],n+"['"+r+"']")},validateScalar:function(t,e,n){switch(t.type){case null:case void 0:case"string":return this.validateType(n,e,["string"]);case"base64":case"binary":return this.validatePayload(n,e);case"integer":case"float":return this.validateNumber(n,e);case"boolean":return this.validateType(n,e,["boolean"]);case"timestamp":return this.validateType(n,e,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+t.type+" for "+n)}},fail:function(t,e){this.errors.push(r.util.error(new Error(e),{code:t}))},validateType:function(t,e,n,i){if(null!==e&&void 0!==e){for(var o=!1,a=0;a<n.length;a++){if("string"==typeof n[a]){if(typeof e===n[a])return}else if(n[a]instanceof RegExp){if((e||"").toString().match(n[a]))return}else{if(e instanceof n[a])return;if(r.util.isType(e,n[a]))return;i||o||(n=n.slice()),n[a]=r.util.typeName(n[a])}o=!0}var s=i;s||(s=n.join(", ").replace(/,([^,]+)$/,", or$1"));var u=s.match(/^[aeiou]/i)?"n":"";this.fail("InvalidParameterType","Expected "+t+" to be a"+u+" "+s)}},validateNumber:function(t,e){if(null!==e&&void 0!==e){if("string"==typeof e){var n=parseFloat(e);n.toString()===e&&(e=n)}this.validateType(t,e,["number"])}},validatePayload:function(t,e){if(null!==e&&void 0!==e&&"string"!=typeof e&&(!e||"number"!=typeof e.byteLength)){if(r.util.isNode()){var n=r.util.nodeRequire("stream").Stream;if(r.util.Buffer.isBuffer(e)||e instanceof n)return}var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e)for(var o=0;o<i.length;o++){if(r.util.isType(e,i[o]))return;if(r.util.typeName(e.constructor)===i[o])return}this.fail("InvalidParameterType","Expected "+t+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},function(t,e,n){function r(){}function i(t){return t.isQueryName||"ec2"!==t.api.protocol?t.name:t.name[0].toUpperCase()+t.name.substr(1)}function o(t,e,n,r){c.each(n.members,function(n,o){var a=e[n];if(null!==a&&void 0!==a){var s=i(o);s=t?t+"."+s:s,u(s,a,o,r)}})}function a(t,e,n,r){var i=1;c.each(e,function(e,o){var a=n.flattened?".":".entry.",s=a+i++ +".",c=s+(n.key.name||"key"),l=s+(n.value.name||"value");u(t+c,e,n.key,r),u(t+l,o,n.value,r)})}function s(t,e,n,r){var o=n.member||{};return 0===e.length?void r.call(this,t,null):void c.arrayEach(e,function(e,a){var s="."+(a+1);if("ec2"===n.api.protocol)s+="";else if(n.flattened){if(o.name){var c=t.split(".");c.pop(),c.push(i(o)),t=c.join(".")}}else s=".member"+s;u(t+s,e,o,r)})}function u(t,e,n,r){null!==e&&void 0!==e&&("structure"===n.type?o(t,e,n,r):"list"===n.type?s(t,e,n,r):"map"===n.type?a(t,e,n,r):r(t,n.toWireFormat(e).toString()))}var c=n(2);r.prototype.serialize=function(t,e,n){o("",t,e,n)},t.exports=r},function(t,e,n){function r(t){if(!t)return null;var e=t.split("-");return e.length<3?null:e.slice(0,e.length-2).join("-")+"-*"}function i(t){var e=t.config.region,n=r(e),i=t.api.endpointPrefix;return[[e,i],[n,i],[e,"*"],[n,"*"],["*",i],["*","*"]].map(function(t){return t[0]&&t[1]?t.join("/"):null})}function o(t,e){s.each(e,function(e,n){"globalEndpoint"!==e&&(void 0===t.config[e]||null===t.config[e])&&(t.config[e]=n)})}function a(t){for(var e=i(t),n=0;n<e.length;n++){var r=e[n];if(r&&u.rules.hasOwnProperty(r)){var a=u.rules[r];return"string"==typeof a&&(a=u.patterns[a]),t.isGlobalEndpoint=!!a.globalEndpoint,a.signatureVersion||(a.signatureVersion="v4"),void o(t,a)}}}var s=n(2),u=n(47);t.exports=a},function(t,e,n){(function(t){function e(t){return s.hasOwnProperty(t._asm.currentState)}var r=n(1),i=n(75),o=r.util.inherit,a=r.util.nodeRequire("domain"),s={success:1,error:1,complete:1},u=new i;u.setupStates=function(){var t=function(t,n){var r=this;r._haltHandlersOnError=!1,r.emit(r._asm.currentState,function(t){if(t)if(e(r)){if(!(a&&r.domain instanceof a.Domain))throw t;t.domainEmitter=r,t.domain=r.domain,t.domainThrown=!1,r.domain.emit("error",t)}else r.response.error=t,n(t);else n(r.response.error)})};this.addState("validate","build","error",t),this.addState("build","afterBuild","restart",t),this.addState("afterBuild","sign","restart",t),this.addState("sign","send","retry",t),this.addState("retry","afterRetry","afterRetry",t),this.addState("afterRetry","sign","error",t),this.addState("send","validateResponse","retry",t),this.addState("validateResponse","extractData","extractError",t),this.addState("extractError","extractData","retry",t),this.addState("extractData","success","retry",t),this.addState("restart","build","error",t),this.addState("success","complete","complete",t),this.addState("error","complete","complete",t),this.addState("complete",null,null,t)},u.setupStates(),r.Request=o({constructor:function(t,e,n){var o=t.endpoint,s=t.config.region;t.isGlobalEndpoint&&(s="us-east-1"),this.domain=a&&a.active,this.service=t,this.operation=e,this.params=n||{},this.httpRequest=new r.HttpRequest(o,s),this.startTime=r.util.date.getDate(),this.response=new r.Response(this),this._asm=new i(u.states,"validate"),this._haltHandlersOnError=!1,r.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(t){return t&&this.on("complete",function(e){t.call(e,e.error,e.data)}),this.runTo(),this.response},build:function(t){return this.runTo("send",t)},runTo:function(t,e){return this._asm.runTo(t,e,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(t){t.error=r.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(t){function e(n){t.call(n,n.error,n.data,function(i){i!==!1&&(n.hasNextPage()?n.nextPage().on("complete",e).send():t.call(n,null,null,r.util.fn.noop))})}t=r.util.fn.makeAsync(t,3),this.on("complete",e).send()},eachItem:function(t){function e(e,i){if(e)return t(e,null);if(null===i)return t(null,null);var o=n.service.paginationConfig(n.operation),a=o.resultKey;Array.isArray(a)&&(a=a[0]);var s=r.util.jamespath.query(a,i);r.util.arrayEach(s,function(e){r.util.arrayEach(e,function(e){t(null,e)})})}var n=this;this.eachPage(e)},isPageable:function(){return this.service.paginationConfig(this.operation)?!0:!1},createReadStream:function(){var e=r.util.nodeRequire("stream"),n=this,i=null;return 2===r.HttpClient.streamsApiVersion?(i=new e.PassThrough,n.send()):(i=new e.Stream,i.readable=!0,i.sent=!1,i.on("newListener",function(e){i.sent||"data"!==e||(i.sent=!0,t.nextTick(function(){n.send()}))})),this.on("httpHeaders",function(t,e,o){if(300>t){n.removeListener("httpData",r.EventListeners.Core.HTTP_DATA),n.removeListener("httpError",r.EventListeners.Core.HTTP_ERROR),n.on("httpError",function(t){o.error=t,o.error.retryable=!1});var a=o.httpResponse.createUnbufferedStream();2===r.HttpClient.streamsApiVersion?a.pipe(i):(a.on("data",function(t){i.emit("data",t)}),a.on("end",function(){i.emit("end")})),a.on("error",function(t){i.emit("error",t)})}}),this.on("error",function(t){i.emit("error",t)}),i},emitEvent:function(t,e,n){"function"==typeof e&&(n=e,e=null),n||(n=function(){}),e||(e=this.eventParameters(t,this.response));var i=r.SequentialExecutor.prototype.emit;i.call(this,t,e,function(t){t&&(this.response.error=t),n.call(this,t)})},eventParameters:function(t){switch(t){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(t,e){return e||"function"!=typeof t||(e=t,t=null),(new r.Signers.Presign).sign(this.toGet(),t,e)},toUnauthenticated:function(){return this.removeListener("validate",r.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",r.EventListeners.Core.SIGN),this.toGet()},toGet:function(){return("query"===this.service.api.protocol||"ec2"===this.service.api.protocol)&&(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(t){t.httpRequest.method="GET",t.httpRequest.path=t.service.endpoint.path+"?"+t.httpRequest.body,t.httpRequest.body="",delete t.httpRequest.headers["Content-Length"],delete t.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),r.util.mixin(r.Request,r.SequentialExecutor)}).call(e,n(14))},function(t,e,n){var r=n(1),i=r.util.inherit;r.ResourceWaiter=i({constructor:function(t,e){this.service=t,this.state=e,"object"==typeof this.state&&r.util.each.call(this,this.state,function(t,e){this.state=t,this.expectedValue=e}),this.loadWaiterConfig(this.state),this.expectedValue||(this.expectedValue=this.config.successValue)},service:null,state:null,expectedValue:null,config:null,waitDone:!1,Listeners:{retry:(new r.SequentialExecutor).addNamedListeners(function(t){t("RETRY_CHECK","retry",function(t){var e=t.request._waiter;t.error&&"ResourceNotReady"===t.error.code&&(t.error.retryDelay=1e3*e.config.interval)})}),output:(new r.SequentialExecutor).addNamedListeners(function(t){t("CHECK_OUT_ERROR","extractError",function(t){t.error&&t.request._waiter.setError(t,!0)}),t("CHECK_OUTPUT","extractData",function(t){var e=t.request._waiter,n=e.checkSuccess(t);n?t.error=null:e.setError(t,null===n?!1:!0)})}),error:(new r.SequentialExecutor).addNamedListeners(function(t){t("CHECK_ERROR","extractError",function(t){var e=t.request._waiter,n=e.checkError(t);n?(t.error=null,t.data={},t.request.removeAllListeners("extractData")):e.setError(t,null===n?!1:!0)}),t("CHECK_ERR_OUTPUT","extractData",function(t){t.request._waiter.setError(t,!0)})})},wait:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this.service.makeRequest(this.config.operation,t),r=this.Listeners[this.config.successType];return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.Listeners.retry),r&&n.addListeners(r),e&&n.send(e),n},setError:function(t,e){t.data=null,t.error=r.util.error(t.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:e})},checkSuccess:function(t){if(!this.config.successPath)return t.httpResponse.statusCode<300;var e=r.util.jamespath.find(this.config.successPath,t.data);return this.config.failureValue&&this.config.failureValue.indexOf(e)>=0?null:this.expectedValue?e===this.expectedValue:e?!0:!1},checkError:function(t){var e=this.config.successValue;return"number"==typeof e?t.httpResponse.statusCode===e:t.error&&t.error.code===e},loadWaiterConfig:function(t,e){if(!this.service.api.waiters[t]){if(e)return;throw new r.util.error(new Error,{code:"StateNotFoundError",message:"State "+t+" not found."})}this.config=this.service.api.waiters[t];var n=this.config;!function(){n.successType=n.successType||n.acceptorType,n.successPath=n.successPath||n.acceptorPath,n.successValue=n.successValue||n.acceptorValue,n.failureType=n.failureType||n.acceptorType,n.failurePath=n.failurePath||n.acceptorPath,n.failureValue=n.failureValue||n.acceptorValue}()}})},function(t,e,n){var r=n(1),i=r.util.inherit;r.Response=i({constructor:function(t){this.request=t,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new r.HttpResponse,t&&(this.maxRetries=t.service.numRetries(),this.maxRedirects=t.service.config.maxRedirects)},nextPage:function(t){var e,n=this.request.service,i=this.request.operation;try{e=n.paginationConfig(i,!0)}catch(o){this.error=o}if(!this.hasNextPage()){if(t)t(this.error,null);else if(this.error)throw this.error;return null}var a=r.util.copy(this.request.params);if(this.nextPageTokens){var s=e.inputToken;"string"==typeof s&&(s=[s]);for(var u=0;u<s.length;u++)a[s[u]]=this.nextPageTokens[u];return n.makeRequest(this.request.operation,a,t)}return t?t(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),this.nextPageTokens?!0:void 0===this.nextPageTokens?void 0:!1},cacheNextPageTokens:function(){if(this.hasOwnProperty("nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var t=this.request.service.paginationConfig(this.request.operation);if(!t)return this.nextPageTokens;if(this.nextPageTokens=null,t.moreResults&&!r.util.jamespath.find(t.moreResults,this.data))return this.nextPageTokens;var e=t.outputToken;return"string"==typeof e&&(e=[e]),r.util.arrayEach.call(this,e,function(t){var e=r.util.jamespath.find(t,this.data);e&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(e))}),this.nextPageTokens}})},function(t,e,n){var r=n(1),i=n(27),o=n(64),a=r.util.inherit;r.Service=a({constructor:function(t){if(!this.loadServiceClass)throw r.util.error(new Error,"Service must be constructed with `new' operator");var e=this.loadServiceClass(t||{});return e?new e(t):void this.initialize(t)},initialize:function(t){var e=r.config[this.serviceIdentifier];this.config=new r.Config(r.config),e&&this.config.update(e,!0),t&&this.config.update(t,!0),this.validateService(),this.config.endpoint||o(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint)},validateService:function(){},loadServiceClass:function(t){var e=t;if(r.util.isEmpty(this.api)){if(e.apiConfig)return r.Service.defineServiceApi(this.constructor,e.apiConfig);if(this.constructor.services){e=new r.Config(r.config),e.update(t,!0);var n=e.apiVersions[this.constructor.serviceIdentifier];return n=n||e.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(t){return t=this.getLatestServiceVersion(t),null===this.constructor.services[t]&&r.Service.defineServiceApi(this.constructor,t),this.constructor.services[t]},getLatestServiceVersion:function(t){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(t?r.util.isType(t,Date)&&(t=r.util.date.iso8601(t).split("T")[0]):t="latest",Object.hasOwnProperty(this.constructor.services,t))return t;for(var e=Object.keys(this.constructor.services).sort(),n=null,i=e.length-1;i>=0;i--)if("*"!==e[i][e[i].length-1]&&(n=e[i]),e[i].substr(0,10)<=t)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+t+"'")},api:{},defaultRetryCount:3,makeRequest:function(t,e,n){if("function"==typeof e&&(n=e,e=null),e=e||{},this.config.params){var i=this.api.operations[t];i&&(e=r.util.copy(e),r.util.each(this.config.params,function(t,n){i.input.members[t]&&(void 0===e[t]||null===e[t])&&(e[t]=n)}))}var o=new r.Request(this,t,e);return this.addAllRequestListeners(o),n&&o.send(n),o},makeUnauthenticatedRequest:function(t,e,n){"function"==typeof e&&(n=e,e={});var r=this.makeRequest(t,e).toUnauthenticated();return n?r.send(n):r},waitFor:function(t,e,n){var i=new r.ResourceWaiter(this,t);return i.wait(e,n)},addAllRequestListeners:function(t){for(var e=[r.events,r.EventListeners.Core,this.serviceInterface(),r.EventListeners.CorePost],n=0;n<e.length;n++)e[n]&&t.addListeners(e[n]);this.config.paramValidation||t.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&t.addListeners(r.EventListeners.Logger),this.setupRequestListeners(t)},setupRequestListeners:function(){},getSignerClass:function(){var t;return t=this.config.signatureVersion?this.config.signatureVersion:this.api.signatureVersion,r.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":return r.EventListeners.Query;case"query":return r.EventListeners.Query;case"json":return r.EventListeners.Json;case"rest-json":return r.EventListeners.RestJson;case"rest-xml":return r.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(t){return t.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(){for(var t=this.numRetries(),e=[],n=0;t>n;++n)e[n]=30*Math.pow(2,n);return e},retryableError:function(t){return this.networkingError(t)?!0:this.expiredCredentialsError(t)?!0:this.throttledError(t)?!0:t.statusCode>=500?!0:!1},networkingError:function(t){return"NetworkingError"===t.code},expiredCredentialsError:function(t){return"ExpiredTokenException"===t.code},clockSkewError:function(t){switch(t.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},throttledError:function(t){switch(t.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":return!0;default:return!1}},endpointFromTemplate:function(t){if("string"!=typeof t)return t;var e=t;return e=e.replace(/\{service\}/g,this.api.endpointPrefix),e=e.replace(/\{region\}/g,this.config.region),e=e.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(t){this.endpoint=new r.Endpoint(t,this.config)},paginationConfig:function(t,e){var n=this.api.operations[t].paginator;if(!n){if(e){var i=new Error;throw r.util.error(i,"No pagination configuration for "+t)}return null}return n}}),r.util.update(r.Service,{defineMethods:function(t){r.util.each(t.prototype.api.operations,function(e){t.prototype[e]||(t.prototype[e]=function(t,n){return this.makeRequest(e,t,n)})})},defineService:function(t,e,n){r.Service._serviceMap[t]=!0,Array.isArray(e)||(n=e,e=[]);var i=a(r.Service,n||{});if("string"==typeof t){r.Service.addVersions(i,e);var o=i.serviceIdentifier||t;i.serviceIdentifier=o}else i.prototype.api=t,r.Service.defineMethods(i);return i},addVersions:function(t,e){Array.isArray(e)||(e=[e]),t.services=t.services||{};for(var n=0;n<e.length;n++)void 0===t.services[e[n]]&&(t.services[e[n]]=null);t.apiVersions=Object.keys(t.services).sort()},defineServiceApi:function(t,e,n){function o(t){t.isApi?s.prototype.api=t:s.prototype.api=new i(t)}var s=a(t,{serviceIdentifier:t.serviceIdentifier});if("string"==typeof e){if(n)o(n);else try{o(r.apiLoader(t.serviceIdentifier,e))}catch(u){throw r.util.error(u,{message:"Could not find API configuration "+t.serviceIdentifier+"-"+e})}t.services.hasOwnProperty(e)||(t.apiVersions=t.apiVersions.concat(e).sort()),t.services[e]=s}else o(e);return r.Service.defineMethods(s),s},hasService:function(t){return r.Service._serviceMap.hasOwnProperty(t)},_serviceMap:{}})},function(t,e,n){function r(t){var e=t.httpRequest.headers[s];if(delete t.httpRequest.headers["User-Agent"],delete t.httpRequest.headers["X-Amz-User-Agent"],t.service.getSignerClass()===o.Signers.V4){if(e>604800){var n="Presigning does not support expiry time greater than a week with SigV4 signing.";throw o.util.error(new Error,{code:"InvalidExpiryTime",message:n,retryable:!1})}t.httpRequest.headers[s]=e}else{if(t.service.getSignerClass()!==o.Signers.S3)throw o.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});t.httpRequest.headers[s]=parseInt(o.util.date.unixTimestamp()+e,10).toString()}}function i(t){var e=t.httpRequest.endpoint,n=o.util.urlParse(t.httpRequest.path),r={};n.search&&(r=o.util.queryStringParse(n.search.substr(1))),o.util.each(t.httpRequest.headers,function(t,e){t===s&&(t="Expires"),0===t.indexOf("x-amz-")&&(t=t.toLowerCase()),r[t]=e}),delete t.httpRequest.headers[s];var i=r.Authorization.split(" ");if("AWS"===i[0])i=i[1].split(":"),r.AWSAccessKeyId=i[0],r.Signature=i[1];else if("AWS4-HMAC-SHA256"===i[0]){i.shift();var a=i.join(" "),u=a.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];r["X-Amz-Signature"]=u,delete r.Expires}delete r.Authorization,delete r.Host,e.pathname=n.pathname,e.search=o.util.queryParamsToString(r)}var o=n(1),a=o.util.inherit,s="presigned-expires";o.Signers.Presign=a({sign:function(t,e,n){if(t.httpRequest.headers[s]=e||3600,t.on("build",r),t.on("sign",i),t.removeListener("afterBuild",o.EventListeners.Core.SET_CONTENT_LENGTH),t.removeListener("afterBuild",o.EventListeners.Core.COMPUTE_SHA256),t.emit("beforePresign",[t]),!n){if(t.build(),t.response.error)throw t.response.error;return o.util.urlFormat(t.httpRequest.endpoint)}t.build(function(){this.response.error?n(this.response.error):n(null,o.util.urlFormat(t.httpRequest.endpoint))})}}),t.exports=o.Signers.Presign},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.RequestSigner=i({constructor:function(t){this.request=t}}),r.Signers.RequestSigner.getVersion=function(t){switch(t){case"v2":return r.Signers.V2;case"v3":return r.Signers.V3;case"v4":return r.Signers.V4;case"s3":return r.Signers.S3;case"v3https":return r.Signers.V3Https}throw new Error("Unknown signing version "+t)},n(72),n(36),n(73),n(74),n(71),n(69)},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.S3=i(r.Signers.RequestSigner,{subResources:{acl:1,cors:1,lifecycle:1,"delete":1,location:1,logging:1,notification:1,partNumber:1,policy:1,requestPayment:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(t,e){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=r.util.date.rfc822(e)),t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken);var n=this.sign(t.secretAccessKey,this.stringToSign()),i="AWS "+t.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var t=this.request,e=[];e.push(t.method),e.push(t.headers["Content-MD5"]||""),e.push(t.headers["Content-Type"]||""),e.push(t.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&e.push(n),e.push(this.canonicalizedResource()),e.join("\n")},canonicalizedAmzHeaders:function(){var t=[];r.util.each(this.request.headers,function(e){e.match(/^x-amz-/i)&&t.push(e)}),t.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){e.push(t.toLowerCase()+":"+String(this.request.headers[t]))}),e.join("\n")},canonicalizedResource:function(){var t=this.request,e=t.path.split("?"),n=e[0],i=e[1],o="";if(t.virtualHostedBucket&&(o+="/"+t.virtualHostedBucket),o+=n,i){var a=[];r.util.arrayEach.call(this,i.split("&"),function(t){var e=t.split("=")[0],n=t.split("=")[1];if(this.subResources[e]||this.responseHeaders[e]){var r={name:e};void 0!==n&&(this.subResources[e]?r.value=n:r.value=decodeURIComponent(n)),a.push(r)}}),a.sort(function(t,e){return t.name<e.name?-1:1}),a.length&&(i=[],r.util.arrayEach(a,function(t){void 0===t.value?i.push(t.name):i.push(t.name+"="+t.value)}),o+="?"+i.join("&"))}return o},sign:function(t,e){return r.util.crypto.hmac(t,e,"base64","sha1")}}),t.exports=r.Signers.S3},function(t,e,n){var r=n(1),i=r.util.inherit;r.Signers.V2=i(r.Signers.RequestSigner,{addAuthorization:function(t,e){e||(e=r.util.date.getDate());var n=this.request;n.params.Timestamp=r.util.date.iso8601(e),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=t.accessKeyId,t.sessionToken&&(n.params.SecurityToken=t.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(t),n.body=r.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(t){return r.util.crypto.hmac(t.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var t=[];return t.push(this.request.method),t.push(this.request.endpoint.host.toLowerCase()),t.push(this.request.pathname()),t.push(r.util.queryParamsToString(this.request.params)),t.join("\n")}}),t.exports=r.Signers.V2},function(t,e,n){var r=n(1),i=r.util.inherit;n(36),r.Signers.V3Https=i(r.Signers.V3,{authorization:function(t){return"AWS3-HTTPS AWSAccessKeyId="+t.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(t)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),t.exports=r.Signers.V3Https},function(t,e,n){var r=n(1),i=r.util.inherit,o={},a="presigned-expires";r.Signers.V4=i(r.Signers.RequestSigner,{constructor:function(t,e,n){r.Signers.RequestSigner.call(this,t),this.serviceName=e,this.signatureCache=n},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(t,e){var n=r.util.date.iso8601(e).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(t,n):this.addHeaders(t,n),this.request.headers.Authorization=this.authorization(t,n)},addHeaders:function(t,e){this.request.headers["X-Amz-Date"]=e,t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken)},updateForPresigned:function(t,e){var n=this.credentialString(e),i={"X-Amz-Date":e,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":t.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers[a],"X-Amz-SignedHeaders":this.signedHeaders()};t.sessionToken&&(i["X-Amz-Security-Token"]=t.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),r.util.each.call(this,this.request.headers,function(t,e){t!==a&&this.isSignableHeader(t)&&0===t.toLowerCase().indexOf("x-amz-")&&(i[t]=e)});var o=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=o+r.util.queryParamsToString(i)},authorization:function(t,e){var n=[],r=this.credentialString(e);return n.push(this.algorithm+" Credential="+t.accessKeyId+"/"+r),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(t,e)),n.join(", ")},signature:function(t,e){var n=null;if(this.signatureCache)var n=o[this.serviceName];var i=e.substr(0,8);if(!n||n.akid!==t.accessKeyId||n.region!==this.request.region||n.date!==i){var a=t.secretAccessKey,s=r.util.crypto.hmac("AWS4"+a,i,"buffer"),u=r.util.crypto.hmac(s,this.request.region,"buffer"),c=r.util.crypto.hmac(u,this.serviceName,"buffer"),l=r.util.crypto.hmac(c,"aws4_request","buffer");if(!this.signatureCache)return r.util.crypto.hmac(l,this.stringToSign(e),"hex");o[this.serviceName]={region:this.request.region,date:i,key:l,akid:t.accessKeyId}}var h=o[this.serviceName].key;return r.util.crypto.hmac(h,this.stringToSign(e),"hex")},stringToSign:function(t){var e=[];return e.push("AWS4-HMAC-SHA256"),e.push(t),e.push(this.credentialString(t)),e.push(this.hexEncodedHash(this.canonicalString())),e.join("\n")},canonicalString:function(){var t=[],e=this.request.pathname();return"s3"!==this.serviceName&&(e=r.util.uriEscapePath(e)),t.push(this.request.method),t.push(e),t.push(this.request.search()),t.push(this.canonicalHeaders()+"\n"),t.push(this.signedHeaders()),t.push(this.hexEncodedBodyHash()),t.join("\n")},canonicalHeaders:function(){var t=[];r.util.each.call(this,this.request.headers,function(e,n){t.push([e,n])}),t.sort(function(t,e){return t[0].toLowerCase()<e[0].toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){var n=t[0].toLowerCase();this.isSignableHeader(n)&&e.push(n+":"+this.canonicalHeaderValues(t[1].toString()))}),e.join("\n")},canonicalHeaderValues:function(t){return t.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var t=[];return r.util.each.call(this,this.request.headers,function(e){e=e.toLowerCase(),this.isSignableHeader(e)&&t.push(e)}),t.sort().join(";")},credentialString:function(t){var e=[];return e.push(t.substr(0,8)),e.push(this.request.region),e.push(this.serviceName),e.push("aws4_request"),e.join("/")},hexEncodedHash:function(t){return r.util.crypto.sha256(t,"hex")},hexEncodedBodyHash:function(){return this.isPresigned()&&"s3"===this.serviceName?"UNSIGNED-PAYLOAD":this.request.headers["X-Amz-Content-Sha256"]?this.request.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",a],isSignableHeader:function(t){return 0===t.toLowerCase().indexOf("x-amz-")?!0:this.unsignableHeaders.indexOf(t)<0},isPresigned:function(){return this.request.headers[a]?!0:!1}}),t.exports=r.Signers.V4;
},function(t,e){function n(t,e){this.currentState=e||null,this.states=t||{}}n.prototype.runTo=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=null);var i=this,o=i.states[i.currentState];o.fn.call(n||i,r,function(r){if(r){if(!o.fail)return e?e.call(n,r):null;i.currentState=o.fail}else{if(!o.accept)return e?e.call(n):null;i.currentState=o.accept}return i.currentState===t?e?e.call(n,r):null:void i.runTo(t,e,n,r)})},n.prototype.addState=function(t,e,n,r){return"function"==typeof e?(r=e,e=null,n=null):"function"==typeof n&&(r=n,n=null),this.currentState||(this.currentState=t),this.states[t]={accept:e,fail:n,fn:r},this},t.exports=n},function(t,e,n){function r(){}function i(t,e){switch(e||(e={}),e.type){case"structure":return o(t,e);case"map":return a(t,e);case"list":return s(t,e);case void 0:case null:return c(t);default:return u(t,e)}}function o(t,e){var n={};return null===t?n:(l.each(e.members,function(e,r){if(r.isXmlAttribute){if(t.attributes.hasOwnProperty(r.name)){var o=t.attributes[r.name].value;n[e]=i({textContent:o},r)}}else{var a=r.flattened?t:t.getElementsByTagName(r.name)[0];a?n[e]=i(a,r):r.flattened||"list"!==r.type||(n[e]=r.defaultValue)}}),n)}function a(t,e){for(var n={},r=e.key.name||"key",o=e.value.name||"value",a=e.flattened?e.name:"entry",s=t.firstElementChild;s;){if(s.nodeName===a){var u=s.getElementsByTagName(r)[0].textContent,c=s.getElementsByTagName(o)[0];n[u]=i(c,e.value)}s=s.nextElementSibling}return n}function s(t,e){for(var n=[],r=e.flattened?e.name:e.member.name||"member",o=t.firstElementChild;o;)o.nodeName===r&&n.push(i(o,e.member)),o=o.nextElementSibling;return n}function u(t,e){if(t.getAttribute){var n=t.getAttribute("encoding");"base64"===n&&(e=new h.create({type:n}))}var r=t.textContent;return""===r&&(r=null),"function"==typeof e.toType?e.toType(r):r}function c(t){if(void 0===t||null===t)return"";if(!t.firstElementChild)return null===t.parentNode.parentNode?{}:0===t.childNodes.length?"":t.textContent;for(var e={type:"structure",members:{}},n=t.firstElementChild;n;){var r=n.nodeName;e.members.hasOwnProperty(r)?e.members[r].type="list":e.members[r]={name:r},n=n.nextElementSibling}return o(t,e)}var l=n(2),h=n(7);r.prototype.parse=function(t,e){if(""===t.replace(/^\s+/,""))return{};var n,r;try{if(window.DOMParser){try{var o=new DOMParser;n=o.parseFromString(t,"text/xml")}catch(a){throw l.error(new Error("Parse error in document"),{originalError:a})}if(null===n.documentElement)throw new Error("Cannot parse empty document.");var s=n.getElementsByTagName("parsererror")[0];if(s&&(s.parentNode===n||"body"===s.parentNode.nodeName))throw new Error(s.getElementsByTagName("div")[0].textContent)}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if(n=new window.ActiveXObject("Microsoft.XMLDOM"),n.async=!1,!n.loadXML(t))throw new Error("Parse error in document")}}catch(u){r=u}if(n&&n.documentElement&&!r){var c=i(n.documentElement,e),h=n.getElementsByTagName("ResponseMetadata")[0];return h&&(c.ResponseMetadata=i(h,{})),c}if(r)throw l.error(r||new Error,{code:"XMLParserError"});return{}},t.exports=r},function(t,e,n){function r(){}function i(t,e,n){switch(n.type){case"structure":return o(t,e,n);case"map":return a(t,e,n);case"list":return s(t,e,n);default:return u(t,e,n)}}function o(t,e,n){l.arrayEach(n.memberNames,function(r){var o=n.members[r];if("body"===o.location){var a=e[r],s=o.name;if(void 0!==a&&null!==a)if(o.isXmlAttribute)t.att(s,a);else if(o.flattened)i(t,a,o);else{var u=t.ele(s);c(u,o),i(u,a,o)}}})}function a(t,e,n){var r=n.key.name||"key",o=n.value.name||"value";l.each(e,function(e,a){var s=t.ele(n.flattened?n.name:"entry");i(s.ele(r),e,n.key),i(s.ele(o),a,n.value)})}function s(t,e,n){n.flattened?l.arrayEach(e,function(e){var r=n.member.name||n.name,o=t.ele(r);i(o,e,n.member)}):l.arrayEach(e,function(e){var r=n.member.name||"member",o=t.ele(r);i(o,e,n.member)})}function u(t,e,n){t.txt(n.toWireFormat(e))}function c(t,e){var n,r="xmlns";e.xmlNamespaceUri?(n=e.xmlNamespaceUri,e.xmlNamespacePrefix&&(r+=":"+e.xmlNamespacePrefix)):t.isRoot&&e.api.xmlNamespaceUri&&(n=e.api.xmlNamespaceUri),n&&t.att(r,n)}var l=n(2),h=n(80);r.prototype.toXML=function(t,e,n,r){var o=h.create(n);return c(o,e),i(o,t,e),o.children.length>0||r?o.root().toString():""},t.exports=r},function(t,e,n){(function(){var e,r;r=n(79),e=function(){function t(t,e,n){var i,o,a;if(this.children=[],this.rootObject=null,this.is(t,"Object")&&(a=[t,e],e=a[0],n=a[1],t=null),null!=t&&(t=""+t||"",null==e&&(e={version:"1.0"})),null!=e&&null==e.version)throw new Error("Version number is required");if(null!=e){if(e.version=""+e.version||"",!e.version.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e.version);if(i={version:e.version},null!=e.encoding){if(e.encoding=""+e.encoding||"",!e.encoding.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/))throw new Error("Invalid encoding: "+e.encoding);i.encoding=e.encoding}null!=e.standalone&&(i.standalone=e.standalone?"yes":"no"),o=new r(this,"?xml",i),this.children.push(o)}null!=n&&(i={},null!=t&&(i.name=t),null!=n.ext&&(n.ext=""+n.ext||"",i.ext=n.ext),o=new r(this,"!DOCTYPE",i),this.children.push(o)),null!=t&&this.begin(t)}return t.prototype.begin=function(e,n,i){var o,a;if(null==e)throw new Error("Root element needs a name");return this.rootObject&&(this.children=[],this.rootObject=null),null!=n?(o=new t(e,n,i),o.root()):(e=""+e||"",a=new r(this,e,{}),a.isRoot=!0,a.documentObject=this,this.children.push(a),this.rootObject=a,a)},t.prototype.root=function(){return this.rootObject},t.prototype.end=function(t){return toString(t)},t.prototype.toString=function(t){var e,n,r,i,o;for(n="",o=this.children,r=0,i=o.length;i>r;r++)e=o[r],n+=e.toString(t);return n},t.prototype.is=function(t,e){var n;return n=Object.prototype.toString.call(t).slice(8,-1),null!=t&&n===e},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n={}.hasOwnProperty;e=function(){function t(t,e,n,r){this.isRoot=!1,this.documentObject=null,this.parent=t,this.name=e,this.attributes=n,this.value=r,this.children=[]}return t.prototype.element=function(e,r,i){var o,a,s,u,c;if(null==e)throw new Error("Missing element name");e=""+e||"",this.assertLegalChar(e),null==r&&(r={}),this.is(r,"String")&&this.is(i,"Object")?(u=[i,r],r=u[0],i=u[1]):this.is(r,"String")&&(c=[{},r],r=c[0],i=c[1]);for(a in r)n.call(r,a)&&(s=r[a],s=""+s||"",r[a]=this.escape(s));return o=new t(this,e,r),null!=i&&(i=""+i||"",i=this.escape(i),this.assertLegalChar(i),o.raw(i)),this.children.push(o),o},t.prototype.insertBefore=function(e,r,i){var o,a,s,u,c,l;if(this.isRoot)throw new Error("Cannot insert elements at root level");if(null==e)throw new Error("Missing element name");e=""+e||"",this.assertLegalChar(e),null==r&&(r={}),this.is(r,"String")&&this.is(i,"Object")?(c=[i,r],r=c[0],i=c[1]):this.is(r,"String")&&(l=[{},r],r=l[0],i=l[1]);for(s in r)n.call(r,s)&&(u=r[s],u=""+u||"",r[s]=this.escape(u));return o=new t(this.parent,e,r),null!=i&&(i=""+i||"",i=this.escape(i),this.assertLegalChar(i),o.raw(i)),a=this.parent.children.indexOf(this),this.parent.children.splice(a,0,o),o},t.prototype.insertAfter=function(e,r,i){var o,a,s,u,c,l;if(this.isRoot)throw new Error("Cannot insert elements at root level");if(null==e)throw new Error("Missing element name");e=""+e||"",this.assertLegalChar(e),null==r&&(r={}),this.is(r,"String")&&this.is(i,"Object")?(c=[i,r],r=c[0],i=c[1]):this.is(r,"String")&&(l=[{},r],r=l[0],i=l[1]);for(s in r)n.call(r,s)&&(u=r[s],u=""+u||"",r[s]=this.escape(u));return o=new t(this.parent,e,r),null!=i&&(i=""+i||"",i=this.escape(i),this.assertLegalChar(i),o.raw(i)),a=this.parent.children.indexOf(this),this.parent.children.splice(a+1,0,o),o},t.prototype.remove=function(){var t,e;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat(e=[])),e,this.parent},t.prototype.text=function(e){var n;if(null==e)throw new Error("Missing element text");return e=""+e||"",e=this.escape(e),this.assertLegalChar(e),n=new t(this,"",{},e),this.children.push(n),this},t.prototype.cdata=function(e){var n;if(null==e)throw new Error("Missing CDATA text");if(e=""+e||"",this.assertLegalChar(e),e.match(/]]>/))throw new Error("Invalid CDATA text: "+e);return n=new t(this,"",{},"<![CDATA["+e+"]]>"),this.children.push(n),this},t.prototype.comment=function(e){var n;if(null==e)throw new Error("Missing comment text");if(e=""+e||"",e=this.escape(e),this.assertLegalChar(e),e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return n=new t(this,"",{},"<!-- "+e+" -->"),this.children.push(n),this},t.prototype.raw=function(e){var n;if(null==e)throw new Error("Missing raw text");return e=""+e||"",n=new t(this,"",{},e),this.children.push(n),this},t.prototype.up=function(){if(this.isRoot)throw new Error("This node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;if(this.isRoot)return this;for(t=this.parent;!t.isRoot;)t=t.parent;return t},t.prototype.document=function(){return this.root().documentObject},t.prototype.end=function(t){return this.document().toString(t)},t.prototype.prev=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(t=this.parent.children.indexOf(this),1>t)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(t=this.parent.children.indexOf(this),-1===t||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.clone=function(e){var n;return n=new t(this.parent,this.name,this.attributes,this.value),e&&this.children.forEach(function(t){var r;return r=t.clone(e),r.parent=n,n.children.push(r)}),n},t.prototype.importXMLBuilder=function(t){var e;return e=t.root().clone(!0),e.parent=this,this.children.push(e),e.isRoot=!1,this},t.prototype.attribute=function(t,e){var n;if(null==t)throw new Error("Missing attribute name");if(null==e)throw new Error("Missing attribute value");return t=""+t||"",e=""+e||"",null==(n=this.attributes)&&(this.attributes={}),this.attributes[t]=this.escape(e),this},t.prototype.removeAttribute=function(t){if(null==t)throw new Error("Missing attribute name");return t=""+t||"",delete this.attributes[t],this},t.prototype.toString=function(t,e){var n,r,i,o,a,s,u,c,l,h,f,p;s=null!=t&&t.pretty||!1,o=null!=t&&t.indent||"  ",a=null!=t&&t.newline||"\n",e||(e=0),c=new Array(e+1).join(o),u="",s&&(u+=c),u+=null==this.value?"<"+this.name:""+this.value,f=this.attributes;for(n in f)r=f[n],u+="!DOCTYPE"===this.name?" "+r:" "+n+'="'+r+'"';if(0===this.children.length)null==this.value&&(u+="?xml"===this.name?"?>":"!DOCTYPE"===this.name?">":"/>"),s&&(u+=a);else if(s&&1===this.children.length&&this.children[0].value)u+=">",u+=this.children[0].value,u+="</"+this.name+">",u+=a;else{for(u+=">",s&&(u+=a),p=this.children,l=0,h=p.length;h>l;l++)i=p[l],u+=i.toString(t,e+1);s&&(u+=c),u+="</"+this.name+">",s&&(u+=a)}return u},t.prototype.escape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},t.prototype.assertLegalChar=function(t){var e,n;if(e=/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t)},t.prototype.is=function(t,e){var n;return n=Object.prototype.toString.call(t).slice(8,-1),null!=t&&n===e},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.att=function(t,e){return this.attribute(t,e)},t.prototype.com=function(t){return this.comment(t)},t.prototype.doc=function(){return this.document()},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.a=function(t,e){return this.attribute(t,e)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.u=function(){return this.up()},t}(),t.exports=e}).call(this)},function(t,e,n){(function(){var e;e=n(78),t.exports.create=function(t,n,r){return null!=t?new e(t,n,r).root():new e}}).call(this)},function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===h?62:e===s||e===f?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function n(t){function n(t){c[h++]=t}var r,i,a,s,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var h=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===u&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),h="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}(e)},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},function(t,e){var n=Array.isArray,r=Object.prototype.toString;t.exports=n||function(t){return!!t&&"[object Array]"==r.call(t)}},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);this._opad=u,this._alg=t;var a="sha512"===t?128:64;n=this._key=e.isBuffer(n)?n:new e(n),n.length>a?n=i(t).update(n).digest():n.length<a&&(n=e.concat([n,o],a));for(var s=this._ipad=new e(a),u=this._opad=new e(a),c=0;a>c;c++)s[c]=54^n[c],u[c]=92^n[c];this._hash=i(t).update(s)}var i=n(38),o=new e(128);o.fill(0),t.exports=r,r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(5).Buffer)},function(t,e,n){(function(e){function n(t,n){if(t.length%o!==0){var r=t.length+(o-t.length%o);t=e.concat([t,a],r)}for(var i=[],s=n?t.readInt32BE:t.readInt32LE,u=0;u<t.length;u+=o)i.push(s.call(t,u));return i}function r(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)o.call(i,t[a],4*a,!0);return i}function i(t,i,o,a){e.isBuffer(t)||(t=new e(t));var u=i(n(t,a),t.length*s);return r(u,o,a)}var o=4,a=new e(o);a.fill(0);var s=8;t.exports={hash:i}}).call(e,n(5).Buffer)},function(t,e,n){(function(t){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var o=n(96);e.createHash=n(38),e.createHmac=n(84),e.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(r){n(r)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var a=n(95)(e);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync,i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){r("sorry,",t,"is not implemented yet")}})}).call(e,n(5).Buffer)},function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,h=0;h<t.length;h+=16){var f=n,p=r,d=i,g=l;n=o(n,r,i,l,t[h+0],7,-680876936),l=o(l,n,r,i,t[h+1],12,-389564586),i=o(i,l,n,r,t[h+2],17,606105819),r=o(r,i,l,n,t[h+3],22,-1044525330),n=o(n,r,i,l,t[h+4],7,-176418897),l=o(l,n,r,i,t[h+5],12,1200080426),i=o(i,l,n,r,t[h+6],17,-1473231341),r=o(r,i,l,n,t[h+7],22,-45705983),n=o(n,r,i,l,t[h+8],7,1770035416),l=o(l,n,r,i,t[h+9],12,-1958414417),i=o(i,l,n,r,t[h+10],17,-42063),r=o(r,i,l,n,t[h+11],22,-1990404162),n=o(n,r,i,l,t[h+12],7,1804603682),l=o(l,n,r,i,t[h+13],12,-40341101),i=o(i,l,n,r,t[h+14],17,-1502002290),r=o(r,i,l,n,t[h+15],22,1236535329),n=a(n,r,i,l,t[h+1],5,-165796510),l=a(l,n,r,i,t[h+6],9,-1069501632),i=a(i,l,n,r,t[h+11],14,643717713),r=a(r,i,l,n,t[h+0],20,-373897302),n=a(n,r,i,l,t[h+5],5,-701558691),l=a(l,n,r,i,t[h+10],9,38016083),i=a(i,l,n,r,t[h+15],14,-660478335),r=a(r,i,l,n,t[h+4],20,-405537848),n=a(n,r,i,l,t[h+9],5,568446438),l=a(l,n,r,i,t[h+14],9,-1019803690),i=a(i,l,n,r,t[h+3],14,-187363961),r=a(r,i,l,n,t[h+8],20,1163531501),n=a(n,r,i,l,t[h+13],5,-1444681467),l=a(l,n,r,i,t[h+2],9,-51403784),i=a(i,l,n,r,t[h+7],14,1735328473),r=a(r,i,l,n,t[h+12],20,-1926607734),n=s(n,r,i,l,t[h+5],4,-378558),l=s(l,n,r,i,t[h+8],11,-2022574463),i=s(i,l,n,r,t[h+11],16,1839030562),r=s(r,i,l,n,t[h+14],23,-35309556),n=s(n,r,i,l,t[h+1],4,-1530992060),l=s(l,n,r,i,t[h+4],11,1272893353),i=s(i,l,n,r,t[h+7],16,-155497632),r=s(r,i,l,n,t[h+10],23,-1094730640),n=s(n,r,i,l,t[h+13],4,681279174),l=s(l,n,r,i,t[h+0],11,-358537222),i=s(i,l,n,r,t[h+3],16,-722521979),r=s(r,i,l,n,t[h+6],23,76029189),n=s(n,r,i,l,t[h+9],4,-640364487),l=s(l,n,r,i,t[h+12],11,-421815835),i=s(i,l,n,r,t[h+15],16,530742520),r=s(r,i,l,n,t[h+2],23,-995338651),n=u(n,r,i,l,t[h+0],6,-198630844),l=u(l,n,r,i,t[h+7],10,1126891415),i=u(i,l,n,r,t[h+14],15,-1416354905),r=u(r,i,l,n,t[h+5],21,-57434055),n=u(n,r,i,l,t[h+12],6,1700485571),l=u(l,n,r,i,t[h+3],10,-1894986606),i=u(i,l,n,r,t[h+10],15,-1051523),r=u(r,i,l,n,t[h+1],21,-2054922799),n=u(n,r,i,l,t[h+8],6,1873313359),l=u(l,n,r,i,t[h+15],10,-30611744),i=u(i,l,n,r,t[h+6],15,-1560198380),r=u(r,i,l,n,t[h+13],21,1309151649),n=u(n,r,i,l,t[h+4],6,-145523070),l=u(l,n,r,i,t[h+11],10,-1120210379),i=u(i,l,n,r,t[h+2],15,718787259),r=u(r,i,l,n,t[h+9],21,-343485551),n=c(n,f),r=c(r,p),i=c(i,d),l=c(l,g)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,a,s){return i(e&n|~e&r,t,e,o,a,s)}function a(t,e,n,r,o,a,s){return i(e&r|n&~r,t,e,o,a,s)}function s(t,e,n,r,o,a,s){return i(e^n^r,t,e,o,a,s)}function u(t,e,n,r,o,a,s){return i(n^(e|~r),t,e,o,a,s)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var h=n(85);t.exports=function(t){return h.hash(t,r,16)}},function(t,e,n){(function(e){t.exports=function(t){function n(t,e,n,i,o,a){if("function"==typeof o&&(a=o,o=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var s;try{s=r(t,e,n,i,o)}catch(u){return a(u)}a(void 0,s)})}function r(n,r,i,o,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(0>i)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(0>o)throw new TypeError("Bad key length");a=a||"sha1",e.isBuffer(n)||(n=new e(n)),e.isBuffer(r)||(r=new e(r));var s,u,c,l=1,h=new e(o),f=new e(r.length+4);r.copy(f,0,0,r.length);for(var p=1;l>=p;p++){f.writeUInt32BE(p,r.length);var d=t.createHmac(a,n).update(f).digest();if(!s&&(s=d.length,c=new e(s),l=Math.ceil(o/s),u=o-(l-1)*s,o>(Math.pow(2,32)-1)*s))throw new TypeError("keylen exceeds maximum length");d.copy(c,0,0,s);for(var g=1;i>g;g++){d=t.createHmac(a,n).update(d).digest();for(var v=0;s>v;v++)c[v]^=d[v]}var y=(p-1)*s,m=p==l?u:s;c.copy(h,y,0,m)}return h}return{pbkdf2:n,pbkdf2Sync:r}}}).call(e,n(5).Buffer)},function(t,e,n){(function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function a(t,e,n){return t^(e|~n)}function s(t,e){return t<<e|t>>>32-e}function u(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=g(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var a=0;a<r.length;a+=16)y(n,r,a);for(var a=0;5>a;a++){var s=n[a];n[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var u=v(n);return new e(u)}t.exports=u;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0],g=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},v=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},y=function(t,e,u){for(var g=0;16>g;g++){var v=u+g,y=e[v];e[v]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8)}var m,b,w,E,_,A,S,x,j,k;A=m=t[0],S=b=t[1],x=w=t[2],j=E=t[3],k=_=t[4];for(var T,g=0;80>g;g+=1)T=m+e[u+c[g]]|0,T+=16>g?n(b,w,E)+p[0]:32>g?r(b,w,E)+p[1]:48>g?i(b,w,E)+p[2]:64>g?o(b,w,E)+p[3]:a(b,w,E)+p[4],T=0|T,T=s(T,h[g]),T=T+_|0,m=_,_=E,E=s(w,10),w=b,b=T,T=A+e[u+l[g]]|0,T+=16>g?a(S,x,j)+d[0]:32>g?o(S,x,j)+d[1]:48>g?i(S,x,j)+d[2]:64>g?r(S,x,j)+d[3]:n(S,x,j)+d[4],T=0|T,T=s(T,f[g]),T=T+k|0,A=k,k=j,j=s(x,10),x=S,S=T;T=t[1]+w+j|0,t[1]=t[2]+E+k|0,t[2]=t[3]+_+A|0,t[3]=t[4]+m+S|0,t[4]=t[0]+b+x|0,t[0]=T}}).call(e,n(5).Buffer)},function(t,e){t.exports=function(t){function e(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var r=this._len+=e.length,i=this._s=this._s||0,o=0,a=this._block;r>i;){for(var s=Math.min(e.length,o+this._blockSize-i%this._blockSize),u=s-o,c=0;u>c;c++)a[i%this._blockSize+c]=e[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(a)}return this._s=i,this},e.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},r=n(5).Buffer,i=n(90)(r);e.sha1=n(92)(r,i),e.sha256=n(93)(r,i),e.sha512=n(94)(r,i)},function(t,e,n){var r=n(9).inherits;t.exports=function(t,e){function n(){return d.length?d.pop().init():this instanceof n?(this._w=p,e.call(this,64,56),this._h=null,void this.init()):new n}function i(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function o(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function a(t,e){return t+e|0}function s(t,e){return t<<e|t>>>32-e}var u=0,c=4,l=8,h=12,f=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),d=[];return r(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},n.prototype._POOL=d,n.prototype._update=function(t){var e,n,r,u,c,l,h,f,p,d;e=l=this._a,n=h=this._b,r=f=this._c,u=p=this._d,c=d=this._e;for(var g=this._w,v=0;80>v;v++){var y=g[v]=16>v?t.readInt32BE(4*v):s(g[v-3]^g[v-8]^g[v-14]^g[v-16],1),m=a(a(s(e,5),i(v,n,r,u)),a(a(c,y),o(v)));c=u,u=r,r=s(n,30),n=e,e=m}this._a=a(e,l),this._b=a(n,h),this._c=a(r,f),this._d=a(u,p),this._e=a(c,d)},n.prototype._hash=function(){d.length<100&&d.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,u),e.writeInt32BE(0|this._b,c),e.writeInt32BE(0|this._c,l),e.writeInt32BE(0|this._d,h),e.writeInt32BE(0|this._e,f),e},n}},function(t,e,n){var r=n(9).inherits;t.exports=function(t,e){function n(){this.init(),this._w=p,e.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function a(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function h(t){return i(t,17)^i(t,19)^o(t,10)}var f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,i,o,p,d,g,v,y,m=this._w;e=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,p=0|this._f,d=0|this._g,g=0|this._h;for(var b=0;64>b;b++){var w=m[b]=16>b?t.readInt32BE(4*b):h(m[b-2])+m[b-7]+l(m[b-15])+m[b-16];v=g+c(o)+a(o,p,d)+f[b]+w,y=u(e)+s(e,n,r),g=d,d=p,p=o,o=i+v,i=r,r=n,n=e,e=v+y}this._a=e+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=p+this._f|0,this._g=d+this._g|0,this._h=g+this._h|0},n.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},n}},function(t,e,n){var r=n(9).inherits;t.exports=function(t,e){function n(){this.init(),this._w=u,e.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}var s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,u,c,l,h,f,p,d,g,v,y,m,b,w,E=this._w;e=0|this._a,n=0|this._b,r=0|this._c,u=0|this._d,c=0|this._e,l=0|this._f,h=0|this._g,f=0|this._h,p=0|this._al,d=0|this._bl,g=0|this._cl,v=0|this._dl,y=0|this._el,m=0|this._fl,b=0|this._gl,w=0|this._hl;for(var _=0;80>_;_++){var A,S,x=2*_;if(16>_)A=E[x]=t.readInt32BE(4*x),S=E[x+1]=t.readInt32BE(4*x+4);else{var j=E[x-30],k=E[x-30+1],T=i(j,k,1)^i(j,k,8)^j>>>7,R=i(k,j,1)^i(k,j,8)^i(k,j,7);j=E[x-4],k=E[x-4+1];var C=i(j,k,19)^i(k,j,29)^j>>>6,P=i(k,j,19)^i(j,k,29)^i(k,j,6),I=E[x-14],O=E[x-14+1],q=E[x-32],D=E[x-32+1];S=R+O,A=T+I+(R>>>0>S>>>0?1:0),S+=P,A=A+C+(P>>>0>S>>>0?1:0),S+=D,A=A+q+(D>>>0>S>>>0?1:0),E[x]=A,E[x+1]=S}var L=a(e,n,r),F=a(p,d,g),U=i(e,p,28)^i(p,e,2)^i(p,e,7),M=i(p,e,28)^i(e,p,2)^i(e,p,7),N=i(c,y,14)^i(c,y,18)^i(y,c,9),B=i(y,c,14)^i(y,c,18)^i(c,y,9),H=s[x],K=s[x+1],W=o(c,l,h),G=o(y,m,b),V=w+B,z=f+N+(w>>>0>V>>>0?1:0);V+=G,z=z+W+(G>>>0>V>>>0?1:0),V+=K,z=z+H+(K>>>0>V>>>0?1:0),V+=S,z=z+A+(S>>>0>V>>>0?1:0);var Q=M+F,X=U+L+(M>>>0>Q>>>0?1:0);f=h,w=b,h=l,b=m,l=c,m=y,y=v+V|0,c=u+z+(v>>>0>y>>>0?1:0)|0,u=r,v=g,r=n,g=d,n=e,d=p,p=V+Q|0,e=z+X+(V>>>0>p>>>0?1:0)|0}this._al=this._al+p|0,this._bl=this._bl+d|0,this._cl=this._cl+g|0,this._dl=this._dl+v|0,this._el=this._el+y|0,this._fl=this._fl+m|0,this._gl=this._gl+b|0,this._hl=this._hl+w|0,this._a=this._a+e+(this._al>>>0<p>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<d>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<g>>>0?1:0)|0,this._d=this._d+u+(this._dl>>>0<v>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<y>>>0?1:0)|0,this._f=this._f+l+(this._fl>>>0<m>>>0?1:0)|0,this._g=this._g+h+(this._gl>>>0<b>>>0?1:0)|0,this._h=this._h+f+(this._hl>>>0<w>>>0?1:0)|0},n.prototype._hash=function(){function e(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),n},n}},function(t,e,n){var r=n(88);t.exports=function(t,e){e=e||{};var n=r(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},function(t,e,n){(function(e,r){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||n(107),t.exports=function(t){if(_crypto.getRandomValues){var e=new r(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),n(5).Buffer)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-->0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r;(function(t,i){!function(o){function a(t){throw RangeError(I[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(P,".");var i=t.split("."),o=s(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function f(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?q(t/x):t>>1,t+=q(t/e);t>O*A>>1;r+=E)t=q(t/O);return q(r+(O+1)*t/(t+S))}function d(t){var e,n,r,i,o,s,u,c,f,d,g=[],v=t.length,y=0,m=k,b=j;for(n=t.lastIndexOf(T),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&a("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;v>i;){for(o=y,s=1,u=E;i>=v&&a("invalid-input"),c=h(t.charCodeAt(i++)),(c>=E||c>q((w-y)/s))&&a("overflow"),y+=c*s,f=b>=u?_:u>=b+A?A:u-b,!(f>c);u+=E)d=E-f,s>q(w/d)&&a("overflow"),s*=d;e=g.length+1,b=p(y-o,e,0==o),q(y/e)>w-m&&a("overflow"),m+=q(y/e),y%=e,g.splice(y++,0,m)}return l(g)}function g(t){var e,n,r,i,o,s,u,l,h,d,g,v,y,m,b,S=[];for(t=c(t),v=t.length,e=k,n=0,o=j,s=0;v>s;++s)g=t[s],128>g&&S.push(D(g));for(r=i=S.length,i&&S.push(T);v>r;){for(u=w,s=0;v>s;++s)g=t[s],g>=e&&u>g&&(u=g);for(y=r+1,u-e>q((w-n)/y)&&a("overflow"),n+=(u-e)*y,e=u,s=0;v>s;++s)if(g=t[s],e>g&&++n>w&&a("overflow"),g==e){for(l=n,h=E;d=o>=h?_:h>=o+A?A:h-o,!(d>l);h+=E)b=l-d,m=E-d,S.push(D(f(d+b%m,0))),l=q(b/m);S.push(D(f(l,0))),o=p(n,y,r==i),n=0,++r}++n,++e}return S.join("")}function v(t){return u(t,function(t){return R.test(t)?d(t.slice(4).toLowerCase()):t})}function y(t){return u(t,function(t){return C.test(t)?"xn--"+g(t):t})}var m=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(m.global===m||m.window===m||m.self===m)&&(o=m);var b,w=2147483647,E=36,_=1,A=26,S=38,x=700,j=72,k=128,T="-",R=/^xn--/,C=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=E-_,q=Math.floor,D=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:g,toASCII:y,toUnicode:v},r=function(){return b}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(37)(t),function(){return this}())},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,o){e=e||"&",i=i||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var h,f,p,d,g=t[l].replace(s,"%20"),v=g.indexOf(i);v>=0?(h=g.substr(0,v),f=g.substr(v+1)):(h=g,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),n(a,p)?r(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,a,s){return e=e||"&",a=a||"=",null===t&&(t=void 0),"object"==typeof t?n(o(t),function(o){var s=encodeURIComponent(r(o))+a;return i(t[o])?n(t[o],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[o]))}).join(e):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";e.decode=e.parse=n(99),e.encode=e.stringify=n(100)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;u>c;++c){var l,h,f,p,d=t[c].replace(a,"%20"),g=d.indexOf(r);g>=0?(l=d.substr(0,g),h=d.substr(g+1)):(l=d,h=""),f=decodeURIComponent(l),p=decodeURIComponent(h),n(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(102),e.encode=e.stringify=n(103)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){}])});