{"version":3,"sources":["matter-client.js"],"names":[],"mappings":"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","file":"matter-client.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('underscore'), require('firebase'), require('superagent')) :\n\ttypeof define === 'function' && define.amd ? define(['underscore', 'firebase', 'superagent'], factory) :\n\tglobal.MatterClient = factory(global._,global.Firebase,global.superagent);\n}(this, function (_,Firebase,superagent) { 'use strict';\n\n\t_ = 'default' in _ ? _['default'] : _;\n\tFirebase = 'default' in Firebase ? Firebase['default'] : Firebase;\n\tsuperagent = 'default' in superagent ? superagent['default'] : superagent;\n\n\tlet config = {\n\t\tserverUrl: 'hypercube.elasticbeanstalk.com',\n\t\ttokenName: 'matter-client',\n\t\tfbUrl: 'https://pruvit.firebaseio.com/',\n\t\taws: {\n\t\t\tregion: 'us-east-1',\n\t\t\tcognito: {\n\t\t\t\tpoolId: 'us-east-1:7f3bc1ff-8484-48dd-9e13-27e5cd3de982',\n\t\t\t\tparams: {\n\t\t\t\t\tRoleArn: 'arn:aws:iam::823322155619:role/Cognito_HypercubeTestAuth_Role1'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t//Set server to local server if developing\n\tif (typeof window != 'undefined' && (window.location.hostname == '' || window.location.hostname == 'localhost')) {\n\t\tconfig.serverUrl = 'http://localhost:4000';\n\t}\n\n\tlet storage = {\n\t\tget exists() {\n\t\t\tconst testKey = 'test';\n\t\t\tconsole.log('storage exists called');\n\t\t\tif (typeof window != 'undefined') {\n\t\t\t\ttry {\n\t\t\t\t\twindow.sessionStorage.setItem(testKey, '1');\n\t\t\t\t\twindow.sessionStorage.removeItem(testKey);\n\t\t\t\t\treturn true;\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn('Session storage does not exist.', err);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @description\n\t\t * Safley sets item to session storage.\n\t\t *\n\t\t * @param {String} itemName The items name\n\t\t * @param {String} itemValue The items value\n\t\t *\n\t\t *  @private\n\t\t */\n\t\tsetItem(itemName, itemValue) {\n\t\t\t//TODO: Handle itemValue being an object instead of a string\n\t\t\tif (this.exists) {\n\t\t\t\twindow.sessionStorage.setItem(itemName, itemValue);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @description\n\t\t * Safley gets an item from session storage.\n\t\t *\n\t\t * @param {String} itemName The items name\n\t\t *\n\t\t * @return {String}\n\t\t *\n\t\t */\n\t\tgetItem(itemName) {\n\t\t\tif (this.exists) {\n\t\t\t\tconsole.log('item loaded from session');\n\t\t\t\treturn window.sessionStorage.getItem(itemName);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/**\n\t\t * @description\n\t\t * Safley removes item from session storage.\n\t\t *\n\t\t * @param {String} itemName - The items name\n\t\t *\n\t\t */\n\t\tremoveItem(itemName) {\n\t\t\t//TODO: Only remove used items\n\t\t\tif (this.exists) {\n\t\t\t\ttry {\n\t\t\t\t\t//Clear session storage\n\t\t\t\t\twindow.sessionStorage.removeItem(itemName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn('Item could not be removed from session storage.', err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @description\n\t\t * Safley removes item from session storage.\n\t\t *\n\t\t * @param {String} itemName the items name\n\t\t * @param {String} itemValue the items value\n\t\t *\n\t\t *  @private\n\t\t */\n\t\tclear() {\n\t\t\t//TODO: Only remove used items\n\t\t\tif (this.exists) {\n\t\t\t\ttry {\n\t\t\t\t\t\t//Clear session storage\n\t\t\t\t\twindow.sessionStorage.clear();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn('Session storage could not be cleared.', err);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t};\n\n\tlet requester;\n\tif (typeof window == 'undefined') { //Node Mode\n\t\trequester = superagent;\n\t} else if (typeof window.superagent == 'undefined') {\n\t\tconsole.error('Superagent is required to use Matter');\n\t} else { //Browser mode\n\t\trequester = window.superagent;\n\t}\n\n\tlet request = {\n\t\tget(endpoint, queryData) {\n\t\t\tvar req = requester.get(endpoint);\n\t\t\tif (queryData) {\n\t\t\t\treq.query(queryData);\n\t\t\t}\n\t\t\treq = addAuthHeader(req);\n\t\t\treturn handleResponse(req);\n\t\t},\n\t\tpost(endpoint, data) {\n\t\t\tvar req = requester.post(endpoint).send(data);\n\t\t\treq = addAuthHeader(req);\n\t\t\treturn handleResponse(req);\n\t\t},\n\t\tput(endpoint, data) {\n\t\t\tvar req = requester.put(endpoint).send(data);\n\t\t\treq = addAuthHeader(req);\n\t\t\treturn handleResponse(req);\n\t\t},\n\t\tdel(endpoint, data) {\n\t\t\tvar req = requester.put(endpoint).send(data);\n\t\t\treq = addAuthHeader(req);\n\t\t\treturn handleResponse(req);\n\t\t}\n\n\t};\n\n\tfunction handleResponse(req) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\treq.end((err, res) => {\n\t\t\t\tif (!err) {\n\t\t\t\t\t// console.log('Response:', res);\n\t\t\t\t\treturn resolve(res.body);\n\t\t\t\t} else {\n\t\t\t\t\tif (err.status == 401) {\n\t\t\t\t\t\tconsole.warn('Unauthorized. You must be signed into make this request.');\n\t\t\t\t\t}\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tfunction addAuthHeader(req) {\n\t\tif (storage.getItem(config.tokenName)) {\n\t\t\treq = req.set('Authorization', 'Bearer ' + storage.getItem(config.tokenName));\n\t\t\tconsole.log('Set auth header');\n\t\t}\n\t\treturn req;\n\t}\n\n\t/**\n\t * Application class.\n\t *\n\t */\n\tclass _Application {\n\t\tconstructor(appData) {\n\t\t\tthis.name = appData.name;\n\t\t\tthis.owner = appData.owner || null;\n\t\t\tthis.collaborators = appData.collaborators || [];\n\t\t\tthis.createdAt = appData.createdAt;\n\t\t\tthis.updatedAt = appData.updatedAt;\n\t\t\tthis.frontend = appData.frontend || {};\n\t\t\tthis.backend = appData.backend || {};\n\t\t\tif (Firebase) {\n\t\t\t\tthis.fbRef = new Firebase(config.fbUrl + appData.name);\n\t\t\t}\n\t\t}\n\t\t//Get files list and convert to structure\n\t\tgetStructure() {\n\t\t\treturn this.getFiles().then((filesArray) => {\n\t\t\t\tconst childStruct = childrenStructureFromArray(filesArray);\n\t\t\t\tconsole.log('Child struct from array:', childStruct);\n\t\t\t\treturn childStruct;\n\t\t\t}, (err) => {\n\t\t\t\tconsole.error('[Application.getStructure] Error getting files: ', err);\n\t\t\t\treturn Promise.reject({message: 'Error getting files.', error: err});\n\t\t\t});\n\t\t}\n\t\t//Get files list from S3\n\t\tgetFiles() {\n\t\t\tif (!this.frontend || !this.frontend.bucketName) {\n\t\t\t\tconsole.error('[Applicaiton.getFiles] Attempting to get objects for bucket without name.');\n\t\t\t\treturn Promise.reject({message: 'Bucket name required to get objects'});\n\t\t\t} else {\n\t\t\t\t//If AWS Credential do not exist, set them\n\t\t\t\tif (typeof AWS.config.credentials == 'undefined' || !AWS.config.credentials) {\n\t\t\t\t\t// console.info('AWS creds are being updated to make request');\n\t\t\t\t\tsetAWSConfig();\n\t\t\t\t}\n\t\t\t\tvar s3 = new AWS.S3();\n\t\t\t\tvar listParams = {Bucket: this.frontend.bucketName};\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\ts3.listObjects(listParams, function(err, data) {\n\t\t\t\t\t\tif (!err) {\n\t\t\t\t\t\t\tconsole.log('[Application.getObjects()] listObjects returned:', data);\n\t\t\t\t\t\t\treturn resolve(data.Contents);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('[Application.getObjects()] Error listing objects:', err);\n\t\t\t\t\t\t\treturn reject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tpublishFile(fileData) {\n\t\t\tif (!this.frontend) {\n\t\t\t\tconsole.error('Frontend data not available. Make sure to call .get().');\n\t\t\t\treturn Promise.reject({message: 'Front end data is required to publish file.'});\n\t\t\t}\n\t\t\tvar saveParams = {Bucket: this.frontent.bucketName, Key: fileData.key,  Body: fileData.content, ACL: 'public-read'};\n\t\t\t//Set contentType from fileData to ContentType parameter of new object\n\t\t\tif (fileData.contentType) {\n\t\t\t\tsaveParams.ContentType = fileData.contentType;\n\t\t\t}\n\t\t\t// console.log('[$aws.$saveFiles] saveParams:', saveParams);\n\t\t\treturn s3.putObject(saveParams, function(err, data) {\n\t\t\t\t//[TODO] Add putting object ACL (make public)\n\t\t\t\tif (!err) {\n\t\t\t\t\tconsole.log('[Application.publishFile()] file saved successfully. Returning:', data);\n\t\t\t\t\treturn data;\n\t\t\t\t}\telse {\n\t\t\t\t\tconsole.error('[Application.publishFile()] Error saving file:', err);\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\taddStorage() {\n\t\t\t//TODO:Add storage bucket\n\t\t\tvar endpoint = config.serverUrl + '/apps/' + this.name + '/storage';\n\t\t\treturn request.post(endpoint, appData).then((response) => {\n\t\t\t\tconsole.log('[Application.addStorage()] Apps:', response);\n\t\t\t\treturn new _Application(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[Application.addStorage()] Error getting apps list: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\tapplyTemplate() {\n\t\t\tvar endpoint = config.serverUrl + '/apps/' + this.name + '/template';\n\t\t\tconsole.log('Applying templates to existing');\n\t\t\t// return request.post(endpoint, appData).then(function(response) {\n\t\t\t// \tconsole.log('[Application.addStorage()] Apps:', response);\n\t\t\t// \tif (!apps.isList) {\n\t\t\t// \t\treturn new Application(response);\n\t\t\t// \t}\n\t\t\t// \treturn response;\n\t\t\t// })['catch'](function(errRes) {\n\t\t\t// \tconsole.error('[Application.addStorage()] Error getting apps list: ', errRes);\n\t\t\t// \treturn Promise.reject(errRes);\n\t\t\t// });\n\t\t}\n\t}\n\n\t//------------------ Utility Functions ------------------//\n\n\t// AWS Config\n\tfunction setAWSConfig() {\n\t\tAWS.config.update({\n\t\t  credentials: new AWS.CognitoIdentityCredentials({\n\t\t  IdentityPoolId: config.aws.cognito.poolId\n\t\t  }),\n\t\t  region: config.aws.region\n\t\t});\n\t}\n\n\t//Convert from array file structure (from S3) to 'children' structure used in Editor GUI (angular-tree-control)\n\t//Examples for two files (index.html and /testFolder/file.js):\n\t//Array structure: [{path:'index.html'}, {path:'testFolder/file.js'}]\n\t//Children Structure [{type:'folder', name:'testfolder', children:[{path:'testFolder/file.js', name:'file.js', filetype:'javascript', contentType:'application/javascript'}]}]\n\tfunction childrenStructureFromArray(fileArray) {\n\t\t// console.log('childStructureFromArray called:', fileArray);\n\t\t//Create a object for each file that stores the file in the correct 'children' level\n\t\tvar mappedStructure = fileArray.map(function(file) {\n\t\t\treturn buildStructureObject(file);\n\t\t});\n\t\treturn combineLikeObjs(mappedStructure);\n\t}\n\t//Convert file with key into a folder/file children object\n\tfunction buildStructureObject(file) {\n\t\tvar pathArray;\n\t\t// console.log('buildStructureObject with:', file);\n\t\tif (_.has(file, 'path')) {\n\t\t\t//Coming from files already having path (structure)\n\t\t\tpathArray = file.path.split('/');\n\t\t} else {\n\t\t\t//Coming from aws\n\t\t\tpathArray = file.Key.split('/');\n\t\t\t// console.log('file before pick:', file);\n\t\t\tfile = _.pick(file, 'Key');\n\t\t\tfile.path = file.Key;\n\t\t\tfile.name = file.Key;\n\t\t}\n\t\tvar currentObj = file;\n\t\tif (pathArray.length == 1) {\n\t\t\tcurrentObj.name = pathArray[0];\n\t\t\tif (!_.has(currentObj,'type')) {\n\t\t\t\tcurrentObj.type = 'file';\n\t\t\t}\n\t\t\tcurrentObj.path = pathArray[0];\n\t\t\treturn currentObj;\n\t\t} else {\n\t\t\tvar finalObj = {};\n\t\t\t_.each(pathArray, (loc, ind, list) => {\n\t\t\t\tif (ind != list.length - 1) {//Not the last loc\n\t\t\t\t\tcurrentObj.name = loc;\n\t\t\t\t\tcurrentObj.path = _.first(list, ind + 1).join('/');\n\t\t\t\t\tcurrentObj.type = 'folder';\n\t\t\t\t\tcurrentObj.children = [{}];\n\t\t\t\t\t//TODO: Find out why this works\n\t\t\t\t\tif (ind == 0) {\n\t\t\t\t\t\tfinalObj = currentObj;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentObj = currentObj.children[0];\n\t\t\t\t} else {\n\t\t\t\t\tcurrentObj.type = 'file';\n\t\t\t\t\tcurrentObj.name = loc;\n\t\t\t\t\tcurrentObj.path = pathArray.join('/');\n\t\t\t\t\tif (file.$id) {\n\t\t\t\t\t\tcurrentObj.$id = file.$id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn finalObj;\n\t\t}\n\t}\n\t//Recursivley combine children of object's that have the same names\n\tfunction combineLikeObjs(mappedArray) {\n\t\tvar takenNames = [];\n\t\tvar finishedArray = [];\n\t\t_.each(mappedArray, (obj, ind, list) => {\n\t\t\tif (takenNames.indexOf(obj.name) == -1) {\n\t\t\t\ttakenNames.push(obj.name);\n\t\t\t\tfinishedArray.push(obj);\n\t\t\t} else {\n\t\t\t\tvar likeObj = _.findWhere(mappedArray, {name: obj.name});\n\t\t\t\t//Combine children of like objects\n\t\t\t\tlikeObj.children = _.union(obj.children, likeObj.children);\n\t\t\t\tlikeObj.children = combineLikeObjs(likeObj.children);\n\t\t\t\t// console.log('extended obj:',likeObj);\n\t\t\t}\n\t\t});\n\t\treturn finishedArray;\n\t}\n\n\t//Actions for specific application\n\tclass AppAction {\n\t\tconstructor(appName) {\n\t\t\tif (appName) {\n\t\t\t\tthis.name = appName;\n\t\t\t\tthis.endpoint = `${config.serverUrl}/apps/${this.name}`;\n\t\t\t} else {\n\t\t\t\tconsole.error('Application name is required to start an AppAction');\n\t\t\t\tthrow new Error('Application name is required to start an AppAction');\n\t\t\t}\n\t\t}\n\t\t//Get applications or single application\n\t\tget() {\n\t\t\treturn request.get(this.endpoint).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.app().get()] App(s) data loaded:', response);\n\t\t\t\treturn new _Application(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.app().get()] Error getting apps list: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Update an application\n\t\tupdate(appData) {\n\t\t\treturn request.put(this.endpoint, appData).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.apps().update()] App:', response);\n\t\t\t\treturn new _Application(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.apps().update()] Error updating app: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Delete an application\n\t\tdel(appData) {\n\t\t\treturn request.delete(this.endpoint, appData).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.apps().del()] Apps:', response);\n\t\t\t\treturn new _Application(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.apps().del()] Error deleting app: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\tgetFiles() {\n\t\t\treturn this.get().then((app) => {\n\t\t\t\tapp.getFiles().then((filesArray)=> {\n\t\t\t\t\treturn filesArray;\n\t\t\t\t})['catch']((err) => {\n\t\t\t\t\tconsole.error('[MatterClient.app().getFiles()] Error getting application files: ', err);\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t\t})['catch']((err) => {\n\t\t\t\tconsole.error('[MatterClient.app().getFiles()] Error getting application: ', err);\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t\t}\n\n\t\tgetStructure() {\n\t\t\treturn this.get().then((app) => {\n\t\t\t\treturn app.getStructure().then((structure)=> {\n\t\t\t\t\tconsole.log('Structure loaded: ', structure);\n\t\t\t\t\treturn structure;\n\t\t\t\t})['catch']((err) => {\n\t\t\t\t\tconsole.error('[MatterClient.app().getStructure()] Error getting application structure: ', err);\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t\t})['catch']((err) => {\n\t\t\t\tconsole.error('[MatterClient.app().getStructure()] Error getting application: ', err);\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t\t}\n\t}\n\n\t//Actions for applications list\n\tclass AppsAction {\n\t\tconstructor() {\n\t\t\tthis.endpoint = config.serverUrl + '/apps';\n\t\t}\n\t\t//Get applications or single application\n\t\tget() {\n\t\t\treturn request.get(this.endpoint).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.apps().get()] App(s) data loaded:', response);\n\t\t\t\treturn response;\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.apps().get()] Error getting apps list: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Add an application\n\t\tadd(appData) {\n\t\t\treturn request.post(this.endpoint, appData).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.apps().add()] Application added successfully: ', response);\n\t\t\t\treturn new Application(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.getApps()] Error adding application: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * User class.\n\t *\n\t */\n\tclass User {\n\t\tconstructor(userData) {\n\t\t\tthis.name = userData.name;\n\t\t\tthis.username = userData.username;\n\t\t\tthis.createdAt = userData.createdAt;\n\t\t\tthis.updatedAt = userData.updatedAt;\n\t\t}\n\t\tget apps() {\n\t\t\treturn new AppsAction();\n\t\t}\n\t\tapp(appName) {\n\t\t\t//TODO: Attach owner as well ?\n\t\t\treturn new AppAction(appName);\n\t\t}\n\t}\n\n\t//Actions for specific user\n\tclass UserAction {\n\t\tconstructor(userName) {\n\t\t\tif (userName) {\n\t\t\t\tthis.name = userName;\n\t\t\t\tthis.endpoint = `${config.serverUrl}/users/${this.name}`;\n\t\t\t} else {\n\t\t\t\tconsole.error('Username is required to start an UserAction');\n\t\t\t\tthrow new Error('Username is required to start an UserAction');\n\t\t\t}\n\t\t}\n\t\t//Get userlications or single userlication\n\t\tget() {\n\t\t\treturn request.get(this.endpoint).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.user().get()] App(s) data loaded:', response);\n\t\t\t\treturn new User(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.user().get()] Error getting users list: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Update an userlication\n\t\tupdate(userData) {\n\t\t\treturn request.put(this.endpoint, userData).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.users().update()] App:', response);\n\t\t\t\treturn new User(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.users().update()] Error updating user: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Delete an userlication\n\t\t//TODO: Only do request if deleting personal account\n\t\tdel(userData) {\n\t\t\tconsole.error('Deleting a user is currently disabled.');\n\t\t\t// return request.delete(this.endpoint, userData).then((response) => {\n\t\t\t// \tconsole.log('[MatterClient.users().del()] Apps:', response);\n\t\t\t// \treturn new User(response);\n\t\t\t// })['catch']((errRes) => {\n\t\t\t// \tconsole.error('[MatterClient.users().del()] Error deleting user: ', errRes);\n\t\t\t// \treturn Promise.reject(errRes);\n\t\t\t// });\n\t\t}\n\t}\n\n\t//Actions for applications list\n\tclass UsersAction {\n\t\tconstructor() {\n\t\t\tthis.endpoint = config.serverUrl + '/users';\n\t\t}\n\t\t//Get applications or single application\n\t\tget(query) {\n\t\t\tlet userEndpoint = this.endpoint;\n\t\t\tif (query && !_.isString(query)) {\n\t\t\t\tconst msg = 'Get only handles username as a string';\n\t\t\t\tconsole.error(msg);\n\t\t\t\treturn Promise.reject({message: msg});\n\t\t\t}\n\t\t\tif (query) {\n\t\t\t userEndpoint = userEndpoint + '/' + query;\n\t\t\t}\n\t\t\treturn request.get(userEndpoint).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.apps().get()] App(s) data loaded:', response);\n\t\t\t\treturn response;\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.apps().get()] Error getting apps list: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Add an application\n\t\tadd(appData) {\n\t\t\treturn request.post(this.endpoint, appData).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.apps().add()] Application added successfully: ', response);\n\t\t\t\treturn new Application(response);\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.getApps()] Error adding application: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t\t//Search with partial of username\n\t\tsearch(query) {\n\t\t\tconsole.log('search called:', query);\n\t\t\tvar searchEndpoint = this.endpoint + '/search/';\n\t\t\tif (query && _.isString(query)) {\n\t\t\t\tsearchEndpoint += query;\n\t\t\t}\n\t\t\tconsole.log('searchEndpoint:', searchEndpoint);\n\t\t\treturn request.get(searchEndpoint).then((response) => {\n\t\t\t\tconsole.log('[MatterClient.users().search()] Users(s) data loaded:', response);\n\t\t\t\treturn response;\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.users().search()] Error getting apps list: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\t}\n\n\tlet user;\n\tlet token;\n\n\t//Matter Client Class\n\tclass MatterClient {\n\t\t//Signup a new user\n\t\tsignup(signupData) {\n\t\t\treturn request.post(config.serverUrl + '/signup', signupData)\n\t\t\t.then((response) => {\n\t\t\t  console.log(response);\n\t\t\t  return response;\n\t\t\t})\n\t\t\t['catch']((errRes) => {\n\t\t\t  console.error('[MatterClient.signup()] Error signing up:', errRes);\n\t\t\t  return Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\n\t\t//Login a user\n\t\tlogin(loginData) {\n\t\t\tif (!loginData || !loginData.password || !loginData.username) {\n\t\t\t\tconsole.error('Username/Email and Password are required to login.');\n\t\t\t\treturn Promise.reject({message: 'Username/Email and Password are required to login.'});\n\t\t\t}\n\t\t\treturn request.put(config.serverUrl + '/login', loginData)\n\t\t\t.then((response) => {\n\t\t\t\t//TODO: Save token locally\n\t\t\t\tconsole.log('[MatterClient.login()]: Login response: ', response);\n\t\t\t\ttoken = response.token;\n\t\t\t\tif (storage.getItem(config.tokenName) === null) {\n\t\t\t\t\tstorage.setItem(config.tokenName, response.token);\n\t\t\t\t\tconsole.log('[MatterClient.login()]: token set to storage:', storage.getItem(config.tokenName));\n\t\t\t\t}\n\t\t\t\treturn response;\n\t\t\t})['catch']((errRes) => {\n\t\t\t\tconsole.error('[MatterClient.login()] Error logging in: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\n\t\tlogout() {\n\t\t\treturn request.put(config.serverUrl + '/logout', {\n\t\t\t}).then(function(response) {\n\t\t\t  console.log('[MatterClient.logout()] Logout successful: ', response);\n\t\t\t  if (typeof window != 'undefined' && typeof storage.getItem(config.tokenName) != null) {\n\t\t\t\t\t//Clear session storage\n\t\t\t\t\tstorage.clear();\n\t\t\t\t}\n\t\t\t\treturn response.body;\n\t\t\t})['catch'](function(errRes) {\n\t\t\t\tif (errRes.status && errRes.status == 401) {\n\t\t\t\t\tif (typeof window != 'undefined' && storage.getItem(config.tokenName) != null) {\n\t\t\t\t\t\t//Clear session storage\n\t\t\t\t\t\tstorage.clear();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconsole.error('[MatterClient.logout()] Error logging out: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\n\t\tgetCurrentUser() {\n\t\t\t//TODO: Check Current user variable\n\t\t\treturn request.get(config.serverUrl + '/user', {\n\t\t\t}).then(function(response) {\n\t\t\t\t//TODO: Save user information locally\n\t\t\t\tconsole.log('[MatterClient.getCurrentUser()] Current User:', response);\n\t\t\t\tuser = response;\n\t\t\t\treturn user;\n\t\t\t})['catch'](function(errRes) {\n\t\t\t\tconsole.error('[MatterClient.getCurrentUser()] Error getting current user: ', errRes);\n\t\t\t\treturn Promise.reject(errRes);\n\t\t\t});\n\t\t}\n\n\t\tgetAuthToken() {\n\t\t\tif (typeof window == 'undefined' || typeof storage.getItem(config.tokenName) == 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn storage.getItem(config.tokenName);\n\t\t}\n\t\t//TODO: Use getter/setter to make this not a function\n\t\t//Start a new AppsAction\n\t\tget apps() {\n\t\t\tconsole.log('New AppsAction:', new AppsAction());\n\t\t\treturn new AppsAction();\n\t\t}\n\t\t//Start a new app action\n\t\tapp(appName) {\n\t\t\tconsole.log('New AppAction:', new AppAction(appName));\n\t\t\treturn new AppAction(appName);\n\t\t}\n\n\t\tget users() {\n\t\t\treturn new UsersAction();\n\t\t}\n\t\tuser(username) {\n\t\t\treturn new UserAction(username);\n\t\t}\n\t};\n\n\treturn MatterClient;\n\n}));"],"sourceRoot":"/source/"}