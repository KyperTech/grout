{"version":3,"sources":["matter-client.js","src/matter-client.js"],"names":[],"mappings":"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","file":"matter-client.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('firebase'), require('axios')) :\n\ttypeof define === 'function' && define.amd ? define(['firebase', 'axios'], factory) :\n\tglobal.MatterClient = factory(global.Firebase, global.axios)\n}(this, function (Firebase, axios) { 'use strict';\n\n\tconst serverUrl = 'http://hypercube.elasticbeanstalk.com';\n\tconst fbUrl = 'https://pruvit.firebaseio.com';\n\tconst tokenName = 'matter-client';\n\n\tlet matter_client__user;\n\tlet matter_client__token;\n\n\tif (typeof Firebase == 'undefined') {\n\t\tconsole.error('Firebase is required to use file structure functionality of matter-client');\n\t}\n\t//TODO: Replace dependency on axios with vanilla solution\n\tif (typeof axios == 'undefined') {\n\t\tconsole.error('Axios is required to use Matter');\n\t} else {\n\t\t// Add a request interceptor\n\t\taxios.interceptors.request.use(function(config) {\n\t\t\t// Do something before request is sent\n\t\t\t//TODO: Handle there already being headers\n\t\t\tif (localStorage.getItem(tokenName)) {\n\t\t\t\tconfig.headers = {'Authorization': 'Bearer ' + localStorage.getItem(tokenName)};\n\t\t\t\tconsole.log('Set auth header through interceptor');\n\t\t\t}\n\t\t\treturn config;\n\t\t}, function(error) {\n\t\t\t// Do something with request error\n\t\t\treturn Promise.reject(error);\n\t\t});\n\t}\n\n\tclass MatterClient {\n\t\tsignup(signupData) {\n\t\t\treturn axios.post(serverUrl + '/signup', signupData)\n\t\t\t.then(function(response) {\n\t\t\t  console.log(response);\n\t\t\t})\n\t\t\t['catch'](function(errRes) {\n\t\t\t  console.error('[signup()] Error signing up:', errRes);\n\t\t\t  return errRes;\n\t\t\t});\n\t\t}\n\n\t\tlogin(loginData) {\n\t\t\tif (!loginData || !loginData.password || !loginData.username) {\n\t\t\t\tconsole.error('Username/Email and Password are required to login');\n\t\t\t}\n\t\t\treturn axios.put(serverUrl + '/login', loginData)\n\t\t\t.then(function(response) {\n\t\t\t\t//TODO: Save token locally\n\t\t\t\tconsole.log(response);\n\t\t\t\tmatter_client__token = response.data.token;\n\t\t\t\tif (window.localStorage.getItem(tokenName) === null) {\n\t\t\t\t\twindow.localStorage.setItem(tokenName, response.data.token);\n\t\t\t\t\tconsole.log('token set to storage:', window.localStorage.getItem(tokenName));\n\t\t\t\t}\n\t\t\t\treturn response.data;\n\t\t\t})['catch'](function(errRes) {\n\t\t\t\tconsole.error('[login()] Error logging in: ', errRes);\n\t\t\t\treturn errRes;\n\t\t\t});\n\t\t}\n\n\t\tlogout() {\n\t\t\treturn axios.put(serverUrl + '/logout', {\n\t\t\t}).then(function(response) {\n\t\t\t  console.log('[logout()] Logout successful: ', response);\n\t\t\t  if (typeof window != 'undefined' && typeof window.localStorage.getItem(tokenName) != null) {\n\t\t\t\t\twindow.localStorage.setItem(tokenName, null);\n\t\t\t\t}\n\t\t\t  return response.body;\n\t\t\t})['catch'](function(errRes) {\n\t\t\t  console.error('[logout()] Error logging out: ', errRes);\n\t\t\t  return errRes;\n\t\t\t});\n\t\t}\n\n\t\tgetCurrentUser() {\n\t\t\t//TODO: Check Current user variable\n\t\t\treturn axios.get(serverUrl + '/user', {\n\t\t\t}).then(function(response) {\n\t\t\t\t//TODO: Save user information locally\n\t\t\t\tconsole.log('[getCurrentUser()] Current User:', response.data);\n\t\t\t\tmatter_client__user = response.data;\n\t\t\t\treturn matter_client__user;\n\t\t\t})['catch'](function(errRes) {\n\t\t\t\tconsole.error('[getCurrentUser()] Error getting current user: ', errRes);\n\t\t\t\treturn errRes;\n\t\t\t});\n\t\t}\n\n\t\tgetAuthToken() {\n\t\t\t//TODO: Load token from storage\n\t\t\tif (typeof window == 'undefined' || typeof window.localStorage.getItem(tokenName) == 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn window.localStorage.getItem(tokenName);\n\t\t}\n\n\t\tgetApps() {\n\t\t\t//TODO:Set authentication header\n\t\t\treturn axios.get(serverUrl + '/apps', {\n\t\t\t}).then(function(response) {\n\t\t\t  console.log('[getApps()] Apps:', response.data);\n\t\t\t  return response.data;\n\t\t\t})['catch'](function(errRes) {\n\t\t\t  console.error('[getApps()] Error getting apps list: ', errRes);\n\t\t\t\treturn errRes;\n\t\t\t});\n\t\t}\n\n\t};\n\n\tvar matter_client = MatterClient;\n\n\treturn matter_client;\n\n}));\n","import Firebase from 'firebase';\nimport axios from 'axios';\n\nconst serverUrl = 'http://hypercube.elasticbeanstalk.com';\nconst fbUrl = 'https://pruvit.firebaseio.com';\nconst tokenName = 'matter-client';\n\nlet user;\nlet token;\n\nif (typeof Firebase == 'undefined') {\n\tconsole.error('Firebase is required to use file structure functionality of matter-client');\n}\n//TODO: Replace dependency on axios with vanilla solution\nif (typeof axios == 'undefined') {\n\tconsole.error('Axios is required to use Matter');\n} else {\n\t// Add a request interceptor\n\taxios.interceptors.request.use(function(config) {\n\t\t// Do something before request is sent\n\t\t//TODO: Handle there already being headers\n\t\tif (localStorage.getItem(tokenName)) {\n\t\t\tconfig.headers = {'Authorization': 'Bearer ' + localStorage.getItem(tokenName)};\n\t\t\tconsole.log('Set auth header through interceptor');\n\t\t}\n\t\treturn config;\n\t}, function(error) {\n\t\t// Do something with request error\n\t\treturn Promise.reject(error);\n\t});\n}\n\nclass MatterClient {\n\tsignup(signupData) {\n\t\treturn axios.post(serverUrl + '/signup', signupData)\n\t\t.then(function(response) {\n\t\t  console.log(response);\n\t\t})\n\t\t['catch'](function(errRes) {\n\t\t  console.error('[signup()] Error signing up:', errRes);\n\t\t  return errRes;\n\t\t});\n\t}\n\n\tlogin(loginData) {\n\t\tif (!loginData || !loginData.password || !loginData.username) {\n\t\t\tconsole.error('Username/Email and Password are required to login');\n\t\t}\n\t\treturn axios.put(serverUrl + '/login', loginData)\n\t\t.then(function(response) {\n\t\t\t//TODO: Save token locally\n\t\t\tconsole.log(response);\n\t\t\ttoken = response.data.token;\n\t\t\tif (window.localStorage.getItem(tokenName) === null) {\n\t\t\t\twindow.localStorage.setItem(tokenName, response.data.token);\n\t\t\t\tconsole.log('token set to storage:', window.localStorage.getItem(tokenName));\n\t\t\t}\n\t\t\treturn response.data;\n\t\t})['catch'](function(errRes) {\n\t\t\tconsole.error('[login()] Error logging in: ', errRes);\n\t\t\treturn errRes;\n\t\t});\n\t}\n\n\tlogout() {\n\t\treturn axios.put(serverUrl + '/logout', {\n\t\t}).then(function(response) {\n\t\t  console.log('[logout()] Logout successful: ', response);\n\t\t  if (typeof window != 'undefined' && typeof window.localStorage.getItem(tokenName) != null) {\n\t\t\t\twindow.localStorage.setItem(tokenName, null);\n\t\t\t}\n\t\t  return response.body;\n\t\t})['catch'](function(errRes) {\n\t\t  console.error('[logout()] Error logging out: ', errRes);\n\t\t  return errRes;\n\t\t});\n\t}\n\n\tgetCurrentUser() {\n\t\t//TODO: Check Current user variable\n\t\treturn axios.get(serverUrl + '/user', {\n\t\t}).then(function(response) {\n\t\t\t//TODO: Save user information locally\n\t\t\tconsole.log('[getCurrentUser()] Current User:', response.data);\n\t\t\tuser = response.data;\n\t\t\treturn user;\n\t\t})['catch'](function(errRes) {\n\t\t\tconsole.error('[getCurrentUser()] Error getting current user: ', errRes);\n\t\t\treturn errRes;\n\t\t});\n\t}\n\n\tgetAuthToken() {\n\t\t//TODO: Load token from storage\n\t\tif (typeof window == 'undefined' || typeof window.localStorage.getItem(tokenName) == 'undefined') {\n\t\t\treturn null;\n\t\t}\n\t\treturn window.localStorage.getItem(tokenName);\n\t}\n\n\tgetApps() {\n\t\t//TODO:Set authentication header\n\t\treturn axios.get(serverUrl + '/apps', {\n\t\t}).then(function(response) {\n\t\t  console.log('[getApps()] Apps:', response.data);\n\t\t  return response.data;\n\t\t})['catch'](function(errRes) {\n\t\t  console.error('[getApps()] Error getting apps list: ', errRes);\n\t\t\treturn errRes;\n\t\t});\n\t}\n\n};\n\nexport default MatterClient;\n\n"],"sourceRoot":"/source/"}